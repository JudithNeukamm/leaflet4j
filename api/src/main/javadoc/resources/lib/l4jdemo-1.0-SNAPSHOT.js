(function() {bck2brwsr.register({magic:"kaf\u00ed\u010dko",classpath:"lib/net.java.html-1.1.jar lib/net.java.html.json-1.1.jar lib/net.java.html.boot-1.1.jar lib/net.java.html.sound-1.1.jar lib/ko4j-1.1.jar lib/leaflet4j-1.0-SNAPSHOT.jar lib/net.java.html.boot.fx-1.1.jar".split(" ")},function(g){function e(b,c){return function(){var f=b.replace__Ljava_lang_String_2CC("/","_").toString(),a=b.replace__Ljava_lang_String_2CC("/",".").toString();g.loadClass(a);c(g[f]);return g[f](arguments)}}var b={},c={};b.java_lang_Object=
e("java/lang/Object",function(c){b.java_lang_Object=c});b.java_lang_Class=e("java/lang/Class",function(c){b.java_lang_Class=c});b.java_lang_ArithmeticException=e("java/lang/ArithmeticException",function(c){b.java_lang_ArithmeticException=c});b.org_apidesign_vm4brwsr_VM=e("org/apidesign/vm4brwsr/VM",function(c){b.org_apidesign_vm4brwsr_VM=c});b.org_apidesign_html_demo_l4jdemo_ExampleCustomLayer=function k(){var c;if(!k.$class){var a=function(a){Object.defineProperty(a,"$instOf_org_apidesign_html_demo_l4jdemo_ExampleCustomLayer",
{value:!0})};c=b.java_lang_Object(!0);var d=k.prototype=c,h=c.constructor.$class;c=k.cons__V=function(){(l||(l=b.java_lang_Object(!1))).constructor.cons__V.call(this)};k.cons__V=c;c.access=1;c.cls=k;d.constructor=k;d.hasOwnProperty("fillInstOf")||Object.defineProperty(d,"fillInstOf",{value:a});a(d);k.$class="temp";k.$class=b.java_lang_Class(!0);k.$class.jvmName="org/apidesign/html/demo/l4jdemo/ExampleCustomLayer";k.$class.superclass=h;k.$class.interfaces=function(){return[]};k.$class.access=33;k.$class.cnstr=
k;var l}return 0===arguments.length?this instanceof k?this:new k:arguments[0]?new k:k.prototype};g.org_apidesign_html_demo_l4jdemo_ExampleCustomLayer=b.org_apidesign_html_demo_l4jdemo_ExampleCustomLayer;b.org_apidesign_html_demo_l4jdemo_Main$1=function f(){var a;if(!f.$class){var d=function(a){Object.defineProperty(a,"$instOf_org_apidesign_html_demo_l4jdemo_Main$1",{value:!0});b.net_java_html_leaflet_event_MouseListener(!1).fillInstOf(a)};a=b.java_lang_Object(!0);var h=f.prototype=a,l=a.constructor.$class;
a=h._val$map=function(a){1==arguments.length&&(this.fld_org_apidesign_html_demo_l4jdemo_Main$1_val$map=a);return this.fld_org_apidesign_html_demo_l4jdemo_Main$1_val$map};a=f.cons__VLnet_java_html_leaflet_Map_2=function(a){h._val$map.call(this,a);(e||(e=b.java_lang_Object(!1))).constructor.cons__V.call(this)};a.access=0;a.cls=f;a=h.onEvent__VLnet_java_html_leaflet_event_MouseEvent_2=function(a){var d=new b.net_java_html_leaflet_PopupOptions;(g||(g=b.net_java_html_leaflet_PopupOptions(!1))).constructor.cons__V.call(d);
var f=d=c.setMaxWidth__Lnet_java_html_leaflet_PopupOptions_2I(d,400),d=new b.net_java_html_leaflet_Popup;(p||(p=b.net_java_html_leaflet_Popup(!1))).constructor.cons__VLnet_java_html_leaflet_PopupOptions_2.call(d,f);d=f=d;a=c.getLatLng__Lnet_java_html_leaflet_LatLng_2(a);c.setLatLng__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2(d,a);c.setContent__Lnet_java_html_leaflet_Popup_2Ljava_lang_String_2(f,"The Leaflet API for Java has been created here!");c.openOn__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2(f,
h._val$map.call(this))};a.access=1;a.cls=f;a=h.onEvent__VLnet_java_html_leaflet_event_Event_2=function(a){null===a||a.$instOf_net_java_html_leaflet_event_MouseEvent||b.java_lang_Class(!1).castEx();this.onEvent__VLnet_java_html_leaflet_event_MouseEvent_2(a)};h.onEvent__VLnet_java_html_leaflet_event_Event_2=a;a.access=4161;a.cls=f;h.constructor=f;h.hasOwnProperty("fillInstOf")||Object.defineProperty(h,"fillInstOf",{value:d});d(h);f.$class="temp";f.$class=b.java_lang_Class(!0);f.$class.jvmName="org/apidesign/html/demo/l4jdemo/Main$1";
f.$class.superclass=l;f.$class.interfaces=function(){return[b.net_java_html_leaflet_event_MouseListener(!1).constructor.$class]};f.$class.access=48;f.$class.cnstr=f;var e,g,p}if(0===arguments.length){if(!(this instanceof f))return new f;this.fld_org_apidesign_html_demo_l4jdemo_Main$1_val$map=null;return this}return arguments[0]?new f:f.prototype};b.net_java_html_leaflet_event_MouseListener=e("net/java/html/leaflet/event/MouseListener",function(c){b.net_java_html_leaflet_event_MouseListener=c});b.net_java_html_leaflet_Popup=
e("net/java/html/leaflet/Popup",function(c){b.net_java_html_leaflet_Popup=c});b.net_java_html_leaflet_PopupOptions=e("net/java/html/leaflet/PopupOptions",function(c){b.net_java_html_leaflet_PopupOptions=c});b.org_apidesign_html_demo_l4jdemo_Main=function a(){var d;if(!a.$class){var h=function(a){Object.defineProperty(a,"$instOf_org_apidesign_html_demo_l4jdemo_Main",{value:!0})};d=b.java_lang_Object(!0);var e=a.prototype=d,g=d.constructor.$class;d=a.cons__V=function(){(t||(t=b.java_lang_Object(!1))).constructor.cons__V.call(this)};
d.access=2;d.cls=a;d=e.main__V_3Ljava_lang_String_2=function(a){var d=Array.prototype.newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I(!1,"[Ljava/lang/Object;",b.java_lang_Object,0),d=(p||(p=b.net_java_html_boot_BrowserBuilder(!1))).newBrowser__Lnet_java_html_boot_BrowserBuilder_2_3Ljava_lang_Object_2(d),d=c.loadPage__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_String_2(d,"pages/index.html"),d=c.loadClass__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_Class_2(d,e.constructor.$class),
d=c.invoke__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_String_2_3Ljava_lang_String_2(d,"onPageLoad",a);c.showAndWait__V(d);(q||(q=b.java_lang_System(!1))).exit__VI(0)};e.main__V_3Ljava_lang_String_2=d;d.access=137;d.cls=a;d=e.onPageLoad__V=function(){var a=new b.net_java_html_leaflet_MapOptions;(r||(r=b.net_java_html_leaflet_MapOptions(!1))).constructor.cons__V.call(a);var d=new b.net_java_html_leaflet_LatLng;(n||(n=b.net_java_html_leaflet_LatLng(!1))).constructor.cons__VDD.call(d,48.336614,14.319305);
var a=c.setCenter__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLng_2(a,d),h=a=c.setZoom__Lnet_java_html_leaflet_MapOptions_2I(a,15),a=new b.net_java_html_leaflet_Map;(u||(u=b.net_java_html_leaflet_Map(!1))).constructor.cons__VLjava_lang_String_2Lnet_java_html_leaflet_MapOptions_2.call(a,"map",h);h=a;a=new b.net_java_html_leaflet_TileLayerOptions;(v||(v=b.net_java_html_leaflet_TileLayerOptions(!1))).constructor.cons__V.call(a);d=a;c.setAttribution__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2(d,
"Map data &copy; <a href='http://www.thunderforest.com/opencyclemap/'>OpenCycleMap</a> contributors, <a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>, Imagery \u00a9 <a href='http://www.thunderforest.com/'>Thunderforest</a>");c.setMaxZoom__Lnet_java_html_leaflet_TileLayerOptions_2I(d,18);a=new b.net_java_html_leaflet_TileLayer;(w||(w=b.net_java_html_leaflet_TileLayer(!1))).constructor.cons__VLjava_lang_String_2Lnet_java_html_leaflet_TileLayerOptions_2.call(a,"http://{s}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png",
d);c.addLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2(h,a);var d=a=new b.net_java_html_leaflet_Polygon,e=Array.prototype.newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I(!1,"[Lnet/java/html/leaflet/LatLng;",b.net_java_html_leaflet_LatLng,4),g=e,l=0,m=new b.net_java_html_leaflet_LatLng;(n||(n=b.net_java_html_leaflet_LatLng(!1))).constructor.cons__VDD.call(m,48.335067,14.32066);Array.at(g,l,m);g=e;l=1;m=new b.net_java_html_leaflet_LatLng;(n||(n=b.net_java_html_leaflet_LatLng(!1))).constructor.cons__VDD.call(m,
48.337335,14.323642);Array.at(g,l,m);g=e;l=2;m=new b.net_java_html_leaflet_LatLng;(n||(n=b.net_java_html_leaflet_LatLng(!1))).constructor.cons__VDD.call(m,48.335238,14.328942);Array.at(g,l,m);g=e;l=3;m=new b.net_java_html_leaflet_LatLng;(n||(n=b.net_java_html_leaflet_LatLng(!1))).constructor.cons__VDD.call(m,48.333883,14.327612);Array.at(g,l,m);(x||(x=b.net_java_html_leaflet_Polygon(!1))).constructor.cons__V_3Lnet_java_html_leaflet_LatLng_2.call(d,e);a=g=a;d=(y||(y=b.net_java_html_leaflet_event_MouseEvent$Type(!1)))._CLICK();
e=new b.org_apidesign_html_demo_l4jdemo_Main$1;(z||(z=b.org_apidesign_html_demo_l4jdemo_Main$1(!1))).constructor.cons__VLnet_java_html_leaflet_Map_2.call(e,h);c.addMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2(a,d,e);c.addLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2(h,g)};e.onPageLoad__V=d;d.access=9;d.cls=a;e.constructor=a;e.hasOwnProperty("fillInstOf")||Object.defineProperty(e,"fillInstOf",
{value:h});h(e);a.$class="temp";a.$class=b.java_lang_Class(!0);a.$class.jvmName="org/apidesign/html/demo/l4jdemo/Main";a.$class.superclass=g;a.$class.interfaces=function(){return[]};a.$class.access=49;a.$class.cnstr=a;var t,p,q,r,n,u,v,w,x,y,z}return 0===arguments.length?this instanceof a?this:new a:arguments[0]?new a:a.prototype};g.org_apidesign_html_demo_l4jdemo_Main=b.org_apidesign_html_demo_l4jdemo_Main;b.net_java_html_leaflet_event_MouseEvent$Type=e("net/java/html/leaflet/event/MouseEvent$Type",
function(a){b.net_java_html_leaflet_event_MouseEvent$Type=a});b.net_java_html_leaflet_Polygon=e("net/java/html/leaflet/Polygon",function(a){b.net_java_html_leaflet_Polygon=a});b.net_java_html_leaflet_TileLayer=e("net/java/html/leaflet/TileLayer",function(a){b.net_java_html_leaflet_TileLayer=a});b.net_java_html_leaflet_TileLayerOptions=e("net/java/html/leaflet/TileLayerOptions",function(a){b.net_java_html_leaflet_TileLayerOptions=a});b.net_java_html_leaflet_Map=e("net/java/html/leaflet/Map",function(a){b.net_java_html_leaflet_Map=
a});b.net_java_html_leaflet_LatLng=e("net/java/html/leaflet/LatLng",function(a){b.net_java_html_leaflet_LatLng=a});b.net_java_html_leaflet_MapOptions=e("net/java/html/leaflet/MapOptions",function(a){b.net_java_html_leaflet_MapOptions=a});b.java_lang_System=e("java/lang/System",function(a){b.java_lang_System=a});b.net_java_html_boot_BrowserBuilder=e("net/java/html/boot/BrowserBuilder",function(a){b.net_java_html_boot_BrowserBuilder=a});c.setMaxWidth__Lnet_java_html_leaflet_PopupOptions_2I=function(a,
b,c){return a.setMaxWidth__Lnet_java_html_leaflet_PopupOptions_2I(b,c)};c.getLatLng__Lnet_java_html_leaflet_LatLng_2=function(a,b){return a.getLatLng__Lnet_java_html_leaflet_LatLng_2(b)};c.setLatLng__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2=function(a,b,c){return a.setLatLng__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2(b,c)};c.setContent__Lnet_java_html_leaflet_Popup_2Ljava_lang_String_2=function(a,b,c){return a.setContent__Lnet_java_html_leaflet_Popup_2Ljava_lang_String_2(b,
c)};c.openOn__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2=function(a,b,c){return a.openOn__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2(b,c)};c.loadPage__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_String_2=function(a,b,c){return a.loadPage__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_String_2(b,c)};c.loadClass__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_Class_2=function(a,b,c){return a.loadClass__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_Class_2(b,c)};
c.invoke__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_String_2_3Ljava_lang_String_2=function(a,b,c,e){return a.invoke__Lnet_java_html_boot_BrowserBuilder_2Ljava_lang_String_2_3Ljava_lang_String_2(b,c,e)};c.showAndWait__V=function(a,b){return a.showAndWait__V(b)};c.setCenter__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLng_2=function(a,b,c){return a.setCenter__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLng_2(b,c)};c.setZoom__Lnet_java_html_leaflet_MapOptions_2I=
function(a,b,c){return a.setZoom__Lnet_java_html_leaflet_MapOptions_2I(b,c)};c.setAttribution__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2=function(a,b,c){return a.setAttribution__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2(b,c)};c.setMaxZoom__Lnet_java_html_leaflet_TileLayerOptions_2I=function(a,b,c){return a.setMaxZoom__Lnet_java_html_leaflet_TileLayerOptions_2I(b,c)};c.addLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2=function(a,b,c){return a.addLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2(b,
c)};c.addMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2=function(a,b,c,e){return a.addMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2(b,c,e)};g.registerResource("META-INF/MANIFEST.MF","TWFuaWZlc3QtVmVyc2lvbjogMS4wDQpCbmQtTGFzdE1vZGlmaWVkOiAxNDMwOTM0NzA3MTMzDQpCdWlsZC1KZGs6IDEuOC4wXzQwDQpCdWlsdC1CeTogamFyZGENCkJ1bmRsZS1Eb2NVUkw6IGh0dHA6Ly9hcGlkZXNpZ24ub3JnDQpCdW5kbGUtTGljZW5zZTogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocA0KQnVuZGxlLU1hbmlmZXN0VmVyc2lvbjogMg0KQnVuZGxlLU5hbWU6IExlYWZsZXQgRGVtbyBDbGllbnQgQ29kZQ0KQnVuZGxlLVN5bWJvbGljTmFtZTogb3JnLmFwaWRlc2lnbi5odG1sLmRlbW8ubDRqZGVtbw0KQnVuZGxlLVZlbmRvcjogQVBJIERlc2lnbg0KQnVuZGxlLVZlcnNpb246IDEuMC4wLlNOQVBTSE9UDQpDbGFzcy1QYXRoOiBsaWIvbmV0LmphdmEuaHRtbC0xLjEuamFyIGxpYi9uZXQuamF2YS5odG1sLmpzb24tMS4xLmphciBsaWINCiAvbmV0LmphdmEuaHRtbC5ib290LTEuMS5qYXIgbGliL25ldC5qYXZhLmh0bWwuc291bmQtMS4xLmphciBsaWIva280ai0xLg0KIDEuamFyIGxpYi9sZWFmbGV0NGotMS4wLVNOQVBTSE9ULmphciBsaWIvbmV0LmphdmEuaHRtbC5ib290LmZ4LTEuMS5qYXINCkNyZWF0ZWQtQnk6IEFwYWNoZSBNYXZlbiBCdW5kbGUgUGx1Z2luDQpFeHBvcnQtUGFja2FnZTogb3JnLmFwaWRlc2lnbi5odG1sLmRlbW8ubDRqZGVtbzt2ZXJzaW9uPSIxLjAuMC5TTkFQU0hPVCINCkltcG9ydC1QYWNrYWdlOiBuZXQuamF2YS5odG1sLmJvb3Q7dmVyc2lvbj0iWzEuMSwyKSIsbmV0LmphdmEuaHRtbC5sZWFmbA0KIGV0O3ZlcnNpb249IlsxLjAsMikiLG5ldC5qYXZhLmh0bWwubGVhZmxldC5ldmVudDt2ZXJzaW9uPSJbMS4wLDIpIg0KTWFpbi1DbGFzczogb3JnLmFwaWRlc2lnbi5odG1sLmRlbW8ubDRqZGVtby5NYWluDQpUb29sOiBCbmQtMi4xLjAuMjAxMzA0MjYtMTIyMjEzDQo=");
g.registerResource("org/apidesign/html/demo/leaflet/customLayer.js","LyoKICogVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqCiAqIENvcHlyaWdodCAoQykgMjAxNSBBbmRyZWFzIEdyaW1tZXIgPGEuZ3JpbW1lckBnbXguYXQ+CiAqIENocmlzdG9waCBTcGVybCA8Y2guc3BlcmxAZ214LmF0PgogKiBTdGVmYW4gV3VyemluZ2VyIDxzd3VyemluZ2VyQGdteC5hdD4KICoKICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQogKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiAqCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUKICogU09GVFdBUkUuCiAqLwoKdmFyIEV4YW1wbGVDdXN0b21MYXllciA9IEwuQ2xhc3MuZXh0ZW5kKHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIGltZ3VybCkgewogICAgICAgIC8vIHNhdmUgcG9zaXRpb24gb2YgdGhlIGxheWVyIG9yIGFueSBvcHRpb25zIGZyb20gdGhlIGNvbnN0cnVjdG9yCiAgICAgICAgdGhpcy5fbGF0bG5nID0gbGF0bG5nOwogICAgICAgIHRoaXMuX2ltZ3VybCA9IGltZ3VybDsKICAgIH0sCiAgICBvbkFkZDogZnVuY3Rpb24gKG1hcCkgewogICAgICAgIHRoaXMuX21hcCA9IG1hcDsKCiAgICAgICAgLy8gY3JlYXRlIGEgRE9NIGVsZW1lbnQgYW5kIHB1dCBpdCBpbnRvIG9uZSBvZiB0aGUgbWFwIHBhbmVzCiAgICAgICAgdGhpcy5fZWwgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC16b29tLWhpZGUnKTsKICAgICAgICB0aGlzLl9lbC5pbm5lckhUTUwgPSAiPGltZyBzcmM9XCIiICsgdGhpcy5faW1ndXJsICsgIlwiIGFsdD1cIkljb25cIiAvPiI7CiAgICAgICAgbWFwLmdldFBhbmVzKCkub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fZWwpOwoKICAgICAgICAvLyBhZGQgYSB2aWV3cmVzZXQgZXZlbnQgbGlzdGVuZXIgZm9yIHVwZGF0aW5nIGxheWVyJ3MgcG9zaXRpb24sIGRvIHRoZSBsYXR0ZXIKICAgICAgICBtYXAub24oJ3ZpZXdyZXNldCcsIHRoaXMuX3Jlc2V0LCB0aGlzKTsKICAgICAgICB0aGlzLl9yZXNldCgpOwogICAgfSwKICAgIG9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7CiAgICAgICAgLy8gcmVtb3ZlIGxheWVyJ3MgRE9NIGVsZW1lbnRzIGFuZCBsaXN0ZW5lcnMKICAgICAgICBtYXAuZ2V0UGFuZXMoKS5vdmVybGF5UGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9lbCk7CiAgICAgICAgbWFwLm9mZigndmlld3Jlc2V0JywgdGhpcy5fcmVzZXQsIHRoaXMpOwogICAgfSwKICAgIF9yZXNldDogZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHVwZGF0ZSBsYXllcidzIHBvc2l0aW9uCiAgICAgICAgdmFyIHBvcyA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKTsKICAgICAgICBMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsIHBvcyk7CiAgICB9Cn0pOw==")});})(this);
