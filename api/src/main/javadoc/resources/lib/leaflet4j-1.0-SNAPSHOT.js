bck2brwsr.register({
  'magic' : 'kafíčko'
}, function(exports) {
  var vm = {};
  function link(n, assign) {
    return function() {
      var cls = n['replace__Ljava_lang_String_2CC']('/', '_').toString();
      var dot = n['replace__Ljava_lang_String_2CC']('/', '.').toString();
      exports.loadClass(dot);
      assign(exports[cls]);
      return exports[cls](arguments);
    };
  };

  var invoker = {};
vm.java_lang_Object = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Object;
  return link('java/lang/Object', function(f) { vm.java_lang_Object = f;})(instance);
}
vm.java_lang_Class = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Class;
  return link('java/lang/Class', function(f) { vm.java_lang_Class = f;})(instance);
}
vm.java_lang_ArithmeticException = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_ArithmeticException;
  return link('java/lang/ArithmeticException', function(f) { vm.java_lang_ArithmeticException = f;})(instance);
}
vm.org_apidesign_vm4brwsr_VM = link('org/apidesign/vm4brwsr/VM', function(f) { vm.org_apidesign_vm4brwsr_VM =  f; });

vm.net_java_html_leaflet_$JsCallbacks$ = function net_java_html_leaflet_$JsCallbacks$() {
  var m;
  var CLS = net_java_html_leaflet_$JsCallbacks$;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_VM = null;
  m = c._VM = function (v) {  if (arguments.length == 1) CLS.fld_VM = v; return CLS.fld_VM; };
  m = c._p = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_$JsCallbacks$_p = v; return this.fld_net_java_html_leaflet_$JsCallbacks$_p; };
  m = c._last = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_$JsCallbacks$_last = v; return this.fld_net_java_html_leaflet_$JsCallbacks$_last; };
    m = CLS.cons__VLorg_netbeans_html_boot_spi_Fn$Presenter_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._p.call(lcA0, lcA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.current__Lnet_java_html_leaflet_$JsCallbacks$_2 = function() {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {
var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activePresenter__Lorg_netbeans_html_boot_spi_Fn$Presenter_2']();
var lcA1 = stA0;
if ((lcA1) !== (c._p.call(lcA0))) { gt = 14; break IF; }
return lcA0;
    }
    X_14: for (;;) { IF: if (gt <= 14) {

if ((c._last.call(lcA0)) === null) { gt = 37; break IF; }
if ((lcA1) !== (c._p.call(c._last.call(lcA0)))) { gt = 37; break IF; }
return c._last.call(lcA0);
    }
    X_37: for (;;) { IF: if (gt <= 37) {

var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_$JsCallbacks$;
c.constructor.cons__VLorg_netbeans_html_boot_spi_Fn$Presenter_2.call(stA1, lcA1);
var stA2 = stA1, stA1 = stA0, stA0 = stA2;
c._last.call(stA1, stA2);
return stA0;

    }
}}}
};
    m.access = 16;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12DLnet_1java_1html_1leaflet_1event_1DragEndListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2DLjava_lang_Object_2 = function(lcA1, lcA2, lcD3, lcA5) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 50; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA5);
var lcA5 = stA0;
    }
    X_50: for (;;) { IF: if (gt <= 50) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA6 = stA0;
var lcA7 = null;
try {
if (lcA5 !== null && !lcA5['$instOf_net_java_html_leaflet_event_DragEndListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2DLnet_java_html_leaflet_event_DragEndListener_2(lcA1, lcA2, lcD3, lcA5);
var lcA8 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 118; break IF; }}
var stA0 = e;{ gt = 127; break IF; }
}
if ((lcA6) === null) { gt = 115; break IF; }
if ((lcA7) === null) { gt = 108; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 96; break IF; }}
throw e;
}{ gt = 115; break IF; }
    }
    X_96: for (;;) { IF: if (gt <= 96) {
var lcA9 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA9);
{ gt = 115; break IF; }
    }
    X_108: for (;;) { IF: if (gt <= 108) {

invoker.close__V(lcA6);
    }
    X_115: for (;;) { IF: if (gt <= 115) {

return lcA8;
    }
    X_118: for (;;) { IF: if (gt <= 118) {
try {var lcA8 = stA0;
var lcA7 = lcA8;
{ var stA0 = lcA8; throw lcA8; }
} catch (e) {
var stA0 = e;{ gt = 127; break IF; }
}    }
    X_127: for (;;) { IF: if (gt <= 127) {
try {var lcA10 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_127; }
}
if ((lcA6) === null) { gt = 168; break IF; }
if ((lcA7) === null) { gt = 161; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 149; break IF; }}
throw e;
}{ gt = 168; break IF; }
    }
    X_149: for (;;) { IF: if (gt <= 149) {
var lcA11 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA11);
{ gt = 168; break IF; }
    }
    X_161: for (;;) { IF: if (gt <= 161) {

invoker.close__V(lcA6);
    }
    X_168: for (;;) { IF: if (gt <= 168) {

{ var stA0 = lcA10; throw lcA10; }

    }
}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12DLnet_1java_1html_1leaflet_1event_1DragEndListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2DLjava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12DDDDDDLnet_1java_1html_1leaflet_1event_1LocationListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2DDDDDDLjava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcA4, lcD5, lcD7, lcD9, lcD11, lcD13, lcD15, lcA17) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 74; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA4);
var lcA4 = stA0;
    }
    X_74: for (;;) { IF: if (gt <= 74) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 100; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA17);
var lcA17 = stA0;
    }
    X_100: for (;;) { IF: if (gt <= 100) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA18 = stA0;
var lcA19 = null;
try {
if (lcA17 !== null && !lcA17['$instOf_net_java_html_leaflet_event_LocationListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2DDDDDDLnet_java_html_leaflet_event_LocationListener_2(lcA1, lcA2, lcA3, lcA4, lcD5, lcD7, lcD9, lcD11, lcD13, lcD15, lcA17);
var lcA20 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 182; break IF; }}
var stA0 = e;{ gt = 191; break IF; }
}
if ((lcA18) === null) { gt = 179; break IF; }
if ((lcA19) === null) { gt = 172; break IF; }
try {
invoker.close__V(lcA18);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 160; break IF; }}
throw e;
}{ gt = 179; break IF; }
    }
    X_160: for (;;) { IF: if (gt <= 160) {
var lcA21 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA19,lcA21);
{ gt = 179; break IF; }
    }
    X_172: for (;;) { IF: if (gt <= 172) {

invoker.close__V(lcA18);
    }
    X_179: for (;;) { IF: if (gt <= 179) {

return lcA20;
    }
    X_182: for (;;) { IF: if (gt <= 182) {
try {var lcA20 = stA0;
var lcA19 = lcA20;
{ var stA0 = lcA20; throw lcA20; }
} catch (e) {
var stA0 = e;{ gt = 191; break IF; }
}    }
    X_191: for (;;) { IF: if (gt <= 191) {
try {var lcA22 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_191; }
}
if ((lcA18) === null) { gt = 232; break IF; }
if ((lcA19) === null) { gt = 225; break IF; }
try {
invoker.close__V(lcA18);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 213; break IF; }}
throw e;
}{ gt = 232; break IF; }
    }
    X_213: for (;;) { IF: if (gt <= 213) {
var lcA23 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA19,lcA23);
{ gt = 232; break IF; }
    }
    X_225: for (;;) { IF: if (gt <= 225) {

invoker.close__V(lcA18);
    }
    X_232: for (;;) { IF: if (gt <= 232) {

{ var stA0 = lcA22; throw lcA22; }

    }
}}}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12DDDDDDLnet_1java_1html_1leaflet_1event_1LocationListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2DDDDDDLjava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1MouseListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcA4, lcA5, lcA6) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 74; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA4);
var lcA4 = stA0;
    }
    X_74: for (;;) { IF: if (gt <= 74) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 100; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA5);
var lcA5 = stA0;
    }
    X_100: for (;;) { IF: if (gt <= 100) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 126; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA6);
var lcA6 = stA0;
    }
    X_126: for (;;) { IF: if (gt <= 126) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA7 = stA0;
var lcA8 = null;
try {
if (lcA6 !== null && !lcA6['$instOf_net_java_html_leaflet_event_MouseListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_MouseListener_2(lcA1, lcA2, lcA3, lcA4, lcA5, lcA6);
var lcA9 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 198; break IF; }}
var stA0 = e;{ gt = 207; break IF; }
}
if ((lcA7) === null) { gt = 195; break IF; }
if ((lcA8) === null) { gt = 188; break IF; }
try {
invoker.close__V(lcA7);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 176; break IF; }}
throw e;
}{ gt = 195; break IF; }
    }
    X_176: for (;;) { IF: if (gt <= 176) {
var lcA10 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA8,lcA10);
{ gt = 195; break IF; }
    }
    X_188: for (;;) { IF: if (gt <= 188) {

invoker.close__V(lcA7);
    }
    X_195: for (;;) { IF: if (gt <= 195) {

return lcA9;
    }
    X_198: for (;;) { IF: if (gt <= 198) {
try {var lcA9 = stA0;
var lcA8 = lcA9;
{ var stA0 = lcA9; throw lcA9; }
} catch (e) {
var stA0 = e;{ gt = 207; break IF; }
}    }
    X_207: for (;;) { IF: if (gt <= 207) {
try {var lcA11 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_207; }
}
if ((lcA7) === null) { gt = 248; break IF; }
if ((lcA8) === null) { gt = 241; break IF; }
try {
invoker.close__V(lcA7);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 229; break IF; }}
throw e;
}{ gt = 248; break IF; }
    }
    X_229: for (;;) { IF: if (gt <= 229) {
var lcA12 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA8,lcA12);
{ gt = 248; break IF; }
    }
    X_241: for (;;) { IF: if (gt <= 241) {

invoker.close__V(lcA7);
    }
    X_248: for (;;) { IF: if (gt <= 248) {

{ var stA0 = lcA11; throw lcA11; }

    }
}}}}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1MouseListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1ResizeListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcA4, lcA5) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 74; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA4);
var lcA4 = stA0;
    }
    X_74: for (;;) { IF: if (gt <= 74) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 100; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA5);
var lcA5 = stA0;
    }
    X_100: for (;;) { IF: if (gt <= 100) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA6 = stA0;
var lcA7 = null;
try {
if (lcA5 !== null && !lcA5['$instOf_net_java_html_leaflet_event_ResizeListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_ResizeListener_2(lcA1, lcA2, lcA3, lcA4, lcA5);
var lcA8 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 170; break IF; }}
var stA0 = e;{ gt = 179; break IF; }
}
if ((lcA6) === null) { gt = 167; break IF; }
if ((lcA7) === null) { gt = 160; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 148; break IF; }}
throw e;
}{ gt = 167; break IF; }
    }
    X_148: for (;;) { IF: if (gt <= 148) {
var lcA9 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA9);
{ gt = 167; break IF; }
    }
    X_160: for (;;) { IF: if (gt <= 160) {

invoker.close__V(lcA6);
    }
    X_167: for (;;) { IF: if (gt <= 167) {

return lcA8;
    }
    X_170: for (;;) { IF: if (gt <= 170) {
try {var lcA8 = stA0;
var lcA7 = lcA8;
{ var stA0 = lcA8; throw lcA8; }
} catch (e) {
var stA0 = e;{ gt = 179; break IF; }
}    }
    X_179: for (;;) { IF: if (gt <= 179) {
try {var lcA10 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_179; }
}
if ((lcA6) === null) { gt = 220; break IF; }
if ((lcA7) === null) { gt = 213; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 201; break IF; }}
throw e;
}{ gt = 220; break IF; }
    }
    X_201: for (;;) { IF: if (gt <= 201) {
var lcA11 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA11);
{ gt = 220; break IF; }
    }
    X_213: for (;;) { IF: if (gt <= 213) {

invoker.close__V(lcA6);
    }
    X_220: for (;;) { IF: if (gt <= 220) {

{ var stA0 = lcA10; throw lcA10; }

    }
}}}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1ResizeListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1String_12Lnet_1java_1html_1leaflet_1event_1TileListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcA4, lcA5) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 74; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA5);
var lcA5 = stA0;
    }
    X_74: for (;;) { IF: if (gt <= 74) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA6 = stA0;
var lcA7 = null;
try {
if (lcA5 !== null && !lcA5['$instOf_net_java_html_leaflet_event_TileListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_TileListener_2(lcA1, lcA2, lcA3, lcA4, lcA5);
var lcA8 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 144; break IF; }}
var stA0 = e;{ gt = 153; break IF; }
}
if ((lcA6) === null) { gt = 141; break IF; }
if ((lcA7) === null) { gt = 134; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 122; break IF; }}
throw e;
}{ gt = 141; break IF; }
    }
    X_122: for (;;) { IF: if (gt <= 122) {
var lcA9 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA9);
{ gt = 141; break IF; }
    }
    X_134: for (;;) { IF: if (gt <= 134) {

invoker.close__V(lcA6);
    }
    X_141: for (;;) { IF: if (gt <= 141) {

return lcA8;
    }
    X_144: for (;;) { IF: if (gt <= 144) {
try {var lcA8 = stA0;
var lcA7 = lcA8;
{ var stA0 = lcA8; throw lcA8; }
} catch (e) {
var stA0 = e;{ gt = 153; break IF; }
}    }
    X_153: for (;;) { IF: if (gt <= 153) {
try {var lcA10 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_153; }
}
if ((lcA6) === null) { gt = 194; break IF; }
if ((lcA7) === null) { gt = 187; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 175; break IF; }}
throw e;
}{ gt = 194; break IF; }
    }
    X_175: for (;;) { IF: if (gt <= 175) {
var lcA11 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA11);
{ gt = 194; break IF; }
    }
    X_187: for (;;) { IF: if (gt <= 187) {

invoker.close__V(lcA6);
    }
    X_194: for (;;) { IF: if (gt <= 194) {

{ var stA0 = lcA10; throw lcA10; }

    }
}}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1String_12Lnet_1java_1html_1leaflet_1event_1TileListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1LayerListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcA4) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 74; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA4);
var lcA4 = stA0;
    }
    X_74: for (;;) { IF: if (gt <= 74) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA5 = stA0;
var lcA6 = null;
try {
if (lcA4 !== null && !lcA4['$instOf_net_java_html_leaflet_event_LayerListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_LayerListener_2(lcA1, lcA2, lcA3, lcA4);
var lcA7 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 142; break IF; }}
var stA0 = e;{ gt = 151; break IF; }
}
if ((lcA5) === null) { gt = 139; break IF; }
if ((lcA6) === null) { gt = 132; break IF; }
try {
invoker.close__V(lcA5);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 120; break IF; }}
throw e;
}{ gt = 139; break IF; }
    }
    X_120: for (;;) { IF: if (gt <= 120) {
var lcA8 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA6,lcA8);
{ gt = 139; break IF; }
    }
    X_132: for (;;) { IF: if (gt <= 132) {

invoker.close__V(lcA5);
    }
    X_139: for (;;) { IF: if (gt <= 139) {

return lcA7;
    }
    X_142: for (;;) { IF: if (gt <= 142) {
try {var lcA7 = stA0;
var lcA6 = lcA7;
{ var stA0 = lcA7; throw lcA7; }
} catch (e) {
var stA0 = e;{ gt = 151; break IF; }
}    }
    X_151: for (;;) { IF: if (gt <= 151) {
try {var lcA9 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_151; }
}
if ((lcA5) === null) { gt = 192; break IF; }
if ((lcA6) === null) { gt = 185; break IF; }
try {
invoker.close__V(lcA5);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 173; break IF; }}
throw e;
}{ gt = 192; break IF; }
    }
    X_173: for (;;) { IF: if (gt <= 173) {
var lcA10 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA6,lcA10);
{ gt = 192; break IF; }
    }
    X_185: for (;;) { IF: if (gt <= 185) {

invoker.close__V(lcA5);
    }
    X_192: for (;;) { IF: if (gt <= 192) {

{ var stA0 = lcA9; throw lcA9; }

    }
}}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1LayerListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1PopupListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcA4) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 74; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA4);
var lcA4 = stA0;
    }
    X_74: for (;;) { IF: if (gt <= 74) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA5 = stA0;
var lcA6 = null;
try {
if (lcA4 !== null && !lcA4['$instOf_net_java_html_leaflet_event_PopupListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_PopupListener_2(lcA1, lcA2, lcA3, lcA4);
var lcA7 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 142; break IF; }}
var stA0 = e;{ gt = 151; break IF; }
}
if ((lcA5) === null) { gt = 139; break IF; }
if ((lcA6) === null) { gt = 132; break IF; }
try {
invoker.close__V(lcA5);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 120; break IF; }}
throw e;
}{ gt = 139; break IF; }
    }
    X_120: for (;;) { IF: if (gt <= 120) {
var lcA8 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA6,lcA8);
{ gt = 139; break IF; }
    }
    X_132: for (;;) { IF: if (gt <= 132) {

invoker.close__V(lcA5);
    }
    X_139: for (;;) { IF: if (gt <= 139) {

return lcA7;
    }
    X_142: for (;;) { IF: if (gt <= 142) {
try {var lcA7 = stA0;
var lcA6 = lcA7;
{ var stA0 = lcA7; throw lcA7; }
} catch (e) {
var stA0 = e;{ gt = 151; break IF; }
}    }
    X_151: for (;;) { IF: if (gt <= 151) {
try {var lcA9 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_151; }
}
if ((lcA5) === null) { gt = 192; break IF; }
if ((lcA6) === null) { gt = 185; break IF; }
try {
invoker.close__V(lcA5);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 173; break IF; }}
throw e;
}{ gt = 192; break IF; }
    }
    X_173: for (;;) { IF: if (gt <= 173) {
var lcA10 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA6,lcA10);
{ gt = 192; break IF; }
    }
    X_185: for (;;) { IF: if (gt <= 185) {

invoker.close__V(lcA5);
    }
    X_192: for (;;) { IF: if (gt <= 192) {

{ var stA0 = lcA9; throw lcA9; }

    }
}}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1PopupListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1String_12ILnet_1java_1html_1leaflet_1event_1ErrorListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2ILjava_lang_Object_2 = function(lcA1, lcA2, lcA3, lcI4, lcA5) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 50; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA5);
var lcA5 = stA0;
    }
    X_50: for (;;) { IF: if (gt <= 50) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA6 = stA0;
var lcA7 = null;
try {
if (lcA5 !== null && !lcA5['$instOf_net_java_html_leaflet_event_ErrorListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2ILnet_java_html_leaflet_event_ErrorListener_2(lcA1, lcA2, lcA3, lcI4, lcA5);
var lcA8 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 120; break IF; }}
var stA0 = e;{ gt = 129; break IF; }
}
if ((lcA6) === null) { gt = 117; break IF; }
if ((lcA7) === null) { gt = 110; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 98; break IF; }}
throw e;
}{ gt = 117; break IF; }
    }
    X_98: for (;;) { IF: if (gt <= 98) {
var lcA9 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA9);
{ gt = 117; break IF; }
    }
    X_110: for (;;) { IF: if (gt <= 110) {

invoker.close__V(lcA6);
    }
    X_117: for (;;) { IF: if (gt <= 117) {

return lcA8;
    }
    X_120: for (;;) { IF: if (gt <= 120) {
try {var lcA8 = stA0;
var lcA7 = lcA8;
{ var stA0 = lcA8; throw lcA8; }
} catch (e) {
var stA0 = e;{ gt = 129; break IF; }
}    }
    X_129: for (;;) { IF: if (gt <= 129) {
try {var lcA10 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_129; }
}
if ((lcA6) === null) { gt = 170; break IF; }
if ((lcA7) === null) { gt = 163; break IF; }
try {
invoker.close__V(lcA6);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 151; break IF; }}
throw e;
}{ gt = 170; break IF; }
    }
    X_151: for (;;) { IF: if (gt <= 151) {
var lcA11 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA7,lcA11);
{ gt = 170; break IF; }
    }
    X_163: for (;;) { IF: if (gt <= 163) {

invoker.close__V(lcA6);
    }
    X_170: for (;;) { IF: if (gt <= 170) {

{ var stA0 = lcA10; throw lcA10; }

    }
}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1String_12ILnet_1java_1html_1leaflet_1event_1ErrorListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2ILjava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Lnet_1java_1html_1leaflet_1event_1EventListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(lcA1, lcA2, lcA3) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 24; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA1);
var lcA1 = stA0;
    }
    X_24: for (;;) { IF: if (gt <= 24) {

var stI0 = c._p.call(lcA0) != null && c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript'] ? 1 : 0;
if ((stI0) == 0) { gt = 48; break IF; }
if (c._p.call(lcA0) !== null && !c._p.call(lcA0)['$instOf_org_netbeans_html_boot_spi_Fn$FromJavaScript']) vm.java_lang_Class(false).castEx();
var stA0 = invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2(c._p.call(lcA0),lcA3);
var lcA3 = stA0;
    }
    X_48: for (;;) { IF: if (gt <= 48) {

var stA0 = (refs_java_lang_Class || (refs_java_lang_Class = vm.java_lang_Class(false)))['activate__Ljava_io_Closeable_2Lorg_netbeans_html_boot_spi_Fn$Presenter_2'](c._p.call(lcA0));
var lcA4 = stA0;
var lcA5 = null;
try {
if (lcA3 !== null && !lcA3['$instOf_net_java_html_leaflet_event_EventListener']) vm.java_lang_Class(false).castEx();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).callListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(lcA1, lcA2, lcA3);
var lcA6 = null;
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 114; break IF; }}
var stA0 = e;{ gt = 123; break IF; }
}
if ((lcA4) === null) { gt = 111; break IF; }
if ((lcA5) === null) { gt = 104; break IF; }
try {
invoker.close__V(lcA4);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 92; break IF; }}
throw e;
}{ gt = 111; break IF; }
    }
    X_92: for (;;) { IF: if (gt <= 92) {
var lcA7 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA5,lcA7);
{ gt = 111; break IF; }
    }
    X_104: for (;;) { IF: if (gt <= 104) {

invoker.close__V(lcA4);
    }
    X_111: for (;;) { IF: if (gt <= 111) {

return lcA6;
    }
    X_114: for (;;) { IF: if (gt <= 114) {
try {var lcA6 = stA0;
var lcA5 = lcA6;
{ var stA0 = lcA6; throw lcA6; }
} catch (e) {
var stA0 = e;{ gt = 123; break IF; }
}    }
    X_123: for (;;) { IF: if (gt <= 123) {
try {var lcA8 = stA0;
} catch (e) {
var stA0 = e;{ gt = 0; continue X_123; }
}
if ((lcA4) === null) { gt = 164; break IF; }
if ((lcA5) === null) { gt = 157; break IF; }
try {
invoker.close__V(lcA4);
} catch (e) {
e = vm.java_lang_Class(false).bck2BrwsrThrwrbl(e);if (e['$instOf_java_lang_Throwable']) {var stA0 = e;{ gt = 145; break IF; }}
throw e;
}{ gt = 164; break IF; }
    }
    X_145: for (;;) { IF: if (gt <= 145) {
var lcA9 = stA0;
invoker.addSuppressed__VLjava_lang_Throwable_2(lcA5,lcA9);
{ gt = 164; break IF; }
    }
    X_157: for (;;) { IF: if (gt <= 157) {

invoker.close__V(lcA4);
    }
    X_164: for (;;) { IF: if (gt <= 164) {

{ var stA0 = lcA8; throw lcA8; }

    }
}}}}}}}}}}}
};
c['net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Lnet_1java_1html_1leaflet_1event_1EventListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_$JsCallbacks$;
c.constructor.cons__VLorg_netbeans_html_boot_spi_Fn$Presenter_2.call(stA0, null);
c._VM(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_$JsCallbacks$fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_$JsCallbacks$', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_$JsCallbacks$fillInstOf });
    net_java_html_leaflet_$JsCallbacks$fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/$JsCallbacks$';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_java_lang_Class;
    var refs_net_java_html_leaflet_EventMethodsHelper;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_$JsCallbacks$_p = null;
    this.fld_net_java_html_leaflet_$JsCallbacks$_last = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_$JsCallbacks$'] = vm.net_java_html_leaflet_$JsCallbacks$;

vm.java_lang_Throwable = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Throwable;
  return link('java/lang/Throwable', function(f) { vm.java_lang_Throwable = f;})(instance);
}

vm.net_java_html_leaflet_EventMethodsHelper = function net_java_html_leaflet_EventMethodsHelper() {
  var m;
  var CLS = net_java_html_leaflet_EventMethodsHelper;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_funcMap = null;
  m = c._funcMap = function (v) {  if (arguments.length == 1) CLS.fld_funcMap = v; return CLS.fld_funcMap; };
  CLS.fld_$$fn$$addMouseListenerImpl_1 = null;
  m = c._$$fn$$addMouseListenerImpl_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addMouseListenerImpl_1 = v; return CLS.fld_$$fn$$addMouseListenerImpl_1; };
  CLS.fld_$$fn$$addDragEndListenerImpl_2 = null;
  m = c._$$fn$$addDragEndListenerImpl_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addDragEndListenerImpl_2 = v; return CLS.fld_$$fn$$addDragEndListenerImpl_2; };
  CLS.fld_$$fn$$addErrorListenerImpl_3 = null;
  m = c._$$fn$$addErrorListenerImpl_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addErrorListenerImpl_3 = v; return CLS.fld_$$fn$$addErrorListenerImpl_3; };
  CLS.fld_$$fn$$addLayerListenerImpl_4 = null;
  m = c._$$fn$$addLayerListenerImpl_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addLayerListenerImpl_4 = v; return CLS.fld_$$fn$$addLayerListenerImpl_4; };
  CLS.fld_$$fn$$addLocationListenerImpl_5 = null;
  m = c._$$fn$$addLocationListenerImpl_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addLocationListenerImpl_5 = v; return CLS.fld_$$fn$$addLocationListenerImpl_5; };
  CLS.fld_$$fn$$addResizeListenerImpl_6 = null;
  m = c._$$fn$$addResizeListenerImpl_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addResizeListenerImpl_6 = v; return CLS.fld_$$fn$$addResizeListenerImpl_6; };
  CLS.fld_$$fn$$addEventListenerImpl_7 = null;
  m = c._$$fn$$addEventListenerImpl_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addEventListenerImpl_7 = v; return CLS.fld_$$fn$$addEventListenerImpl_7; };
  CLS.fld_$$fn$$addTileListenerImpl_8 = null;
  m = c._$$fn$$addTileListenerImpl_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addTileListenerImpl_8 = v; return CLS.fld_$$fn$$addTileListenerImpl_8; };
  CLS.fld_$$fn$$addPopupListenerImpl_9 = null;
  m = c._$$fn$$addPopupListenerImpl_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addPopupListenerImpl_9 = v; return CLS.fld_$$fn$$addPopupListenerImpl_9; };
  CLS.fld_$$fn$$removeEventListenerImpl_10 = null;
  m = c._$$fn$$removeEventListenerImpl_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$removeEventListenerImpl_10 = v; return CLS.fld_$$fn$$removeEventListenerImpl_10; };
  CLS.fld_$$fn$$clearAllEventListenersImpl_11 = null;
  m = c._$$fn$$clearAllEventListenersImpl_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$clearAllEventListenersImpl_11 = v; return CLS.fld_$$fn$$clearAllEventListenersImpl_11; };
  CLS.fld_$$fn$$hasEventListenersImpl_12 = null;
  m = c._$$fn$$hasEventListenersImpl_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$hasEventListenersImpl_12 = v; return CLS.fld_$$fn$$hasEventListenersImpl_12; };
    m = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.get__Ljava_lang_Object_2Ljava_lang_Object_2(c._funcMap(),lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_EventMethodsHelper$JSInfo']) vm.java_lang_Class(false).castEx();
var lcA1 = stA0;
if ((lcA1) !== null) { gt = 21; break IF; }
var stA0 = null;{ gt = 25; break IF; }
    }
    X_21: for (;;) { IF: if (gt <= 21) {

var stA0 = lcA1.getJSListener__Ljava_lang_Object_2();
    }
    X_25: for (;;) { IF: if (gt <= 25) {
return stA0;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2 = function(lcA0, lcA1) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.get__Ljava_lang_Object_2Ljava_lang_Object_2(c._funcMap(),lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_EventMethodsHelper$JSInfo']) vm.java_lang_Class(false).castEx();
var lcA2 = stA0;
if ((lcA2) !== null) { gt = 26; break IF; }
var stA0 = new vm.net_java_html_leaflet_EventMethodsHelper$JSInfo;
(refs_net_java_html_leaflet_EventMethodsHelper$JSInfo || (refs_net_java_html_leaflet_EventMethodsHelper$JSInfo = vm.net_java_html_leaflet_EventMethodsHelper$JSInfo(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
var lcA2 = stA0;
    }
    X_26: for (;;) { IF: if (gt <= 26) {

lcA2.incrementCounter__V();
var stA0 = invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(c._funcMap(),lcA0, lcA2);
return;

    }
}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.removeListenerReference__VLnet_java_html_leaflet_event_EventListener_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.get__Ljava_lang_Object_2Ljava_lang_Object_2(c._funcMap(),lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_EventMethodsHelper$JSInfo']) vm.java_lang_Class(false).castEx();
var lcA1 = stA0;
if ((lcA1) === null) { gt = 49; break IF; }
lcA1.decrementCounter__V();
var stA0 = invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(c._funcMap(),lcA0, lcA1);
var stI0 = lcA1.hasReferences__Z();
if ((stI0) != 0) { gt = 49; break IF; }
var stA0 = invoker.remove__Ljava_lang_Object_2Ljava_lang_Object_2(c._funcMap(),lcA0);
    }
    X_49: for (;;) { IF: if (gt <= 49) {
return;

    }
}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.addMouseListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addMouseListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_MouseListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addMouseListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_MouseListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1MouseListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(ev.target, ev.type, ev.latlng, ev.layerPoint,      ev.containerPoint, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA0, lcA1, lcA2, lcA3, lcA4, lcA5) {
var stA0 = lcA5;var stA1 = new vm.net_java_html_leaflet_event_MouseEvent;
var stA2 = stA1;var stA3 = lcA0;var stA4 = lcA1;var stA5 = new vm.net_java_html_leaflet_LatLng;
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA5, lcA2);
var stA6 = new vm.net_java_html_leaflet_Point;
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA6, lcA3);
var stA7 = new vm.net_java_html_leaflet_Point;
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA7, lcA4);
(refs_net_java_html_leaflet_event_MouseEvent || (refs_net_java_html_leaflet_event_MouseEvent = vm.net_java_html_leaflet_event_MouseEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2.call(stA2, stA3, stA4, stA5, stA6, stA7);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addDragEndListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addDragEndListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_DragEndListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addDragEndListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_DragEndListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12DLnet_1java_1html_1leaflet_1event_1DragEndListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2DLjava_lang_Object_2(ev.target, ev.type, ev.distance, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2DLnet_java_html_leaflet_event_DragEndListener_2 = function(lcA0, lcA1, lcD2, lcA4) {
var stA0 = lcA4;var stA1 = new vm.net_java_html_leaflet_event_DragEndEvent;
(refs_net_java_html_leaflet_event_DragEndEvent || (refs_net_java_html_leaflet_event_DragEndEvent = vm.net_java_html_leaflet_event_DragEndEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2D.call(stA1, lcA0, lcA1, lcD2);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addErrorListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_ErrorEvent$Type_2Lnet_java_html_leaflet_event_ErrorListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addErrorListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_ErrorListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addErrorListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_ErrorListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1String_12ILnet_1java_1html_1leaflet_1event_1ErrorListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2ILjava_lang_Object_2(ev.target, ev.type, ev.message, ev.code, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2ILnet_java_html_leaflet_event_ErrorListener_2 = function(lcA0, lcA1, lcA2, lcI3, lcA4) {
var stA0 = lcA4;var stA1 = new vm.net_java_html_leaflet_event_ErrorEvent;
(refs_net_java_html_leaflet_event_ErrorEvent || (refs_net_java_html_leaflet_event_ErrorEvent = vm.net_java_html_leaflet_event_ErrorEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2I.call(stA1, lcA0, lcA1, lcA2, lcI3);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addLayerListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addLayerListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_LayerListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addLayerListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_LayerListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1LayerListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2(ev.target, ev.type, ev.layer, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_LayerListener_2 = function(lcA0, lcA1, lcA2, lcA3) {
var stA0 = lcA3;var stA1 = new vm.net_java_html_leaflet_event_LayerEvent;
var stA2 = stA1;var stA3 = lcA0;var stA4 = lcA1;var stA5 = (refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).createLayer__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA2);
(refs_net_java_html_leaflet_event_LayerEvent || (refs_net_java_html_leaflet_event_LayerEvent = vm.net_java_html_leaflet_event_LayerEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_ILayer_2.call(stA2, stA3, stA4, stA5);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addLocationListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_LocationEvent$Type_2Lnet_java_html_leaflet_event_LocationListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addLocationListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_LocationListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addLocationListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_LocationListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12DDDDDDLnet_1java_1html_1leaflet_1event_1LocationListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2DDDDDDLjava_lang_Object_2(ev.target, ev.type, ev.latlng, ev.bounds, ev.accuracy, ev.altitude, ev.altitudeAccuracy, ev.heading, ev.speed, ev.timestamp, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2DDDDDDLnet_java_html_leaflet_event_LocationListener_2 = function(lcA0, lcA1, lcA2, lcA3, lcD4, lcD6, lcD8, lcD10, lcD12, lcD14, lcA16) {
var stA0 = lcA16;var stA1 = new vm.net_java_html_leaflet_event_LocationEvent;
var stA2 = stA1;var stA3 = lcA0;var stA4 = lcA1;var stA5 = new vm.net_java_html_leaflet_LatLng;
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA5, lcA2);
var stA6 = new vm.net_java_html_leaflet_LatLngBounds;
(refs_net_java_html_leaflet_LatLngBounds || (refs_net_java_html_leaflet_LatLngBounds = vm.net_java_html_leaflet_LatLngBounds(false))).constructor.cons__VLjava_lang_Object_2.call(stA6, lcA3);
(refs_net_java_html_leaflet_event_LocationEvent || (refs_net_java_html_leaflet_event_LocationEvent = vm.net_java_html_leaflet_event_LocationEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_LatLngBounds_2DDDDDD.call(stA2, stA3, stA4, stA5, stA6, lcD4, lcD6, lcD8, lcD10, lcD12, lcD14);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addResizeListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_ResizeEvent$Type_2Lnet_java_html_leaflet_event_ResizeListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addResizeListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_ResizeListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addResizeListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_ResizeListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1ResizeListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(ev.target, ev.type, ev.oldSize, ev.newSize, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_ResizeListener_2 = function(lcA0, lcA1, lcA2, lcA3, lcA4) {
var stA0 = lcA4;var stA1 = new vm.net_java_html_leaflet_event_ResizeEvent;
var stA2 = stA1;var stA3 = lcA0;var stA4 = lcA1;var stA5 = new vm.net_java_html_leaflet_Point;
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA5, lcA2);
var stA6 = new vm.net_java_html_leaflet_Point;
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA6, lcA3);
(refs_net_java_html_leaflet_event_ResizeEvent || (refs_net_java_html_leaflet_event_ResizeEvent = vm.net_java_html_leaflet_event_ResizeEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2.call(stA2, stA3, stA4, stA5, stA6);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addEventListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addEventListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addEventListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Lnet_1java_1html_1leaflet_1event_1EventListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(ev.target, ev.type, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = lcA2;var stA1 = new vm.net_java_html_leaflet_event_Event;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(stA1, lcA0, lcA1);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addTileListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_TileEvent$Type_2Lnet_java_html_leaflet_event_TileListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addTileListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_TileListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addTileListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_TileListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Ljava_1lang_1String_12Lnet_1java_1html_1leaflet_1event_1TileListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(ev.target, ev.type, ev.title, ev.url, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_TileListener_2 = function(lcA0, lcA1, lcA2, lcA3, lcA4) {
var stA0 = lcA4;var stA1 = new vm.net_java_html_leaflet_event_TileEvent;
(refs_net_java_html_leaflet_event_TileEvent || (refs_net_java_html_leaflet_event_TileEvent = vm.net_java_html_leaflet_event_TileEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2.call(stA1, lcA0, lcA1, lcA2, lcA3);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addPopupListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA0, lcA1, lcA2) {
var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
var stA0 = lcA0;var stA1 = lcA1.toString__Ljava_lang_String_2();
var stA0 = c.addPopupListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_PopupListener_2Ljava_lang_Object_2(stA0, stA1, lcA2, lcA3);
var lcA3 = stA0;
c.addListenerReference__VLnet_java_html_leaflet_event_EventListener_2Ljava_lang_Object_2(lcA2, lcA3);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.addPopupListenerImpl__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_PopupListener_2Ljava_lang_Object_2 = function(o,type,l,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  l = vm.java_lang_Class(false).toJS(l);
  fn = vm.java_lang_Class(false).toJS(fn);if(fn == null) { fn = function(ev) {
  vm.net_java_html_leaflet_$JsCallbacks$(false)._VM().net_1java_1html_1leaflet_1EventMethodsHelper$callListener$Ljava_1lang_1Object_12Ljava_1lang_1String_12Ljava_1lang_1Object_12Lnet_1java_1html_1leaflet_1event_1PopupListener_12__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2(ev.target, ev.type, ev.popup, l);}}
o.addEventListener(type, fn); return fn;

}

    m.access = 10;
    m.cls = CLS;
    m = c.callListener__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA0, lcA1, lcA2, lcA3) {
var stA0 = lcA3;var stA1 = new vm.net_java_html_leaflet_event_PopupEvent;
var stA2 = stA1;var stA3 = lcA0;var stA4 = lcA1;var stA5 = new vm.net_java_html_leaflet_Popup;
(refs_net_java_html_leaflet_Popup || (refs_net_java_html_leaflet_Popup = vm.net_java_html_leaflet_Popup(false))).constructor.cons__VLjava_lang_Object_2.call(stA5, lcA2);
(refs_net_java_html_leaflet_event_PopupEvent || (refs_net_java_html_leaflet_event_PopupEvent = vm.net_java_html_leaflet_event_PopupEvent(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_Popup_2.call(stA2, stA3, stA4, stA5);
invoker.onEvent__VLnet_java_html_leaflet_event_Event_2(stA0,stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA0, lcA1, lcA2) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = c.getJSListener__Ljava_lang_Object_2Lnet_java_html_leaflet_event_EventListener_2(lcA2);
var lcA3 = stA0;
if ((lcA3) === null) { gt = 19; break IF; }
c.removeEventListenerImpl__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(lcA0, lcA1, lcA3);
c.removeListenerReference__VLnet_java_html_leaflet_event_EventListener_2(lcA2);
    }
    X_19: for (;;) { IF: if (gt <= 19) {
return;

    }
}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.removeEventListenerImpl__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(o,type,fn) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);
  fn = vm.java_lang_Class(false).toJS(fn);o.removeEventListener(type, fn);

}

    m.access = 10;
    m.cls = CLS;
    m = c.clearAllEventListeners__VLjava_lang_Object_2 = function(lcA0) {
c.clearAllEventListenersImpl__VLjava_lang_Object_2(lcA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.clearAllEventListenersImpl__VLjava_lang_Object_2 = function(o) {

  o = vm.java_lang_Class(false).toJS(o);o.clearAllEventListeners();
}

    m.access = 10;
    m.cls = CLS;
    m = c.hasEventListeners__ZLjava_lang_Object_2Ljava_lang_String_2 = function(lcA0, lcA1) {
var stI0 = c.hasEventListenersImpl__ZLjava_lang_Object_2Ljava_lang_String_2(lcA0, lcA1);
return stI0;

};
    m.access = 8;
    m.cls = CLS;
    m = c.hasEventListenersImpl__ZLjava_lang_Object_2Ljava_lang_String_2 = function(o,type) {

  o = vm.java_lang_Class(false).toJS(o);
  type = vm.java_lang_Class(false).toJS(type);return o.hasEventListeners(type);

}

    m.access = 10;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = new vm.java_util_IdentityHashMap;
(refs_java_util_IdentityHashMap || (refs_java_util_IdentityHashMap = vm.java_util_IdentityHashMap(false))).constructor['cons__V'].call(stA0);
c._funcMap(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_EventMethodsHelperfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_EventMethodsHelper', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_EventMethodsHelperfillInstOf });
    net_java_html_leaflet_EventMethodsHelperfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/EventMethodsHelper';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_EventMethodsHelper$JSInfo;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Point;
    var refs_net_java_html_leaflet_event_MouseEvent;
    var refs_net_java_html_leaflet_event_DragEndEvent;
    var refs_net_java_html_leaflet_event_ErrorEvent;
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_event_LayerEvent;
    var refs_net_java_html_leaflet_LatLngBounds;
    var refs_net_java_html_leaflet_event_LocationEvent;
    var refs_net_java_html_leaflet_event_ResizeEvent;
    var refs_net_java_html_leaflet_event_Event;
    var refs_net_java_html_leaflet_event_TileEvent;
    var refs_net_java_html_leaflet_Popup;
    var refs_net_java_html_leaflet_event_PopupEvent;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_util_IdentityHashMap;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
vm.java_util_IdentityHashMap = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_IdentityHashMap;
  return link('java/util/IdentityHashMap', function(f) { vm.java_util_IdentityHashMap = f;})(instance);
}

vm.net_java_html_leaflet_Options = function net_java_html_leaflet_Options() {
  var m;
  var CLS = net_java_html_leaflet_Options;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_initialized = 0;
  m = c._initialized = function (v) {  if (arguments.length == 1) CLS.fld_initialized = v; return CLS.fld_initialized; };
  m = c._map = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_Options_map = v; return this.fld_net_java_html_leaflet_Options_map; };
  CLS.fld_$$fn$$init0_1 = null;
  m = c._$$fn$$init0_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$init0_1 = v; return CLS.fld_$$fn$$init0_1; };
  CLS.fld_$$fn$$createJSObj_2 = null;
  m = c._$$fn$$createJSObj_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$createJSObj_2 = v; return CLS.fld_$$fn$$createJSObj_2; };
  CLS.fld_$$fn$$buildArray_3 = null;
  m = c._$$fn$$buildArray_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$buildArray_3 = v; return CLS.fld_$$fn$$buildArray_3; };
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.java_util_HashMap;
(refs_java_util_HashMap || (refs_java_util_HashMap = vm.java_util_HashMap(false))).constructor['cons__V'].call(stA1);
c._map.call(stA0, stA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.initJS__V = function() {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

if ((c._initialized()) != 0) { gt = 13; break IF; }
c.init0__V();
c._initialized(1);
    }
    X_13: for (;;) { IF: if (gt <= 13) {
return;

    }
}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.init0__V = function() {

}

    m.access = 10;
    m.cls = CLS;
    m = c.setValue__VLjava_lang_String_2Ljava_lang_Object_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._map.call(lcA0);var stA1 = lcA1;var stA2 = c.getObject__Ljava_lang_Object_2Ljava_lang_Object_2.call(lcA0, lcA2);
var stA0 = invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA0,stA1, stA2);
return;

};
    m.access = 1;
    m.cls = CLS;
    m = c.getObject__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.getClass__Ljava_lang_Class_2(lcA1);
var stI0 = invoker.isArray__Z(stA0);
if ((stI0) == 0) { gt = 57; break IF; }
if (lcA1 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](lcA1, 1, vm.java_lang_Object)) vm.java_lang_Class(false).castEx();
if (lcA1 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](lcA1, 1, vm.java_lang_Object)) vm.java_lang_Class(false).castEx();
var lcA2 = lcA1;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA2).length);
var lcA3 = stA0;
var lcI4 = 0;
    }
    X_27: for (;;) { IF: if (gt <= 27) {

if ((lcI4) >= ((lcA2).length)) { gt = 52; break IF; }
var stA0 = lcA3;var stI1 = lcI4;var stA2 = c.getObject__Ljava_lang_Object_2Ljava_lang_Object_2.call(lcA0, Array.at(lcA2, lcI4));
Array.at(stA0, stI1, stA2);
lcI4++;
{ gt = 0; continue X_27; }
    }
    X_52: for (;;) { IF: if (gt <= 52) {

var stA0 = c.buildArray__Ljava_lang_Object_2_3Ljava_lang_Object_2(lcA3);
return stA0;
    }
    X_57: for (;;) { IF: if (gt <= 57) {

return lcA1;

    }
}}}}
};
    m.access = 2;
    m.cls = CLS;
    m = c.createJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.keySet__Ljava_util_Set_2(c._map.call(lcA0));
var stI1 = invoker.size__I(c._map.call(lcA0));
var stA1 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/String;', vm.java_lang_String, stI1);
var stA0 = invoker.toArray___3Ljava_lang_Object_2_3Ljava_lang_Object_2(stA0,stA1);
var lcA1 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA1).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_35: for (;;) { IF: if (gt <= 35) {

if ((lcI3) >= ((lcA1).length)) { gt = 62; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = invoker.get__Ljava_lang_Object_2Ljava_lang_Object_2(c._map.call(lcA0),Array.at(lcA1, lcI3));
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_35; }
    }
    X_62: for (;;) { IF: if (gt <= 62) {

var stA0 = c.createJSObj__Ljava_lang_Object_2_3Ljava_lang_Object_2_3Ljava_lang_Object_2(lcA1, lcA2);
return stA0;

    }
}}}
};
    m.access = 0;
    m.cls = CLS;
    m = c.createJSObj__Ljava_lang_Object_2_3Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(names,values) {

  names = vm.java_lang_Class(false).toJS(names);
  values = vm.java_lang_Class(false).toJS(values);var ops = {};for (var i = 0; i < names.length; i++)   ops[names[i]] = values[i]; return ops;
}

    m.access = 10;
    m.cls = CLS;
    m = c.buildArray__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(jsObjs) {

  jsObjs = vm.java_lang_Class(false).toJS(jsObjs);var arr = [];for (var i = 0; i < jsObjs.length; i++)  arr.push(jsObjs[i]); return arr;
}

    m.access = 10;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_OptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Options', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_OptionsfillInstOf });
    net_java_html_leaflet_OptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Options';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_java_util_HashMap;
// resource from net/java/html/leaflet/leaflet-src.js
/*
 * The MIT License (MIT)
 *
 * Copyright (C) 2014 Jaroslav Tulach <jaroslav.tulach@apidesign.org>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/*
 Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com
 (c) 2010-2013, Vladimir Agafonkin
 (c) 2010-2011, CloudMade
*/
(function (window, document, undefined) {
var oldL = window.L,
    L = {};

L.version = '0.7.2';

// define Leaflet for Node module pattern loaders, including Browserify
if (typeof module === 'object' && typeof module.exports === 'object') {
	module.exports = L;

// define Leaflet as an AMD module
} else if (typeof define === 'function' && define.amd) {
	define(L);
}

// define Leaflet as a global L variable, saving the original L to restore later if needed

L.noConflict = function () {
	window.L = oldL;
	return this;
};

window.L = L;


/*
 * L.Util contains various utility functions used throughout Leaflet code.
 */

L.Util = {
	extend: function (dest) { // (Object[, Object, ...]) ->
		var sources = Array.prototype.slice.call(arguments, 1),
		    i, j, len, src;

		for (j = 0, len = sources.length; j < len; j++) {
			src = sources[j] || {};
			for (i in src) {
				if (src.hasOwnProperty(i)) {
					dest[i] = src[i];
				}
			}
		}
		return dest;
	},

	bind: function (fn, obj) { // (Function, Object) -> Function
		var args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;
		return function () {
			return fn.apply(obj, args || arguments);
		};
	},

	stamp: (function () {
		var lastId = 0,
		    key = '_leaflet_id';
		return function (obj) {
			obj[key] = obj[key] || ++lastId;
			return obj[key];
		};
	}()),

	invokeEach: function (obj, method, context) {
		var i, args;

		if (typeof obj === 'object') {
			args = Array.prototype.slice.call(arguments, 3);

			for (i in obj) {
				method.apply(context, [i, obj[i]].concat(args));
			}
			return true;
		}

		return false;
	},

	limitExecByInterval: function (fn, time, context) {
		var lock, execOnUnlock;

		return function wrapperFn() {
			var args = arguments;

			if (lock) {
				execOnUnlock = true;
				return;
			}

			lock = true;

			setTimeout(function () {
				lock = false;

				if (execOnUnlock) {
					wrapperFn.apply(context, args);
					execOnUnlock = false;
				}
			}, time);

			fn.apply(context, args);
		};
	},

	falseFn: function () {
		return false;
	},

	formatNum: function (num, digits) {
		var pow = Math.pow(10, digits || 5);
		return Math.round(num * pow) / pow;
	},

	trim: function (str) {
		return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g, '');
	},

	splitWords: function (str) {
		return L.Util.trim(str).split(/\s+/);
	},

	setOptions: function (obj, options) {
		obj.options = L.extend({}, obj.options, options);
		return obj.options;
	},

	getParamString: function (obj, existingUrl, uppercase) {
		var params = [];
		for (var i in obj) {
			params.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));
		}
		return ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');
	},
	template: function (str, data) {
		return str.replace(/\{ *([\w_]+) *\}/g, function (str, key) {
			var value = data[key];
			if (value === undefined) {
				throw new Error('No value provided for variable ' + str);
			} else if (typeof value === 'function') {
				value = value(data);
			}
			return value;
		});
	},

	isArray: Array.isArray || function (obj) {
		return (Object.prototype.toString.call(obj) === '[object Array]');
	},

	emptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='
};

(function () {

	// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/

	function getPrefixed(name) {
		var i, fn,
		    prefixes = ['webkit', 'moz', 'o', 'ms'];

		for (i = 0; i < prefixes.length && !fn; i++) {
			fn = window[prefixes[i] + name];
		}

		return fn;
	}

	var lastTime = 0;

	function timeoutDefer(fn) {
		var time = +new Date(),
		    timeToCall = Math.max(0, 16 - (time - lastTime));

		lastTime = time + timeToCall;
		return window.setTimeout(fn, timeToCall);
	}

	var requestFn = window.requestAnimationFrame ||
	        getPrefixed('RequestAnimationFrame') || timeoutDefer;

	var cancelFn = window.cancelAnimationFrame ||
	        getPrefixed('CancelAnimationFrame') ||
	        getPrefixed('CancelRequestAnimationFrame') ||
	        function (id) { window.clearTimeout(id); };


	L.Util.requestAnimFrame = function (fn, context, immediate, element) {
		fn = L.bind(fn, context);

		if (immediate && requestFn === timeoutDefer) {
			fn();
		} else {
			return requestFn.call(window, fn, element);
		}
	};

	L.Util.cancelAnimFrame = function (id) {
		if (id) {
			cancelFn.call(window, id);
		}
	};

}());

// shortcuts for most used utility functions
L.extend = L.Util.extend;
L.bind = L.Util.bind;
L.stamp = L.Util.stamp;
L.setOptions = L.Util.setOptions;


/*
 * L.Class powers the OOP facilities of the library.
 * Thanks to John Resig and Dean Edwards for inspiration!
 */

L.Class = function () {};

L.Class.extend = function (props) {

	// extended class with the new prototype
	var NewClass = function () {

		// call the constructor
		if (this.initialize) {
			this.initialize.apply(this, arguments);
		}

		// call all constructor hooks
		if (this._initHooks) {
			this.callInitHooks();
		}
	};

	// instantiate class without calling constructor
	var F = function () {};
	F.prototype = this.prototype;

	var proto = new F();
	proto.constructor = NewClass;

	NewClass.prototype = proto;

	//inherit parent's statics
	for (var i in this) {
		if (this.hasOwnProperty(i) && i !== 'prototype') {
			NewClass[i] = this[i];
		}
	}

	// mix static properties into the class
	if (props.statics) {
		L.extend(NewClass, props.statics);
		delete props.statics;
	}

	// mix includes into the prototype
	if (props.includes) {
		L.Util.extend.apply(null, [proto].concat(props.includes));
		delete props.includes;
	}

	// merge options
	if (props.options && proto.options) {
		props.options = L.extend({}, proto.options, props.options);
	}

	// mix given properties into the prototype
	L.extend(proto, props);

	proto._initHooks = [];

	var parent = this;
	// jshint camelcase: false
	NewClass.__super__ = parent.prototype;

	// add method for calling all hooks
	proto.callInitHooks = function () {

		if (this._initHooksCalled) { return; }

		if (parent.prototype.callInitHooks) {
			parent.prototype.callInitHooks.call(this);
		}

		this._initHooksCalled = true;

		for (var i = 0, len = proto._initHooks.length; i < len; i++) {
			proto._initHooks[i].call(this);
		}
	};

	return NewClass;
};


// method for adding properties to prototype
L.Class.include = function (props) {
	L.extend(this.prototype, props);
};

// merge new default options to the Class
L.Class.mergeOptions = function (options) {
	L.extend(this.prototype.options, options);
};

// add a constructor hook
L.Class.addInitHook = function (fn) { // (Function) || (String, args...)
	var args = Array.prototype.slice.call(arguments, 1);

	var init = typeof fn === 'function' ? fn : function () {
		this[fn].apply(this, args);
	};

	this.prototype._initHooks = this.prototype._initHooks || [];
	this.prototype._initHooks.push(init);
};


/*
 * L.Mixin.Events is used to add custom events functionality to Leaflet classes.
 */

var eventsKey = '_leaflet_events';

L.Mixin = {};

L.Mixin.Events = {

	addEventListener: function (types, fn, context) { // (String, Function[, Object]) or (Object[, Object])

		// types can be a map of types/handlers
		if (L.Util.invokeEach(types, this.addEventListener, this, fn, context)) { return this; }

		var events = this[eventsKey] = this[eventsKey] || {},
		    contextId = context && context !== this && L.stamp(context),
		    i, len, event, type, indexKey, indexLenKey, typeIndex;

		// types can be a string of space-separated words
		types = L.Util.splitWords(types);

		for (i = 0, len = types.length; i < len; i++) {
			event = {
				action: fn,
				context: context || this
			};
			type = types[i];

			if (contextId) {
				// store listeners of a particular context in a separate hash (if it has an id)
				// gives a major performance boost when removing thousands of map layers

				indexKey = type + '_idx';
				indexLenKey = indexKey + '_len';

				typeIndex = events[indexKey] = events[indexKey] || {};

				if (!typeIndex[contextId]) {
					typeIndex[contextId] = [];

					// keep track of the number of keys in the index to quickly check if it's empty
					events[indexLenKey] = (events[indexLenKey] || 0) + 1;
				}

				typeIndex[contextId].push(event);


			} else {
				events[type] = events[type] || [];
				events[type].push(event);
			}
		}

		return this;
	},

	hasEventListeners: function (type) { // (String) -> Boolean
		var events = this[eventsKey];
		return !!events && ((type in events && events[type].length > 0) ||
		                    (type + '_idx' in events && events[type + '_idx_len'] > 0));
	},

	removeEventListener: function (types, fn, context) { // ([String, Function, Object]) or (Object[, Object])

		if (!this[eventsKey]) {
			return this;
		}

		if (!types) {
			return this.clearAllEventListeners();
		}

		if (L.Util.invokeEach(types, this.removeEventListener, this, fn, context)) { return this; }

		var events = this[eventsKey],
		    contextId = context && context !== this && L.stamp(context),
		    i, len, type, listeners, j, indexKey, indexLenKey, typeIndex, removed;

		types = L.Util.splitWords(types);

		for (i = 0, len = types.length; i < len; i++) {
			type = types[i];
			indexKey = type + '_idx';
			indexLenKey = indexKey + '_len';

			typeIndex = events[indexKey];

			if (!fn) {
				// clear all listeners for a type if function isn't specified
				delete events[type];
				delete events[indexKey];
				delete events[indexLenKey];

			} else {
				listeners = contextId && typeIndex ? typeIndex[contextId] : events[type];

				if (listeners) {
					for (j = listeners.length - 1; j >= 0; j--) {
						if ((listeners[j].action === fn) && (!context || (listeners[j].context === context))) {
							removed = listeners.splice(j, 1);
							// set the old action to a no-op, because it is possible
							// that the listener is being iterated over as part of a dispatch
							removed[0].action = L.Util.falseFn;
						}
					}

					if (context && typeIndex && (listeners.length === 0)) {
						delete typeIndex[contextId];
						events[indexLenKey]--;
					}
				}
			}
		}

		return this;
	},

	clearAllEventListeners: function () {
		delete this[eventsKey];
		return this;
	},

	fireEvent: function (type, data) { // (String[, Object])
		if (!this.hasEventListeners(type)) {
			return this;
		}

		var event = L.Util.extend({}, data, { type: type, target: this });

		var events = this[eventsKey],
		    listeners, i, len, typeIndex, contextId;

		if (events[type]) {
			// make sure adding/removing listeners inside other listeners won't cause infinite loop
			listeners = events[type].slice();

			for (i = 0, len = listeners.length; i < len; i++) {
				listeners[i].action.call(listeners[i].context, event);
			}
		}

		// fire event for the context-indexed listeners as well
		typeIndex = events[type + '_idx'];

		for (contextId in typeIndex) {
			listeners = typeIndex[contextId].slice();

			if (listeners) {
				for (i = 0, len = listeners.length; i < len; i++) {
					listeners[i].action.call(listeners[i].context, event);
				}
			}
		}

		return this;
	},

	addOneTimeEventListener: function (types, fn, context) {

		if (L.Util.invokeEach(types, this.addOneTimeEventListener, this, fn, context)) { return this; }

		var handler = L.bind(function () {
			this
			    .removeEventListener(types, fn, context)
			    .removeEventListener(types, handler, context);
		}, this);

		return this
		    .addEventListener(types, fn, context)
		    .addEventListener(types, handler, context);
	}
};

L.Mixin.Events.on = L.Mixin.Events.addEventListener;
L.Mixin.Events.off = L.Mixin.Events.removeEventListener;
L.Mixin.Events.once = L.Mixin.Events.addOneTimeEventListener;
L.Mixin.Events.fire = L.Mixin.Events.fireEvent;


/*
 * L.Browser handles different browser and feature detections for internal Leaflet use.
 */

(function () {

	var ie = 'ActiveXObject' in window,
		ielt9 = ie && !document.addEventListener,

	    // terrible browser detection to work around Safari / iOS / Android browser bugs
	    ua = navigator.userAgent.toLowerCase(),
	    webkit = ua.indexOf('webkit') !== -1,
	    chrome = ua.indexOf('chrome') !== -1,
	    phantomjs = ua.indexOf('phantom') !== -1,
	    android = ua.indexOf('android') !== -1,
	    android23 = ua.search('android [23]') !== -1,
		gecko = ua.indexOf('gecko') !== -1,

	    mobile = typeof orientation !== undefined + '',
	    msPointer = window.navigator && window.navigator.msPointerEnabled &&
	              window.navigator.msMaxTouchPoints && !window.PointerEvent,
		pointer = (window.PointerEvent && window.navigator.pointerEnabled && window.navigator.maxTouchPoints) ||
				  msPointer,
	    retina = ('devicePixelRatio' in window && window.devicePixelRatio > 1) ||
	             ('matchMedia' in window && window.matchMedia('(min-resolution:144dpi)') &&
	              window.matchMedia('(min-resolution:144dpi)').matches),

	    doc = document.documentElement,
	    ie3d = ie && ('transition' in doc.style),
	    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,
	    gecko3d = 'MozPerspective' in doc.style,
	    opera3d = 'OTransition' in doc.style,
	    any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d || opera3d) && !phantomjs;


	// PhantomJS has 'ontouchstart' in document.documentElement, but doesn't actually support touch.
	// https://github.com/Leaflet/Leaflet/pull/1434#issuecomment-13843151

	var touch = !window.L_NO_TOUCH && !phantomjs && (function () {

		var startName = 'ontouchstart';

		// IE10+ (We simulate these into touch* events in L.DomEvent and L.DomEvent.Pointer) or WebKit, etc.
		if (pointer || (startName in doc)) {
			return true;
		}

		// Firefox/Gecko
		var div = document.createElement('div'),
		    supported = false;

		if (!div.setAttribute) {
			return false;
		}
		div.setAttribute(startName, 'return;');

		if (typeof div[startName] === 'function') {
			supported = true;
		}

		div.removeAttribute(startName);
		div = null;

		return supported;
	}());


	L.Browser = {
		ie: ie,
		ielt9: ielt9,
		webkit: webkit,
		gecko: gecko && !webkit && !window.opera && !ie,

		android: android,
		android23: android23,

		chrome: chrome,

		ie3d: ie3d,
		webkit3d: webkit3d,
		gecko3d: gecko3d,
		opera3d: opera3d,
		any3d: any3d,

		mobile: mobile,
		mobileWebkit: mobile && webkit,
		mobileWebkit3d: mobile && webkit3d,
		mobileOpera: mobile && window.opera,

		touch: touch,
		msPointer: msPointer,
		pointer: pointer,

		retina: retina
	};

}());


/*
 * L.Point represents a point with x and y coordinates.
 */

L.Point = function (/*Number*/ x, /*Number*/ y, /*Boolean*/ round) {
	this.x = (round ? Math.round(x) : x);
	this.y = (round ? Math.round(y) : y);
};

L.Point.prototype = {

	clone: function () {
		return new L.Point(this.x, this.y);
	},

	// non-destructive, returns a new point
	add: function (point) {
		return this.clone()._add(L.point(point));
	},

	// destructive, used directly for performance in situations where it's safe to modify existing point
	_add: function (point) {
		this.x += point.x;
		this.y += point.y;
		return this;
	},

	subtract: function (point) {
		return this.clone()._subtract(L.point(point));
	},

	_subtract: function (point) {
		this.x -= point.x;
		this.y -= point.y;
		return this;
	},

	divideBy: function (num) {
		return this.clone()._divideBy(num);
	},

	_divideBy: function (num) {
		this.x /= num;
		this.y /= num;
		return this;
	},

	multiplyBy: function (num) {
		return this.clone()._multiplyBy(num);
	},

	_multiplyBy: function (num) {
		this.x *= num;
		this.y *= num;
		return this;
	},

	round: function () {
		return this.clone()._round();
	},

	_round: function () {
		this.x = Math.round(this.x);
		this.y = Math.round(this.y);
		return this;
	},

	floor: function () {
		return this.clone()._floor();
	},

	_floor: function () {
		this.x = Math.floor(this.x);
		this.y = Math.floor(this.y);
		return this;
	},

	distanceTo: function (point) {
		point = L.point(point);

		var x = point.x - this.x,
		    y = point.y - this.y;

		return Math.sqrt(x * x + y * y);
	},

	equals: function (point) {
		point = L.point(point);

		return point.x === this.x &&
		       point.y === this.y;
	},

	contains: function (point) {
		point = L.point(point);

		return Math.abs(point.x) <= Math.abs(this.x) &&
		       Math.abs(point.y) <= Math.abs(this.y);
	},

	toString: function () {
		return 'Point(' +
		        L.Util.formatNum(this.x) + ', ' +
		        L.Util.formatNum(this.y) + ')';
	}
};

L.point = function (x, y, round) {
	if (x instanceof L.Point) {
		return x;
	}
	if (L.Util.isArray(x)) {
		return new L.Point(x[0], x[1]);
	}
	if (x === undefined || x === null) {
		return x;
	}
	return new L.Point(x, y, round);
};


/*
 * L.Bounds represents a rectangular area on the screen in pixel coordinates.
 */

L.Bounds = function (a, b) { //(Point, Point) or Point[]
	if (!a) { return; }

	var points = b ? [a, b] : a;

	for (var i = 0, len = points.length; i < len; i++) {
		this.extend(points[i]);
	}
};

L.Bounds.prototype = {
	// extend the bounds to contain the given point
	extend: function (point) { // (Point)
		point = L.point(point);

		if (!this.min && !this.max) {
			this.min = point.clone();
			this.max = point.clone();
		} else {
			this.min.x = Math.min(point.x, this.min.x);
			this.max.x = Math.max(point.x, this.max.x);
			this.min.y = Math.min(point.y, this.min.y);
			this.max.y = Math.max(point.y, this.max.y);
		}
		return this;
	},

	getCenter: function (round) { // (Boolean) -> Point
		return new L.Point(
		        (this.min.x + this.max.x) / 2,
		        (this.min.y + this.max.y) / 2, round);
	},

	getBottomLeft: function () { // -> Point
		return new L.Point(this.min.x, this.max.y);
	},

	getTopRight: function () { // -> Point
		return new L.Point(this.max.x, this.min.y);
	},

	getSize: function () {
		return this.max.subtract(this.min);
	},

	contains: function (obj) { // (Bounds) or (Point) -> Boolean
		var min, max;

		if (typeof obj[0] === 'number' || obj instanceof L.Point) {
			obj = L.point(obj);
		} else {
			obj = L.bounds(obj);
		}

		if (obj instanceof L.Bounds) {
			min = obj.min;
			max = obj.max;
		} else {
			min = max = obj;
		}

		return (min.x >= this.min.x) &&
		       (max.x <= this.max.x) &&
		       (min.y >= this.min.y) &&
		       (max.y <= this.max.y);
	},

	intersects: function (bounds) { // (Bounds) -> Boolean
		bounds = L.bounds(bounds);

		var min = this.min,
		    max = this.max,
		    min2 = bounds.min,
		    max2 = bounds.max,
		    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),
		    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);

		return xIntersects && yIntersects;
	},

	isValid: function () {
		return !!(this.min && this.max);
	}
};

L.bounds = function (a, b) { // (Bounds) or (Point, Point) or (Point[])
	if (!a || a instanceof L.Bounds) {
		return a;
	}
	return new L.Bounds(a, b);
};


/*
 * L.Transformation is an utility class to perform simple point transformations through a 2d-matrix.
 */

L.Transformation = function (a, b, c, d) {
	this._a = a;
	this._b = b;
	this._c = c;
	this._d = d;
};

L.Transformation.prototype = {
	transform: function (point, scale) { // (Point, Number) -> Point
		return this._transform(point.clone(), scale);
	},

	// destructive transform (faster)
	_transform: function (point, scale) {
		scale = scale || 1;
		point.x = scale * (this._a * point.x + this._b);
		point.y = scale * (this._c * point.y + this._d);
		return point;
	},

	untransform: function (point, scale) {
		scale = scale || 1;
		return new L.Point(
		        (point.x / scale - this._b) / this._a,
		        (point.y / scale - this._d) / this._c);
	}
};


/*
 * L.DomUtil contains various utility functions for working with DOM.
 */

L.DomUtil = {
	get: function (id) {
		return (typeof id === 'string' ? document.getElementById(id) : id);
	},

	getStyle: function (el, style) {

		var value = el.style[style];

		if (!value && el.currentStyle) {
			value = el.currentStyle[style];
		}

		if ((!value || value === 'auto') && document.defaultView) {
			var css = document.defaultView.getComputedStyle(el, null);
			value = css ? css[style] : null;
		}

		return value === 'auto' ? null : value;
	},

	getViewportOffset: function (element) {

		var top = 0,
		    left = 0,
		    el = element,
		    docBody = document.body,
		    docEl = document.documentElement,
		    pos;

		do {
			top  += el.offsetTop  || 0;
			left += el.offsetLeft || 0;

			//add borders
			top += parseInt(L.DomUtil.getStyle(el, 'borderTopWidth'), 10) || 0;
			left += parseInt(L.DomUtil.getStyle(el, 'borderLeftWidth'), 10) || 0;

			pos = L.DomUtil.getStyle(el, 'position');

			if (el.offsetParent === docBody && pos === 'absolute') { break; }

			if (pos === 'fixed') {
				top  += docBody.scrollTop  || docEl.scrollTop  || 0;
				left += docBody.scrollLeft || docEl.scrollLeft || 0;
				break;
			}

			if (pos === 'relative' && !el.offsetLeft) {
				var width = L.DomUtil.getStyle(el, 'width'),
				    maxWidth = L.DomUtil.getStyle(el, 'max-width'),
				    r = el.getBoundingClientRect();

				if (width !== 'none' || maxWidth !== 'none') {
					left += r.left + el.clientLeft;
				}

				//calculate full y offset since we're breaking out of the loop
				top += r.top + (docBody.scrollTop  || docEl.scrollTop  || 0);

				break;
			}

			el = el.offsetParent;

		} while (el);

		el = element;

		do {
			if (el === docBody) { break; }

			top  -= el.scrollTop  || 0;
			left -= el.scrollLeft || 0;

			el = el.parentNode;
		} while (el);

		return new L.Point(left, top);
	},

	documentIsLtr: function () {
		if (!L.DomUtil._docIsLtrCached) {
			L.DomUtil._docIsLtrCached = true;
			L.DomUtil._docIsLtr = L.DomUtil.getStyle(document.body, 'direction') === 'ltr';
		}
		return L.DomUtil._docIsLtr;
	},

	create: function (tagName, className, container) {

		var el = document.createElement(tagName);
		el.className = className;

		if (container) {
			container.appendChild(el);
		}

		return el;
	},

	hasClass: function (el, name) {
		if (el.classList !== undefined) {
			return el.classList.contains(name);
		}
		var className = L.DomUtil._getClass(el);
		return className.length > 0 && new RegExp('(^|\\s)' + name + '(\\s|$)').test(className);
	},

	addClass: function (el, name) {
		if (el.classList !== undefined) {
			var classes = L.Util.splitWords(name);
			for (var i = 0, len = classes.length; i < len; i++) {
				el.classList.add(classes[i]);
			}
		} else if (!L.DomUtil.hasClass(el, name)) {
			var className = L.DomUtil._getClass(el);
			L.DomUtil._setClass(el, (className ? className + ' ' : '') + name);
		}
	},

	removeClass: function (el, name) {
		if (el.classList !== undefined) {
			el.classList.remove(name);
		} else {
			L.DomUtil._setClass(el, L.Util.trim((' ' + L.DomUtil._getClass(el) + ' ').replace(' ' + name + ' ', ' ')));
		}
	},

	_setClass: function (el, name) {
		if (el.className.baseVal === undefined) {
			el.className = name;
		} else {
			// in case of SVG element
			el.className.baseVal = name;
		}
	},

	_getClass: function (el) {
		return el.className.baseVal === undefined ? el.className : el.className.baseVal;
	},

	setOpacity: function (el, value) {

		if ('opacity' in el.style) {
			el.style.opacity = value;

		} else if ('filter' in el.style) {

			var filter = false,
			    filterName = 'DXImageTransform.Microsoft.Alpha';

			// filters collection throws an error if we try to retrieve a filter that doesn't exist
			try {
				filter = el.filters.item(filterName);
			} catch (e) {
				// don't set opacity to 1 if we haven't already set an opacity,
				// it isn't needed and breaks transparent pngs.
				if (value === 1) { return; }
			}

			value = Math.round(value * 100);

			if (filter) {
				filter.Enabled = (value !== 100);
				filter.Opacity = value;
			} else {
				el.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';
			}
		}
	},

	testProp: function (props) {

		var style = document.documentElement.style;

		for (var i = 0; i < props.length; i++) {
			if (props[i] in style) {
				return props[i];
			}
		}
		return false;
	},

	getTranslateString: function (point) {
		// on WebKit browsers (Chrome/Safari/iOS Safari/Android) using translate3d instead of translate
		// makes animation smoother as it ensures HW accel is used. Firefox 13 doesn't care
		// (same speed either way), Opera 12 doesn't support translate3d

		var is3d = L.Browser.webkit3d,
		    open = 'translate' + (is3d ? '3d' : '') + '(',
		    close = (is3d ? ',0' : '') + ')';

		return open + point.x + 'px,' + point.y + 'px' + close;
	},

	getScaleString: function (scale, origin) {

		var preTranslateStr = L.DomUtil.getTranslateString(origin.add(origin.multiplyBy(-1 * scale))),
		    scaleStr = ' scale(' + scale + ') ';

		return preTranslateStr + scaleStr;
	},

	setPosition: function (el, point, disable3D) { // (HTMLElement, Point[, Boolean])

		// jshint camelcase: false
		el._leaflet_pos = point;

		if (!disable3D && L.Browser.any3d) {
			el.style[L.DomUtil.TRANSFORM] =  L.DomUtil.getTranslateString(point);
		} else {
			el.style.left = point.x + 'px';
			el.style.top = point.y + 'px';
		}
	},

	getPosition: function (el) {
		// this method is only used for elements previously positioned using setPosition,
		// so it's safe to cache the position for performance

		// jshint camelcase: false
		return el._leaflet_pos;
	}
};


// prefix style property names

L.DomUtil.TRANSFORM = L.DomUtil.testProp(
        ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);

// webkitTransition comes first because some browser versions that drop vendor prefix don't do
// the same for the transitionend event, in particular the Android 4.1 stock browser

L.DomUtil.TRANSITION = L.DomUtil.testProp(
        ['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);

L.DomUtil.TRANSITION_END =
        L.DomUtil.TRANSITION === 'webkitTransition' || L.DomUtil.TRANSITION === 'OTransition' ?
        L.DomUtil.TRANSITION + 'End' : 'transitionend';

(function () {
    if ('onselectstart' in document) {
        L.extend(L.DomUtil, {
            disableTextSelection: function () {
                L.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);
            },

            enableTextSelection: function () {
                L.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);
            }
        });
    } else {
        var userSelectProperty = L.DomUtil.testProp(
            ['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);

        L.extend(L.DomUtil, {
            disableTextSelection: function () {
                if (userSelectProperty) {
                    var style = document.documentElement.style;
                    this._userSelect = style[userSelectProperty];
                    style[userSelectProperty] = 'none';
                }
            },

            enableTextSelection: function () {
                if (userSelectProperty) {
                    document.documentElement.style[userSelectProperty] = this._userSelect;
                    delete this._userSelect;
                }
            }
        });
    }

	L.extend(L.DomUtil, {
		disableImageDrag: function () {
			L.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);
		},

		enableImageDrag: function () {
			L.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);
		}
	});
})();


/*
 * L.LatLng represents a geographical point with latitude and longitude coordinates.
 */

L.LatLng = function (lat, lng, alt) { // (Number, Number, Number)
	lat = parseFloat(lat);
	lng = parseFloat(lng);

	if (isNaN(lat) || isNaN(lng)) {
		throw new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');
	}

	this.lat = lat;
	this.lng = lng;

	if (alt !== undefined) {
		this.alt = parseFloat(alt);
	}
};

L.extend(L.LatLng, {
	DEG_TO_RAD: Math.PI / 180,
	RAD_TO_DEG: 180 / Math.PI,
	MAX_MARGIN: 1.0E-9 // max margin of error for the "equals" check
});

L.LatLng.prototype = {
	equals: function (obj) { // (LatLng) -> Boolean
		if (!obj) { return false; }

		obj = L.latLng(obj);

		var margin = Math.max(
		        Math.abs(this.lat - obj.lat),
		        Math.abs(this.lng - obj.lng));

		return margin <= L.LatLng.MAX_MARGIN;
	},

	toString: function (precision) { // (Number) -> String
		return 'LatLng(' +
		        L.Util.formatNum(this.lat, precision) + ', ' +
		        L.Util.formatNum(this.lng, precision) + ')';
	},

	// Haversine distance formula, see http://en.wikipedia.org/wiki/Haversine_formula
	// TODO move to projection code, LatLng shouldn't know about Earth
	distanceTo: function (other) { // (LatLng) -> Number
		other = L.latLng(other);

		var R = 6378137, // earth radius in meters
		    d2r = L.LatLng.DEG_TO_RAD,
		    dLat = (other.lat - this.lat) * d2r,
		    dLon = (other.lng - this.lng) * d2r,
		    lat1 = this.lat * d2r,
		    lat2 = other.lat * d2r,
		    sin1 = Math.sin(dLat / 2),
		    sin2 = Math.sin(dLon / 2);

		var a = sin1 * sin1 + sin2 * sin2 * Math.cos(lat1) * Math.cos(lat2);

		return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
	},

	wrap: function (a, b) { // (Number, Number) -> LatLng
		var lng = this.lng;

		a = a || -180;
		b = b ||  180;

		lng = (lng + b) % (b - a) + (lng < a || lng === b ? b : a);

		return new L.LatLng(this.lat, lng);
	}
};

L.latLng = function (a, b) { // (LatLng) or ([Number, Number]) or (Number, Number)
	if (a instanceof L.LatLng) {
		return a;
	}
	if (L.Util.isArray(a)) {
		if (typeof a[0] === 'number' || typeof a[0] === 'string') {
			return new L.LatLng(a[0], a[1], a[2]);
		} else {
			return null;
		}
	}
	if (a === undefined || a === null) {
		return a;
	}
	if (typeof a === 'object' && 'lat' in a) {
		return new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon);
	}
	if (b === undefined) {
		return null;
	}
	return new L.LatLng(a, b);
};



/*
 * L.LatLngBounds represents a rectangular area on the map in geographical coordinates.
 */

L.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])
	if (!southWest) { return; }

	var latlngs = northEast ? [southWest, northEast] : southWest;

	for (var i = 0, len = latlngs.length; i < len; i++) {
		this.extend(latlngs[i]);
	}
};

L.LatLngBounds.prototype = {
	// extend the bounds to contain the given point or bounds
	extend: function (obj) { // (LatLng) or (LatLngBounds)
		if (!obj) { return this; }

		var latLng = L.latLng(obj);
		if (latLng !== null) {
			obj = latLng;
		} else {
			obj = L.latLngBounds(obj);
		}

		if (obj instanceof L.LatLng) {
			if (!this._southWest && !this._northEast) {
				this._southWest = new L.LatLng(obj.lat, obj.lng);
				this._northEast = new L.LatLng(obj.lat, obj.lng);
			} else {
				this._southWest.lat = Math.min(obj.lat, this._southWest.lat);
				this._southWest.lng = Math.min(obj.lng, this._southWest.lng);

				this._northEast.lat = Math.max(obj.lat, this._northEast.lat);
				this._northEast.lng = Math.max(obj.lng, this._northEast.lng);
			}
		} else if (obj instanceof L.LatLngBounds) {
			this.extend(obj._southWest);
			this.extend(obj._northEast);
		}
		return this;
	},

	// extend the bounds by a percentage
	pad: function (bufferRatio) { // (Number) -> LatLngBounds
		var sw = this._southWest,
		    ne = this._northEast,
		    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,
		    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;

		return new L.LatLngBounds(
		        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),
		        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));
	},

	getCenter: function () { // -> LatLng
		return new L.LatLng(
		        (this._southWest.lat + this._northEast.lat) / 2,
		        (this._southWest.lng + this._northEast.lng) / 2);
	},

	getSouthWest: function () {
		return this._southWest;
	},

	getNorthEast: function () {
		return this._northEast;
	},

	getNorthWest: function () {
		return new L.LatLng(this.getNorth(), this.getWest());
	},

	getSouthEast: function () {
		return new L.LatLng(this.getSouth(), this.getEast());
	},

	getWest: function () {
		return this._southWest.lng;
	},

	getSouth: function () {
		return this._southWest.lat;
	},

	getEast: function () {
		return this._northEast.lng;
	},

	getNorth: function () {
		return this._northEast.lat;
	},

	contains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean
		if (typeof obj[0] === 'number' || obj instanceof L.LatLng) {
			obj = L.latLng(obj);
		} else {
			obj = L.latLngBounds(obj);
		}

		var sw = this._southWest,
		    ne = this._northEast,
		    sw2, ne2;

		if (obj instanceof L.LatLngBounds) {
			sw2 = obj.getSouthWest();
			ne2 = obj.getNorthEast();
		} else {
			sw2 = ne2 = obj;
		}

		return (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&
		       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);
	},

	intersects: function (bounds) { // (LatLngBounds)
		bounds = L.latLngBounds(bounds);

		var sw = this._southWest,
		    ne = this._northEast,
		    sw2 = bounds.getSouthWest(),
		    ne2 = bounds.getNorthEast(),

		    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),
		    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);

		return latIntersects && lngIntersects;
	},

	toBBoxString: function () {
		return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');
	},

	equals: function (bounds) { // (LatLngBounds)
		if (!bounds) { return false; }

		bounds = L.latLngBounds(bounds);

		return this._southWest.equals(bounds.getSouthWest()) &&
		       this._northEast.equals(bounds.getNorthEast());
	},

	isValid: function () {
		return !!(this._southWest && this._northEast);
	}
};

//TODO International date line?

L.latLngBounds = function (a, b) { // (LatLngBounds) or (LatLng, LatLng)
	if (!a || a instanceof L.LatLngBounds) {
		return a;
	}
	return new L.LatLngBounds(a, b);
};


/*
 * L.Projection contains various geographical projections used by CRS classes.
 */

L.Projection = {};


/*
 * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS used by default.
 */

L.Projection.SphericalMercator = {
	MAX_LATITUDE: 85.0511287798,

	project: function (latlng) { // (LatLng) -> Point
		var d = L.LatLng.DEG_TO_RAD,
		    max = this.MAX_LATITUDE,
		    lat = Math.max(Math.min(max, latlng.lat), -max),
		    x = latlng.lng * d,
		    y = lat * d;

		y = Math.log(Math.tan((Math.PI / 4) + (y / 2)));

		return new L.Point(x, y);
	},

	unproject: function (point) { // (Point, Boolean) -> LatLng
		var d = L.LatLng.RAD_TO_DEG,
		    lng = point.x * d,
		    lat = (2 * Math.atan(Math.exp(point.y)) - (Math.PI / 2)) * d;

		return new L.LatLng(lat, lng);
	}
};


/*
 * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326 and Simple.
 */

L.Projection.LonLat = {
	project: function (latlng) {
		return new L.Point(latlng.lng, latlng.lat);
	},

	unproject: function (point) {
		return new L.LatLng(point.y, point.x);
	}
};


/*
 * L.CRS is a base object for all defined CRS (Coordinate Reference Systems) in Leaflet.
 */

L.CRS = {
	latLngToPoint: function (latlng, zoom) { // (LatLng, Number) -> Point
		var projectedPoint = this.projection.project(latlng),
		    scale = this.scale(zoom);

		return this.transformation._transform(projectedPoint, scale);
	},

	pointToLatLng: function (point, zoom) { // (Point, Number[, Boolean]) -> LatLng
		var scale = this.scale(zoom),
		    untransformedPoint = this.transformation.untransform(point, scale);

		return this.projection.unproject(untransformedPoint);
	},

	project: function (latlng) {
		return this.projection.project(latlng);
	},

	scale: function (zoom) {
		return 256 * Math.pow(2, zoom);
	},

	getSize: function (zoom) {
		var s = this.scale(zoom);
		return L.point(s, s);
	}
};


/*
 * A simple CRS that can be used for flat non-Earth maps like panoramas or game maps.
 */

L.CRS.Simple = L.extend({}, L.CRS, {
	projection: L.Projection.LonLat,
	transformation: new L.Transformation(1, 0, -1, 0),

	scale: function (zoom) {
		return Math.pow(2, zoom);
	}
});


/*
 * L.CRS.EPSG3857 (Spherical Mercator) is the most common CRS for web mapping
 * and is used by Leaflet by default.
 */

L.CRS.EPSG3857 = L.extend({}, L.CRS, {
	code: 'EPSG:3857',

	projection: L.Projection.SphericalMercator,
	transformation: new L.Transformation(0.5 / Math.PI, 0.5, -0.5 / Math.PI, 0.5),

	project: function (latlng) { // (LatLng) -> Point
		var projectedPoint = this.projection.project(latlng),
		    earthRadius = 6378137;
		return projectedPoint.multiplyBy(earthRadius);
	}
});

L.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {
	code: 'EPSG:900913'
});


/*
 * L.CRS.EPSG4326 is a CRS popular among advanced GIS specialists.
 */

L.CRS.EPSG4326 = L.extend({}, L.CRS, {
	code: 'EPSG:4326',

	projection: L.Projection.LonLat,
	transformation: new L.Transformation(1 / 360, 0.5, -1 / 360, 0.5)
});


/*
 * L.Map is the central class of the API - it is used to create a map.
 */

L.Map = L.Class.extend({

	includes: L.Mixin.Events,

	options: {
		crs: L.CRS.EPSG3857,

		/*
		center: LatLng,
		zoom: Number,
		layers: Array,
		*/

		fadeAnimation: L.DomUtil.TRANSITION && !L.Browser.android23,
		trackResize: true,
		markerZoomAnimation: L.DomUtil.TRANSITION && L.Browser.any3d
	},

	initialize: function (id, options) { // (HTMLElement or String, Object)
		options = L.setOptions(this, options);


		this._initContainer(id);
		this._initLayout();

		// hack for https://github.com/Leaflet/Leaflet/issues/1980
		this._onResize = L.bind(this._onResize, this);

		this._initEvents();

		if (options.maxBounds) {
			this.setMaxBounds(options.maxBounds);
		}

		if (options.center && options.zoom !== undefined) {
			this.setView(L.latLng(options.center), options.zoom, {reset: true});
		}

		this._handlers = [];

		this._layers = {};
		this._zoomBoundLayers = {};
		this._tileLayersNum = 0;

		this.callInitHooks();

		this._addLayers(options.layers);
	},


	// public methods that modify map state

	// replaced by animation-powered implementation in Map.PanAnimation.js
	setView: function (center, zoom) {
		zoom = zoom === undefined ? this.getZoom() : zoom;
		this._resetView(L.latLng(center), this._limitZoom(zoom));
		return this;
	},

	setZoom: function (zoom, options) {
		if (!this._loaded) {
			this._zoom = this._limitZoom(zoom);
			return this;
		}
		return this.setView(this.getCenter(), zoom, {zoom: options});
	},

	zoomIn: function (delta, options) {
		return this.setZoom(this._zoom + (delta || 1), options);
	},

	zoomOut: function (delta, options) {
		return this.setZoom(this._zoom - (delta || 1), options);
	},

	setZoomAround: function (latlng, zoom, options) {
		var scale = this.getZoomScale(zoom),
		    viewHalf = this.getSize().divideBy(2),
		    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),

		    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),
		    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));

		return this.setView(newCenter, zoom, {zoom: options});
	},

	fitBounds: function (bounds, options) {

		options = options || {};
		bounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);

		var paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),
		    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),

		    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR)),
		    paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),

		    swPoint = this.project(bounds.getSouthWest(), zoom),
		    nePoint = this.project(bounds.getNorthEast(), zoom),
		    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);

		zoom = options && options.maxZoom ? Math.min(options.maxZoom, zoom) : zoom;

		return this.setView(center, zoom, options);
	},

	fitWorld: function (options) {
		return this.fitBounds([[-90, -180], [90, 180]], options);
	},

	panTo: function (center, options) { // (LatLng)
		return this.setView(center, this._zoom, {pan: options});
	},

	panBy: function (offset) { // (Point)
		// replaced with animated panBy in Map.PanAnimation.js
		this.fire('movestart');

		this._rawPanBy(L.point(offset));

		this.fire('move');
		return this.fire('moveend');
	},

	setMaxBounds: function (bounds) {
		bounds = L.latLngBounds(bounds);

		this.options.maxBounds = bounds;

		if (!bounds) {
			return this.off('moveend', this._panInsideMaxBounds, this);
		}

		if (this._loaded) {
			this._panInsideMaxBounds();
		}

		return this.on('moveend', this._panInsideMaxBounds, this);
	},

	panInsideBounds: function (bounds, options) {
		var center = this.getCenter(),
			newCenter = this._limitCenter(center, this._zoom, bounds);

		if (center.equals(newCenter)) { return this; }

		return this.panTo(newCenter, options);
	},

	addLayer: function (layer) {
		// TODO method is too big, refactor

		var id = L.stamp(layer);

		if (this._layers[id]) { return this; }

		this._layers[id] = layer;

		// TODO getMaxZoom, getMinZoom in ILayer (instead of options)
		if (layer.options && (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom))) {
			this._zoomBoundLayers[id] = layer;
			this._updateZoomLevels();
		}

		// TODO looks ugly, refactor!!!
		if (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {
			this._tileLayersNum++;
			this._tileLayersToLoad++;
			layer.on('load', this._onTileLayerLoad, this);
		}

		if (this._loaded) {
			this._layerAdd(layer);
		}

		return this;
	},

	removeLayer: function (layer) {
		var id = L.stamp(layer);

		if (!this._layers[id]) { return this; }

		if (this._loaded) {
			layer.onRemove(this);
		}

		delete this._layers[id];

		if (this._loaded) {
			this.fire('layerremove', {layer: layer});
		}

		if (this._zoomBoundLayers[id]) {
			delete this._zoomBoundLayers[id];
			this._updateZoomLevels();
		}

		// TODO looks ugly, refactor
		if (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {
			this._tileLayersNum--;
			this._tileLayersToLoad--;
			layer.off('load', this._onTileLayerLoad, this);
		}

		return this;
	},

	hasLayer: function (layer) {
		if (!layer) { return false; }

		return (L.stamp(layer) in this._layers);
	},

	eachLayer: function (method, context) {
		for (var i in this._layers) {
			method.call(context, this._layers[i]);
		}
		return this;
	},

	invalidateSize: function (options) {
		if (!this._loaded) { return this; }

		options = L.extend({
			animate: false,
			pan: true
		}, options === true ? {animate: true} : options);

		var oldSize = this.getSize();
		this._sizeChanged = true;
		this._initialCenter = null;

		var newSize = this.getSize(),
		    oldCenter = oldSize.divideBy(2).round(),
		    newCenter = newSize.divideBy(2).round(),
		    offset = oldCenter.subtract(newCenter);

		if (!offset.x && !offset.y) { return this; }

		if (options.animate && options.pan) {
			this.panBy(offset);

		} else {
			if (options.pan) {
				this._rawPanBy(offset);
			}

			this.fire('move');

			if (options.debounceMoveend) {
				clearTimeout(this._sizeTimer);
				this._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);
			} else {
				this.fire('moveend');
			}
		}

		return this.fire('resize', {
			oldSize: oldSize,
			newSize: newSize
		});
	},

	// TODO handler.addTo
	addHandler: function (name, HandlerClass) {
		if (!HandlerClass) { return this; }

		var handler = this[name] = new HandlerClass(this);

		this._handlers.push(handler);

		if (this.options[name]) {
			handler.enable();
		}

		return this;
	},

	remove: function () {
		if (this._loaded) {
			this.fire('unload');
		}

		this._initEvents('off');

		try {
			// throws error in IE6-8
			delete this._container._leaflet;
		} catch (e) {
			this._container._leaflet = undefined;
		}

		this._clearPanes();
		if (this._clearControlPos) {
			this._clearControlPos();
		}

		this._clearHandlers();

		return this;
	},


	// public methods for getting map state

	getCenter: function () { // (Boolean) -> LatLng
		this._checkIfLoaded();

		if (this._initialCenter && !this._moved()) {
			return this._initialCenter;
		}
		return this.layerPointToLatLng(this._getCenterLayerPoint());
	},

	getZoom: function () {
		return this._zoom;
	},

	getBounds: function () {
		var bounds = this.getPixelBounds(),
		    sw = this.unproject(bounds.getBottomLeft()),
		    ne = this.unproject(bounds.getTopRight());

		return new L.LatLngBounds(sw, ne);
	},

	getMinZoom: function () {
		return this.options.minZoom === undefined ?
			(this._layersMinZoom === undefined ? 0 : this._layersMinZoom) :
			this.options.minZoom;
	},

	getMaxZoom: function () {
		return this.options.maxZoom === undefined ?
			(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :
			this.options.maxZoom;
	},

	getBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number
		bounds = L.latLngBounds(bounds);

		var zoom = this.getMinZoom() - (inside ? 1 : 0),
		    maxZoom = this.getMaxZoom(),
		    size = this.getSize(),

		    nw = bounds.getNorthWest(),
		    se = bounds.getSouthEast(),

		    zoomNotFound = true,
		    boundsSize;

		padding = L.point(padding || [0, 0]);

		do {
			zoom++;
			boundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)).add(padding);
			zoomNotFound = !inside ? size.contains(boundsSize) : boundsSize.x < size.x || boundsSize.y < size.y;

		} while (zoomNotFound && zoom <= maxZoom);

		if (zoomNotFound && inside) {
			return null;
		}

		return inside ? zoom : zoom - 1;
	},

	getSize: function () {
		if (!this._size || this._sizeChanged) {
			this._size = new L.Point(
				this._container.clientWidth,
				this._container.clientHeight);

			this._sizeChanged = false;
		}
		return this._size.clone();
	},

	getPixelBounds: function () {
		var topLeftPoint = this._getTopLeftPoint();
		return new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));
	},

	getPixelOrigin: function () {
		this._checkIfLoaded();
		return this._initialTopLeftPoint;
	},

	getPanes: function () {
		return this._panes;
	},

	getContainer: function () {
		return this._container;
	},


	// TODO replace with universal implementation after refactoring projections

	getZoomScale: function (toZoom) {
		var crs = this.options.crs;
		return crs.scale(toZoom) / crs.scale(this._zoom);
	},

	getScaleZoom: function (scale) {
		return this._zoom + (Math.log(scale) / Math.LN2);
	},


	// conversion methods

	project: function (latlng, zoom) { // (LatLng[, Number]) -> Point
		zoom = zoom === undefined ? this._zoom : zoom;
		return this.options.crs.latLngToPoint(L.latLng(latlng), zoom);
	},

	unproject: function (point, zoom) { // (Point[, Number]) -> LatLng
		zoom = zoom === undefined ? this._zoom : zoom;
		return this.options.crs.pointToLatLng(L.point(point), zoom);
	},

	layerPointToLatLng: function (point) { // (Point)
		var projectedPoint = L.point(point).add(this.getPixelOrigin());
		return this.unproject(projectedPoint);
	},

	latLngToLayerPoint: function (latlng) { // (LatLng)
		var projectedPoint = this.project(L.latLng(latlng))._round();
		return projectedPoint._subtract(this.getPixelOrigin());
	},

	containerPointToLayerPoint: function (point) { // (Point)
		return L.point(point).subtract(this._getMapPanePos());
	},

	layerPointToContainerPoint: function (point) { // (Point)
		return L.point(point).add(this._getMapPanePos());
	},

	containerPointToLatLng: function (point) {
		var layerPoint = this.containerPointToLayerPoint(L.point(point));
		return this.layerPointToLatLng(layerPoint);
	},

	latLngToContainerPoint: function (latlng) {
		return this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));
	},

	mouseEventToContainerPoint: function (e) { // (MouseEvent)
		return L.DomEvent.getMousePosition(e, this._container);
	},

	mouseEventToLayerPoint: function (e) { // (MouseEvent)
		return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));
	},

	mouseEventToLatLng: function (e) { // (MouseEvent)
		return this.layerPointToLatLng(this.mouseEventToLayerPoint(e));
	},


	// map initialization methods

	_initContainer: function (id) {
		var container = this._container = L.DomUtil.get(id);

		if (!container) {
			throw new Error('Map container not found.');
		} else if (container._leaflet) {
			throw new Error('Map container is already initialized.');
		}

		container._leaflet = true;
	},

	_initLayout: function () {
		var container = this._container;

		L.DomUtil.addClass(container, 'leaflet-container' +
			(L.Browser.touch ? ' leaflet-touch' : '') +
			(L.Browser.retina ? ' leaflet-retina' : '') +
			(L.Browser.ielt9 ? ' leaflet-oldie' : '') +
			(this.options.fadeAnimation ? ' leaflet-fade-anim' : ''));

		var position = L.DomUtil.getStyle(container, 'position');

		if (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {
			container.style.position = 'relative';
		}

		this._initPanes();

		if (this._initControlPos) {
			this._initControlPos();
		}
	},

	_initPanes: function () {
		var panes = this._panes = {};

		this._mapPane = panes.mapPane = this._createPane('leaflet-map-pane', this._container);

		this._tilePane = panes.tilePane = this._createPane('leaflet-tile-pane', this._mapPane);
		panes.objectsPane = this._createPane('leaflet-objects-pane', this._mapPane);
		panes.shadowPane = this._createPane('leaflet-shadow-pane');
		panes.overlayPane = this._createPane('leaflet-overlay-pane');
		panes.markerPane = this._createPane('leaflet-marker-pane');
		panes.popupPane = this._createPane('leaflet-popup-pane');

		var zoomHide = ' leaflet-zoom-hide';

		if (!this.options.markerZoomAnimation) {
			L.DomUtil.addClass(panes.markerPane, zoomHide);
			L.DomUtil.addClass(panes.shadowPane, zoomHide);
			L.DomUtil.addClass(panes.popupPane, zoomHide);
		}
	},

	_createPane: function (className, container) {
		return L.DomUtil.create('div', className, container || this._panes.objectsPane);
	},

	_clearPanes: function () {
		this._container.removeChild(this._mapPane);
	},

	_addLayers: function (layers) {
		layers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];

		for (var i = 0, len = layers.length; i < len; i++) {
			this.addLayer(layers[i]);
		}
	},


	// private methods that modify map state

	_resetView: function (center, zoom, preserveMapOffset, afterZoomAnim) {

		var zoomChanged = (this._zoom !== zoom);

		if (!afterZoomAnim) {
			this.fire('movestart');

			if (zoomChanged) {
				this.fire('zoomstart');
			}
		}

		this._zoom = zoom;
		this._initialCenter = center;

		this._initialTopLeftPoint = this._getNewTopLeftPoint(center);

		if (!preserveMapOffset) {
			L.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));
		} else {
			this._initialTopLeftPoint._add(this._getMapPanePos());
		}

		this._tileLayersToLoad = this._tileLayersNum;

		var loading = !this._loaded;
		this._loaded = true;

		if (loading) {
			this.fire('load');
			this.eachLayer(this._layerAdd, this);
		}

		this.fire('viewreset', {hard: !preserveMapOffset});

		this.fire('move');

		if (zoomChanged || afterZoomAnim) {
			this.fire('zoomend');
		}

		this.fire('moveend', {hard: !preserveMapOffset});
	},

	_rawPanBy: function (offset) {
		L.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));
	},

	_getZoomSpan: function () {
		return this.getMaxZoom() - this.getMinZoom();
	},

	_updateZoomLevels: function () {
		var i,
			minZoom = Infinity,
			maxZoom = -Infinity,
			oldZoomSpan = this._getZoomSpan();

		for (i in this._zoomBoundLayers) {
			var layer = this._zoomBoundLayers[i];
			if (!isNaN(layer.options.minZoom)) {
				minZoom = Math.min(minZoom, layer.options.minZoom);
			}
			if (!isNaN(layer.options.maxZoom)) {
				maxZoom = Math.max(maxZoom, layer.options.maxZoom);
			}
		}

		if (i === undefined) { // we have no tilelayers
			this._layersMaxZoom = this._layersMinZoom = undefined;
		} else {
			this._layersMaxZoom = maxZoom;
			this._layersMinZoom = minZoom;
		}

		if (oldZoomSpan !== this._getZoomSpan()) {
			this.fire('zoomlevelschange');
		}
	},

	_panInsideMaxBounds: function () {
		this.panInsideBounds(this.options.maxBounds);
	},

	_checkIfLoaded: function () {
		if (!this._loaded) {
			throw new Error('Set map center and zoom first.');
		}
	},

	// map events

	_initEvents: function (onOff) {
		if (!L.DomEvent) { return; }

		onOff = onOff || 'on';

		L.DomEvent[onOff](this._container, 'click', this._onMouseClick, this);

		var events = ['dblclick', 'mousedown', 'mouseup', 'mouseenter',
		              'mouseleave', 'mousemove', 'contextmenu'],
		    i, len;

		for (i = 0, len = events.length; i < len; i++) {
			L.DomEvent[onOff](this._container, events[i], this._fireMouseEvent, this);
		}

		if (this.options.trackResize) {
			L.DomEvent[onOff](window, 'resize', this._onResize, this);
		}
	},

	_onResize: function () {
		L.Util.cancelAnimFrame(this._resizeRequest);
		this._resizeRequest = L.Util.requestAnimFrame(
		        function () { this.invalidateSize({debounceMoveend: true}); }, this, false, this._container);
	},

	_onMouseClick: function (e) {
		if (!this._loaded || (!e._simulated &&
		        ((this.dragging && this.dragging.moved()) ||
		         (this.boxZoom  && this.boxZoom.moved()))) ||
		            L.DomEvent._skipped(e)) { return; }

		this.fire('preclick');
		this._fireMouseEvent(e);
	},

	_fireMouseEvent: function (e) {
		if (!this._loaded || L.DomEvent._skipped(e)) { return; }

		var type = e.type;

		type = (type === 'mouseenter' ? 'mouseover' : (type === 'mouseleave' ? 'mouseout' : type));

		if (!this.hasEventListeners(type)) { return; }

		if (type === 'contextmenu') {
			L.DomEvent.preventDefault(e);
		}

		var containerPoint = this.mouseEventToContainerPoint(e),
		    layerPoint = this.containerPointToLayerPoint(containerPoint),
		    latlng = this.layerPointToLatLng(layerPoint);

		this.fire(type, {
			latlng: latlng,
			layerPoint: layerPoint,
			containerPoint: containerPoint,
			originalEvent: e
		});
	},

	_onTileLayerLoad: function () {
		this._tileLayersToLoad--;
		if (this._tileLayersNum && !this._tileLayersToLoad) {
			this.fire('tilelayersload');
		}
	},

	_clearHandlers: function () {
		for (var i = 0, len = this._handlers.length; i < len; i++) {
			this._handlers[i].disable();
		}
	},

	whenReady: function (callback, context) {
		if (this._loaded) {
			callback.call(context || this, this);
		} else {
			this.on('load', callback, context);
		}
		return this;
	},

	_layerAdd: function (layer) {
		layer.onAdd(this);
		this.fire('layeradd', {layer: layer});
	},


	// private methods for getting map state

	_getMapPanePos: function () {
		return L.DomUtil.getPosition(this._mapPane);
	},

	_moved: function () {
		var pos = this._getMapPanePos();
		return pos && !pos.equals([0, 0]);
	},

	_getTopLeftPoint: function () {
		return this.getPixelOrigin().subtract(this._getMapPanePos());
	},

	_getNewTopLeftPoint: function (center, zoom) {
		var viewHalf = this.getSize()._divideBy(2);
		// TODO round on display, not calculation to increase precision?
		return this.project(center, zoom)._subtract(viewHalf)._round();
	},

	_latLngToNewLayerPoint: function (latlng, newZoom, newCenter) {
		var topLeft = this._getNewTopLeftPoint(newCenter, newZoom).add(this._getMapPanePos());
		return this.project(latlng, newZoom)._subtract(topLeft);
	},

	// layer point of the current center
	_getCenterLayerPoint: function () {
		return this.containerPointToLayerPoint(this.getSize()._divideBy(2));
	},

	// offset of the specified place to the current center in pixels
	_getCenterOffset: function (latlng) {
		return this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());
	},

	// adjust center for view to get inside bounds
	_limitCenter: function (center, zoom, bounds) {

		if (!bounds) { return center; }

		var centerPoint = this.project(center, zoom),
		    viewHalf = this.getSize().divideBy(2),
		    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),
		    offset = this._getBoundsOffset(viewBounds, bounds, zoom);

		return this.unproject(centerPoint.add(offset), zoom);
	},

	// adjust offset for view to get inside bounds
	_limitOffset: function (offset, bounds) {
		if (!bounds) { return offset; }

		var viewBounds = this.getPixelBounds(),
		    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));

		return offset.add(this._getBoundsOffset(newBounds, bounds));
	},

	// returns offset needed for pxBounds to get inside maxBounds at a specified zoom
	_getBoundsOffset: function (pxBounds, maxBounds, zoom) {
		var nwOffset = this.project(maxBounds.getNorthWest(), zoom).subtract(pxBounds.min),
		    seOffset = this.project(maxBounds.getSouthEast(), zoom).subtract(pxBounds.max),

		    dx = this._rebound(nwOffset.x, -seOffset.x),
		    dy = this._rebound(nwOffset.y, -seOffset.y);

		return new L.Point(dx, dy);
	},

	_rebound: function (left, right) {
		return left + right > 0 ?
			Math.round(left - right) / 2 :
			Math.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));
	},

	_limitZoom: function (zoom) {
		var min = this.getMinZoom(),
		    max = this.getMaxZoom();

		return Math.max(min, Math.min(max, zoom));
	}
});

L.map = function (id, options) {
	return new L.Map(id, options);
};


/*
 * Mercator projection that takes into account that the Earth is not a perfect sphere.
 * Less popular than spherical mercator; used by projections like EPSG:3395.
 */

L.Projection.Mercator = {
	MAX_LATITUDE: 85.0840591556,

	R_MINOR: 6356752.314245179,
	R_MAJOR: 6378137,

	project: function (latlng) { // (LatLng) -> Point
		var d = L.LatLng.DEG_TO_RAD,
		    max = this.MAX_LATITUDE,
		    lat = Math.max(Math.min(max, latlng.lat), -max),
		    r = this.R_MAJOR,
		    r2 = this.R_MINOR,
		    x = latlng.lng * d * r,
		    y = lat * d,
		    tmp = r2 / r,
		    eccent = Math.sqrt(1.0 - tmp * tmp),
		    con = eccent * Math.sin(y);

		con = Math.pow((1 - con) / (1 + con), eccent * 0.5);

		var ts = Math.tan(0.5 * ((Math.PI * 0.5) - y)) / con;
		y = -r * Math.log(ts);

		return new L.Point(x, y);
	},

	unproject: function (point) { // (Point, Boolean) -> LatLng
		var d = L.LatLng.RAD_TO_DEG,
		    r = this.R_MAJOR,
		    r2 = this.R_MINOR,
		    lng = point.x * d / r,
		    tmp = r2 / r,
		    eccent = Math.sqrt(1 - (tmp * tmp)),
		    ts = Math.exp(- point.y / r),
		    phi = (Math.PI / 2) - 2 * Math.atan(ts),
		    numIter = 15,
		    tol = 1e-7,
		    i = numIter,
		    dphi = 0.1,
		    con;

		while ((Math.abs(dphi) > tol) && (--i > 0)) {
			con = eccent * Math.sin(phi);
			dphi = (Math.PI / 2) - 2 * Math.atan(ts *
			            Math.pow((1.0 - con) / (1.0 + con), 0.5 * eccent)) - phi;
			phi += dphi;
		}

		return new L.LatLng(phi * d, lng);
	}
};



L.CRS.EPSG3395 = L.extend({}, L.CRS, {
	code: 'EPSG:3395',

	projection: L.Projection.Mercator,

	transformation: (function () {
		var m = L.Projection.Mercator,
		    r = m.R_MAJOR,
		    scale = 0.5 / (Math.PI * r);

		return new L.Transformation(scale, 0.5, -scale, 0.5);
	}())
});


/*
 * L.TileLayer is used for standard xyz-numbered tile layers.
 */

L.TileLayer = L.Class.extend({
	includes: L.Mixin.Events,

	options: {
		minZoom: 0,
		maxZoom: 18,
		tileSize: 256,
		subdomains: 'abc',
		errorTileUrl: '',
		attribution: '',
		zoomOffset: 0,
		opacity: 1,
		/*
		maxNativeZoom: null,
		zIndex: null,
		tms: false,
		continuousWorld: false,
		noWrap: false,
		zoomReverse: false,
		detectRetina: false,
		reuseTiles: false,
		bounds: false,
		*/
		unloadInvisibleTiles: L.Browser.mobile,
		updateWhenIdle: L.Browser.mobile
	},

	initialize: function (url, options) {
		options = L.setOptions(this, options);

		// detecting retina displays, adjusting tileSize and zoom levels
		if (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {

			options.tileSize = Math.floor(options.tileSize / 2);
			options.zoomOffset++;

			if (options.minZoom > 0) {
				options.minZoom--;
			}
			this.options.maxZoom--;
		}

		if (options.bounds) {
			options.bounds = L.latLngBounds(options.bounds);
		}

		this._url = url;

		var subdomains = this.options.subdomains;

		if (typeof subdomains === 'string') {
			this.options.subdomains = subdomains.split('');
		}
	},

	onAdd: function (map) {
		this._map = map;
		this._animated = map._zoomAnimated;

		// create a container div for tiles
		this._initContainer();

		// set up events
		map.on({
			'viewreset': this._reset,
			'moveend': this._update
		}, this);

		if (this._animated) {
			map.on({
				'zoomanim': this._animateZoom,
				'zoomend': this._endZoomAnim
			}, this);
		}

		if (!this.options.updateWhenIdle) {
			this._limitedUpdate = L.Util.limitExecByInterval(this._update, 150, this);
			map.on('move', this._limitedUpdate, this);
		}

		this._reset();
		this._update();
	},

	addTo: function (map) {
		map.addLayer(this);
		return this;
	},

	onRemove: function (map) {
		this._container.parentNode.removeChild(this._container);

		map.off({
			'viewreset': this._reset,
			'moveend': this._update
		}, this);

		if (this._animated) {
			map.off({
				'zoomanim': this._animateZoom,
				'zoomend': this._endZoomAnim
			}, this);
		}

		if (!this.options.updateWhenIdle) {
			map.off('move', this._limitedUpdate, this);
		}

		this._container = null;
		this._map = null;
	},

	bringToFront: function () {
		var pane = this._map._panes.tilePane;

		if (this._container) {
			pane.appendChild(this._container);
			this._setAutoZIndex(pane, Math.max);
		}

		return this;
	},

	bringToBack: function () {
		var pane = this._map._panes.tilePane;

		if (this._container) {
			pane.insertBefore(this._container, pane.firstChild);
			this._setAutoZIndex(pane, Math.min);
		}

		return this;
	},

	getAttribution: function () {
		return this.options.attribution;
	},

	getContainer: function () {
		return this._container;
	},

	setOpacity: function (opacity) {
		this.options.opacity = opacity;

		if (this._map) {
			this._updateOpacity();
		}

		return this;
	},

	setZIndex: function (zIndex) {
		this.options.zIndex = zIndex;
		this._updateZIndex();

		return this;
	},

	setUrl: function (url, noRedraw) {
		this._url = url;

		if (!noRedraw) {
			this.redraw();
		}

		return this;
	},

	redraw: function () {
		if (this._map) {
			this._reset({hard: true});
			this._update();
		}
		return this;
	},

	_updateZIndex: function () {
		if (this._container && this.options.zIndex !== undefined) {
			this._container.style.zIndex = this.options.zIndex;
		}
	},

	_setAutoZIndex: function (pane, compare) {

		var layers = pane.children,
		    edgeZIndex = -compare(Infinity, -Infinity), // -Infinity for max, Infinity for min
		    zIndex, i, len;

		for (i = 0, len = layers.length; i < len; i++) {

			if (layers[i] !== this._container) {
				zIndex = parseInt(layers[i].style.zIndex, 10);

				if (!isNaN(zIndex)) {
					edgeZIndex = compare(edgeZIndex, zIndex);
				}
			}
		}

		this.options.zIndex = this._container.style.zIndex =
		        (isFinite(edgeZIndex) ? edgeZIndex : 0) + compare(1, -1);
	},

	_updateOpacity: function () {
		var i,
		    tiles = this._tiles;

		if (L.Browser.ielt9) {
			for (i in tiles) {
				L.DomUtil.setOpacity(tiles[i], this.options.opacity);
			}
		} else {
			L.DomUtil.setOpacity(this._container, this.options.opacity);
		}
	},

	_initContainer: function () {
		var tilePane = this._map._panes.tilePane;

		if (!this._container) {
			this._container = L.DomUtil.create('div', 'leaflet-layer');

			this._updateZIndex();

			if (this._animated) {
				var className = 'leaflet-tile-container';

				this._bgBuffer = L.DomUtil.create('div', className, this._container);
				this._tileContainer = L.DomUtil.create('div', className, this._container);

			} else {
				this._tileContainer = this._container;
			}

			tilePane.appendChild(this._container);

			if (this.options.opacity < 1) {
				this._updateOpacity();
			}
		}
	},

	_reset: function (e) {
		for (var key in this._tiles) {
			this.fire('tileunload', {tile: this._tiles[key]});
		}

		this._tiles = {};
		this._tilesToLoad = 0;

		if (this.options.reuseTiles) {
			this._unusedTiles = [];
		}

		this._tileContainer.innerHTML = '';

		if (this._animated && e && e.hard) {
			this._clearBgBuffer();
		}

		this._initContainer();
	},

	_getTileSize: function () {
		var map = this._map,
		    zoom = map.getZoom() + this.options.zoomOffset,
		    zoomN = this.options.maxNativeZoom,
		    tileSize = this.options.tileSize;

		if (zoomN && zoom > zoomN) {
			tileSize = Math.round(map.getZoomScale(zoom) / map.getZoomScale(zoomN) * tileSize);
		}

		return tileSize;
	},

	_update: function () {

		if (!this._map) { return; }

		var map = this._map,
		    bounds = map.getPixelBounds(),
		    zoom = map.getZoom(),
		    tileSize = this._getTileSize();

		if (zoom > this.options.maxZoom || zoom < this.options.minZoom) {
			return;
		}

		var tileBounds = L.bounds(
		        bounds.min.divideBy(tileSize)._floor(),
		        bounds.max.divideBy(tileSize)._floor());

		this._addTilesFromCenterOut(tileBounds);

		if (this.options.unloadInvisibleTiles || this.options.reuseTiles) {
			this._removeOtherTiles(tileBounds);
		}
	},

	_addTilesFromCenterOut: function (bounds) {
		var queue = [],
		    center = bounds.getCenter();

		var j, i, point;

		for (j = bounds.min.y; j <= bounds.max.y; j++) {
			for (i = bounds.min.x; i <= bounds.max.x; i++) {
				point = new L.Point(i, j);

				if (this._tileShouldBeLoaded(point)) {
					queue.push(point);
				}
			}
		}

		var tilesToLoad = queue.length;

		if (tilesToLoad === 0) { return; }

		// load tiles in order of their distance to center
		queue.sort(function (a, b) {
			return a.distanceTo(center) - b.distanceTo(center);
		});

		var fragment = document.createDocumentFragment();

		// if its the first batch of tiles to load
		if (!this._tilesToLoad) {
			this.fire('loading');
		}

		this._tilesToLoad += tilesToLoad;

		for (i = 0; i < tilesToLoad; i++) {
			this._addTile(queue[i], fragment);
		}

		this._tileContainer.appendChild(fragment);
	},

	_tileShouldBeLoaded: function (tilePoint) {
		if ((tilePoint.x + ':' + tilePoint.y) in this._tiles) {
			return false; // already loaded
		}

		var options = this.options;

		if (!options.continuousWorld) {
			var limit = this._getWrapTileNum();

			// don't load if exceeds world bounds
			if ((options.noWrap && (tilePoint.x < 0 || tilePoint.x >= limit.x)) ||
				tilePoint.y < 0 || tilePoint.y >= limit.y) { return false; }
		}

		if (options.bounds) {
			var tileSize = options.tileSize,
			    nwPoint = tilePoint.multiplyBy(tileSize),
			    sePoint = nwPoint.add([tileSize, tileSize]),
			    nw = this._map.unproject(nwPoint),
			    se = this._map.unproject(sePoint);

			// TODO temporary hack, will be removed after refactoring projections
			// https://github.com/Leaflet/Leaflet/issues/1618
			if (!options.continuousWorld && !options.noWrap) {
				nw = nw.wrap();
				se = se.wrap();
			}

			if (!options.bounds.intersects([nw, se])) { return false; }
		}

		return true;
	},

	_removeOtherTiles: function (bounds) {
		var kArr, x, y, key;

		for (key in this._tiles) {
			kArr = key.split(':');
			x = parseInt(kArr[0], 10);
			y = parseInt(kArr[1], 10);

			// remove tile if it's out of bounds
			if (x < bounds.min.x || x > bounds.max.x || y < bounds.min.y || y > bounds.max.y) {
				this._removeTile(key);
			}
		}
	},

	_removeTile: function (key) {
		var tile = this._tiles[key];

		this.fire('tileunload', {tile: tile, url: tile.src});

		if (this.options.reuseTiles) {
			L.DomUtil.removeClass(tile, 'leaflet-tile-loaded');
			this._unusedTiles.push(tile);

		} else if (tile.parentNode === this._tileContainer) {
			this._tileContainer.removeChild(tile);
		}

		// for https://github.com/CloudMade/Leaflet/issues/137
		if (!L.Browser.android) {
			tile.onload = null;
			tile.src = L.Util.emptyImageUrl;
		}

		delete this._tiles[key];
	},

	_addTile: function (tilePoint, container) {
		var tilePos = this._getTilePos(tilePoint);

		// get unused tile - or create a new tile
		var tile = this._getTile();

		/*
		Chrome 20 layouts much faster with top/left (verify with timeline, frames)
		Android 4 browser has display issues with top/left and requires transform instead
		(other browsers don't currently care) - see debug/hacks/jitter.html for an example
		*/
		L.DomUtil.setPosition(tile, tilePos, L.Browser.chrome);

		this._tiles[tilePoint.x + ':' + tilePoint.y] = tile;

		this._loadTile(tile, tilePoint);

		if (tile.parentNode !== this._tileContainer) {
			container.appendChild(tile);
		}
	},

	_getZoomForUrl: function () {

		var options = this.options,
		    zoom = this._map.getZoom();

		if (options.zoomReverse) {
			zoom = options.maxZoom - zoom;
		}

		zoom += options.zoomOffset;

		return options.maxNativeZoom ? Math.min(zoom, options.maxNativeZoom) : zoom;
	},

	_getTilePos: function (tilePoint) {
		var origin = this._map.getPixelOrigin(),
		    tileSize = this._getTileSize();

		return tilePoint.multiplyBy(tileSize).subtract(origin);
	},

	// image-specific code (override to implement e.g. Canvas or SVG tile layer)

	getTileUrl: function (tilePoint) {
		return L.Util.template(this._url, L.extend({
			s: this._getSubdomain(tilePoint),
			z: tilePoint.z,
			x: tilePoint.x,
			y: tilePoint.y
		}, this.options));
	},

	_getWrapTileNum: function () {
		var crs = this._map.options.crs,
		    size = crs.getSize(this._map.getZoom());
		return size.divideBy(this._getTileSize())._floor();
	},

	_adjustTilePoint: function (tilePoint) {

		var limit = this._getWrapTileNum();

		// wrap tile coordinates
		if (!this.options.continuousWorld && !this.options.noWrap) {
			tilePoint.x = ((tilePoint.x % limit.x) + limit.x) % limit.x;
		}

		if (this.options.tms) {
			tilePoint.y = limit.y - tilePoint.y - 1;
		}

		tilePoint.z = this._getZoomForUrl();
	},

	_getSubdomain: function (tilePoint) {
		var index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;
		return this.options.subdomains[index];
	},

	_getTile: function () {
		if (this.options.reuseTiles && this._unusedTiles.length > 0) {
			var tile = this._unusedTiles.pop();
			this._resetTile(tile);
			return tile;
		}
		return this._createTile();
	},

	// Override if data stored on a tile needs to be cleaned up before reuse
	_resetTile: function (/*tile*/) {},

	_createTile: function () {
		var tile = L.DomUtil.create('img', 'leaflet-tile');
		tile.style.width = tile.style.height = this._getTileSize() + 'px';
		tile.galleryimg = 'no';

		tile.onselectstart = tile.onmousemove = L.Util.falseFn;

		if (L.Browser.ielt9 && this.options.opacity !== undefined) {
			L.DomUtil.setOpacity(tile, this.options.opacity);
		}
		// without this hack, tiles disappear after zoom on Chrome for Android
		// https://github.com/Leaflet/Leaflet/issues/2078
		if (L.Browser.mobileWebkit3d) {
			tile.style.WebkitBackfaceVisibility = 'hidden';
		}
		return tile;
	},

	_loadTile: function (tile, tilePoint) {
		tile._layer  = this;
		tile.onload  = this._tileOnLoad;
		tile.onerror = this._tileOnError;

		this._adjustTilePoint(tilePoint);
		tile.src     = this.getTileUrl(tilePoint);

		this.fire('tileloadstart', {
			tile: tile,
			url: tile.src
		});
	},

	_tileLoaded: function () {
		this._tilesToLoad--;

		if (this._animated) {
			L.DomUtil.addClass(this._tileContainer, 'leaflet-zoom-animated');
		}

		if (!this._tilesToLoad) {
			this.fire('load');

			if (this._animated) {
				// clear scaled tiles after all new tiles are loaded (for performance)
				clearTimeout(this._clearBgBufferTimer);
				this._clearBgBufferTimer = setTimeout(L.bind(this._clearBgBuffer, this), 500);
			}
		}
	},

	_tileOnLoad: function () {
		var layer = this._layer;

		//Only if we are loading an actual image
		if (this.src !== L.Util.emptyImageUrl) {
			L.DomUtil.addClass(this, 'leaflet-tile-loaded');

			layer.fire('tileload', {
				tile: this,
				url: this.src
			});
		}

		layer._tileLoaded();
	},

	_tileOnError: function () {
		var layer = this._layer;

		layer.fire('tileerror', {
			tile: this,
			url: this.src
		});

		var newUrl = layer.options.errorTileUrl;
		if (newUrl) {
			this.src = newUrl;
		}

		layer._tileLoaded();
	}
});

L.tileLayer = function (url, options) {
	return new L.TileLayer(url, options);
};


/*
 * L.TileLayer.WMS is used for putting WMS tile layers on the map.
 */

L.TileLayer.WMS = L.TileLayer.extend({

	defaultWmsParams: {
		service: 'WMS',
		request: 'GetMap',
		version: '1.1.1',
		layers: '',
		styles: '',
		format: 'image/jpeg',
		transparent: false
	},

	initialize: function (url, options) { // (String, Object)

		this._url = url;

		var wmsParams = L.extend({}, this.defaultWmsParams),
		    tileSize = options.tileSize || this.options.tileSize;

		if (options.detectRetina && L.Browser.retina) {
			wmsParams.width = wmsParams.height = tileSize * 2;
		} else {
			wmsParams.width = wmsParams.height = tileSize;
		}

		for (var i in options) {
			// all keys that are not TileLayer options go to WMS params
			if (!this.options.hasOwnProperty(i) && i !== 'crs') {
				wmsParams[i] = options[i];
			}
		}

		this.wmsParams = wmsParams;

		L.setOptions(this, options);
	},

	onAdd: function (map) {

		this._crs = this.options.crs || map.options.crs;

		this._wmsVersion = parseFloat(this.wmsParams.version);

		var projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';
		this.wmsParams[projectionKey] = this._crs.code;

		L.TileLayer.prototype.onAdd.call(this, map);
	},

	getTileUrl: function (tilePoint) { // (Point, Number) -> String

		var map = this._map,
		    tileSize = this.options.tileSize,

		    nwPoint = tilePoint.multiplyBy(tileSize),
		    sePoint = nwPoint.add([tileSize, tileSize]),

		    nw = this._crs.project(map.unproject(nwPoint, tilePoint.z)),
		    se = this._crs.project(map.unproject(sePoint, tilePoint.z)),
		    bbox = this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?
		        [se.y, nw.x, nw.y, se.x].join(',') :
		        [nw.x, se.y, se.x, nw.y].join(','),

		    url = L.Util.template(this._url, {s: this._getSubdomain(tilePoint)});

		return url + L.Util.getParamString(this.wmsParams, url, true) + '&BBOX=' + bbox;
	},

	setParams: function (params, noRedraw) {

		L.extend(this.wmsParams, params);

		if (!noRedraw) {
			this.redraw();
		}

		return this;
	}
});

L.tileLayer.wms = function (url, options) {
	return new L.TileLayer.WMS(url, options);
};


/*
 * L.TileLayer.Canvas is a class that you can use as a base for creating
 * dynamically drawn Canvas-based tile layers.
 */

L.TileLayer.Canvas = L.TileLayer.extend({
	options: {
		async: false
	},

	initialize: function (options) {
		L.setOptions(this, options);
	},

	redraw: function () {
		if (this._map) {
			this._reset({hard: true});
			this._update();
		}

		for (var i in this._tiles) {
			this._redrawTile(this._tiles[i]);
		}
		return this;
	},

	_redrawTile: function (tile) {
		this.drawTile(tile, tile._tilePoint, this._map._zoom);
	},

	_createTile: function () {
		var tile = L.DomUtil.create('canvas', 'leaflet-tile');
		tile.width = tile.height = this.options.tileSize;
		tile.onselectstart = tile.onmousemove = L.Util.falseFn;
		return tile;
	},

	_loadTile: function (tile, tilePoint) {
		tile._layer = this;
		tile._tilePoint = tilePoint;

		this._redrawTile(tile);

		if (!this.options.async) {
			this.tileDrawn(tile);
		}
	},

	drawTile: function (/*tile, tilePoint*/) {
		// override with rendering code
	},

	tileDrawn: function (tile) {
		this._tileOnLoad.call(tile);
	}
});


L.tileLayer.canvas = function (options) {
	return new L.TileLayer.Canvas(options);
};


/*
 * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).
 */

L.ImageOverlay = L.Class.extend({
	includes: L.Mixin.Events,

	options: {
		opacity: 1
	},

	initialize: function (url, bounds, options) { // (String, LatLngBounds, Object)
		this._url = url;
		this._bounds = L.latLngBounds(bounds);

		L.setOptions(this, options);
	},

	onAdd: function (map) {
		this._map = map;

		if (!this._image) {
			this._initImage();
		}

		map._panes.overlayPane.appendChild(this._image);

		map.on('viewreset', this._reset, this);

		if (map.options.zoomAnimation && L.Browser.any3d) {
			map.on('zoomanim', this._animateZoom, this);
		}

		this._reset();
	},

	onRemove: function (map) {
		map.getPanes().overlayPane.removeChild(this._image);

		map.off('viewreset', this._reset, this);

		if (map.options.zoomAnimation) {
			map.off('zoomanim', this._animateZoom, this);
		}
	},

	addTo: function (map) {
		map.addLayer(this);
		return this;
	},

	setOpacity: function (opacity) {
		this.options.opacity = opacity;
		this._updateOpacity();
		return this;
	},

	// TODO remove bringToFront/bringToBack duplication from TileLayer/Path
	bringToFront: function () {
		if (this._image) {
			this._map._panes.overlayPane.appendChild(this._image);
		}
		return this;
	},

	bringToBack: function () {
		var pane = this._map._panes.overlayPane;
		if (this._image) {
			pane.insertBefore(this._image, pane.firstChild);
		}
		return this;
	},

	setUrl: function (url) {
		this._url = url;
		this._image.src = this._url;
	},

	getAttribution: function () {
		return this.options.attribution;
	},

	_initImage: function () {
		this._image = L.DomUtil.create('img', 'leaflet-image-layer');

		if (this._map.options.zoomAnimation && L.Browser.any3d) {
			L.DomUtil.addClass(this._image, 'leaflet-zoom-animated');
		} else {
			L.DomUtil.addClass(this._image, 'leaflet-zoom-hide');
		}

		this._updateOpacity();

		//TODO createImage util method to remove duplication
		L.extend(this._image, {
			galleryimg: 'no',
			onselectstart: L.Util.falseFn,
			onmousemove: L.Util.falseFn,
			onload: L.bind(this._onImageLoad, this),
			src: this._url
		});
	},

	_animateZoom: function (e) {
		var map = this._map,
		    image = this._image,
		    scale = map.getZoomScale(e.zoom),
		    nw = this._bounds.getNorthWest(),
		    se = this._bounds.getSouthEast(),

		    topLeft = map._latLngToNewLayerPoint(nw, e.zoom, e.center),
		    size = map._latLngToNewLayerPoint(se, e.zoom, e.center)._subtract(topLeft),
		    origin = topLeft._add(size._multiplyBy((1 / 2) * (1 - 1 / scale)));

		image.style[L.DomUtil.TRANSFORM] =
		        L.DomUtil.getTranslateString(origin) + ' scale(' + scale + ') ';
	},

	_reset: function () {
		var image   = this._image,
		    topLeft = this._map.latLngToLayerPoint(this._bounds.getNorthWest()),
		    size = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(topLeft);

		L.DomUtil.setPosition(image, topLeft);

		image.style.width  = size.x + 'px';
		image.style.height = size.y + 'px';
	},

	_onImageLoad: function () {
		this.fire('load');
	},

	_updateOpacity: function () {
		L.DomUtil.setOpacity(this._image, this.options.opacity);
	}
});

L.imageOverlay = function (url, bounds, options) {
	return new L.ImageOverlay(url, bounds, options);
};


/*
 * L.Icon is an image-based icon class that you can use with L.Marker for custom markers.
 */

L.Icon = L.Class.extend({
	options: {
		/*
		iconUrl: (String) (required)
		iconRetinaUrl: (String) (optional, used for retina devices if detected)
		iconSize: (Point) (can be set through CSS)
		iconAnchor: (Point) (centered by default, can be set in CSS with negative margins)
		popupAnchor: (Point) (if not specified, popup opens in the anchor point)
		shadowUrl: (String) (no shadow by default)
		shadowRetinaUrl: (String) (optional, used for retina devices if detected)
		shadowSize: (Point)
		shadowAnchor: (Point)
		*/
		className: ''
	},

	initialize: function (options) {
		L.setOptions(this, options);
	},

	createIcon: function (oldIcon) {
		return this._createIcon('icon', oldIcon);
	},

	createShadow: function (oldIcon) {
		return this._createIcon('shadow', oldIcon);
	},

	_createIcon: function (name, oldIcon) {
		var src = this._getIconUrl(name);

		if (!src) {
			if (name === 'icon') {
				throw new Error('iconUrl not set in Icon options (see the docs).');
			}
			return null;
		}

		var img;
		if (!oldIcon || oldIcon.tagName !== 'IMG') {
			img = this._createImg(src);
		} else {
			img = this._createImg(src, oldIcon);
		}
		this._setIconStyles(img, name);

		return img;
	},

	_setIconStyles: function (img, name) {
		var options = this.options,
		    size = L.point(options[name + 'Size']),
		    anchor;

		if (name === 'shadow') {
			anchor = L.point(options.shadowAnchor || options.iconAnchor);
		} else {
			anchor = L.point(options.iconAnchor);
		}

		if (!anchor && size) {
			anchor = size.divideBy(2, true);
		}

		img.className = 'leaflet-marker-' + name + ' ' + options.className;

		if (anchor) {
			img.style.marginLeft = (-anchor.x) + 'px';
			img.style.marginTop  = (-anchor.y) + 'px';
		}

		if (size) {
			img.style.width  = size.x + 'px';
			img.style.height = size.y + 'px';
		}
	},

	_createImg: function (src, el) {
		el = el || document.createElement('img');
		el.src = src;
		return el;
	},

	_getIconUrl: function (name) {
		if (L.Browser.retina && this.options[name + 'RetinaUrl']) {
			return this.options[name + 'RetinaUrl'];
		}
		return this.options[name + 'Url'];
	}
});

L.icon = function (options) {
	return new L.Icon(options);
};


/*
 * L.Icon.Default is the blue marker icon used by default in Leaflet.
 */

L.Icon.Default = L.Icon.extend({

	options: {
		iconSize: [25, 41],
		iconAnchor: [12, 41],
		popupAnchor: [1, -34],

		shadowSize: [41, 41]
	},

	_getIconUrl: function (name) {
		var key = name + 'Url';

		if (this.options[key]) {
			return this.options[key];
		}

		if (L.Browser.retina && name === 'icon') {
			name += '-2x';
		}

		var path = L.Icon.Default.imagePath;

		if (!path) {
			throw new Error('Couldn\'t autodetect L.Icon.Default.imagePath, set it manually.');
		}

		return path + '/marker-' + name + '.png';
	}
});

L.Icon.Default.imagePath = (function () {
	var scripts = document.getElementsByTagName('script'),
	    leafletRe = /[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;

	var i, len, src, matches, path;

	for (i = 0, len = scripts.length; i < len; i++) {
		src = scripts[i].src;
		matches = src.match(leafletRe);

		if (matches) {
			path = src.split(leafletRe)[0];
			return (path ? path + '/' : '') + 'images';
		}
	}
}());


/*
 * L.Marker is used to display clickable/draggable icons on the map.
 */

L.Marker = L.Class.extend({

	includes: L.Mixin.Events,

	options: {
		icon: new L.Icon.Default(),
		title: '',
		alt: '',
		clickable: true,
		draggable: false,
		keyboard: true,
		zIndexOffset: 0,
		opacity: 1,
		riseOnHover: false,
		riseOffset: 250
	},

	initialize: function (latlng, options) {
		L.setOptions(this, options);
		this._latlng = L.latLng(latlng);
	},

	onAdd: function (map) {
		this._map = map;

		map.on('viewreset', this.update, this);

		this._initIcon();
		this.update();
		this.fire('add');

		if (map.options.zoomAnimation && map.options.markerZoomAnimation) {
			map.on('zoomanim', this._animateZoom, this);
		}
	},

	addTo: function (map) {
		map.addLayer(this);
		return this;
	},

	onRemove: function (map) {
		if (this.dragging) {
			this.dragging.disable();
		}

		this._removeIcon();
		this._removeShadow();

		this.fire('remove');

		map.off({
			'viewreset': this.update,
			'zoomanim': this._animateZoom
		}, this);

		this._map = null;
	},

	getLatLng: function () {
		return this._latlng;
	},

	setLatLng: function (latlng) {
		this._latlng = L.latLng(latlng);

		this.update();

		return this.fire('move', { latlng: this._latlng });
	},

	setZIndexOffset: function (offset) {
		this.options.zIndexOffset = offset;
		this.update();

		return this;
	},

	setIcon: function (icon) {

		this.options.icon = icon;

		if (this._map) {
			this._initIcon();
			this.update();
		}

		if (this._popup) {
			this.bindPopup(this._popup);
		}

		return this;
	},

	update: function () {
		if (this._icon) {
			var pos = this._map.latLngToLayerPoint(this._latlng).round();
			this._setPos(pos);
		}

		return this;
	},

	_initIcon: function () {
		var options = this.options,
		    map = this._map,
		    animation = (map.options.zoomAnimation && map.options.markerZoomAnimation),
		    classToAdd = animation ? 'leaflet-zoom-animated' : 'leaflet-zoom-hide';

		var icon = options.icon.createIcon(this._icon),
			addIcon = false;

		// if we're not reusing the icon, remove the old one and init new one
		if (icon !== this._icon) {
			if (this._icon) {
				this._removeIcon();
			}
			addIcon = true;

			if (options.title) {
				icon.title = options.title;
			}
			
			if (options.alt) {
				icon.alt = options.alt;
			}
		}

		L.DomUtil.addClass(icon, classToAdd);

		if (options.keyboard) {
			icon.tabIndex = '0';
		}

		this._icon = icon;

		this._initInteraction();

		if (options.riseOnHover) {
			L.DomEvent
				.on(icon, 'mouseover', this._bringToFront, this)
				.on(icon, 'mouseout', this._resetZIndex, this);
		}

		var newShadow = options.icon.createShadow(this._shadow),
			addShadow = false;

		if (newShadow !== this._shadow) {
			this._removeShadow();
			addShadow = true;
		}

		if (newShadow) {
			L.DomUtil.addClass(newShadow, classToAdd);
		}
		this._shadow = newShadow;


		if (options.opacity < 1) {
			this._updateOpacity();
		}


		var panes = this._map._panes;

		if (addIcon) {
			panes.markerPane.appendChild(this._icon);
		}

		if (newShadow && addShadow) {
			panes.shadowPane.appendChild(this._shadow);
		}
	},

	_removeIcon: function () {
		if (this.options.riseOnHover) {
			L.DomEvent
			    .off(this._icon, 'mouseover', this._bringToFront)
			    .off(this._icon, 'mouseout', this._resetZIndex);
		}

		this._map._panes.markerPane.removeChild(this._icon);

		this._icon = null;
	},

	_removeShadow: function () {
		if (this._shadow) {
			this._map._panes.shadowPane.removeChild(this._shadow);
		}
		this._shadow = null;
	},

	_setPos: function (pos) {
		L.DomUtil.setPosition(this._icon, pos);

		if (this._shadow) {
			L.DomUtil.setPosition(this._shadow, pos);
		}

		this._zIndex = pos.y + this.options.zIndexOffset;

		this._resetZIndex();
	},

	_updateZIndex: function (offset) {
		this._icon.style.zIndex = this._zIndex + offset;
	},

	_animateZoom: function (opt) {
		var pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();

		this._setPos(pos);
	},

	_initInteraction: function () {

		if (!this.options.clickable) { return; }

		// TODO refactor into something shared with Map/Path/etc. to DRY it up

		var icon = this._icon,
		    events = ['dblclick', 'mousedown', 'mouseover', 'mouseout', 'contextmenu'];

		L.DomUtil.addClass(icon, 'leaflet-clickable');
		L.DomEvent.on(icon, 'click', this._onMouseClick, this);
		L.DomEvent.on(icon, 'keypress', this._onKeyPress, this);

		for (var i = 0; i < events.length; i++) {
			L.DomEvent.on(icon, events[i], this._fireMouseEvent, this);
		}

		if (L.Handler.MarkerDrag) {
			this.dragging = new L.Handler.MarkerDrag(this);

			if (this.options.draggable) {
				this.dragging.enable();
			}
		}
	},

	_onMouseClick: function (e) {
		var wasDragged = this.dragging && this.dragging.moved();

		if (this.hasEventListeners(e.type) || wasDragged) {
			L.DomEvent.stopPropagation(e);
		}

		if (wasDragged) { return; }

		if ((!this.dragging || !this.dragging._enabled) && this._map.dragging && this._map.dragging.moved()) { return; }

		this.fire(e.type, {
			originalEvent: e,
			latlng: this._latlng
		});
	},

	_onKeyPress: function (e) {
		if (e.keyCode === 13) {
			this.fire('click', {
				originalEvent: e,
				latlng: this._latlng
			});
		}
	},

	_fireMouseEvent: function (e) {

		this.fire(e.type, {
			originalEvent: e,
			latlng: this._latlng
		});

		// TODO proper custom event propagation
		// this line will always be called if marker is in a FeatureGroup
		if (e.type === 'contextmenu' && this.hasEventListeners(e.type)) {
			L.DomEvent.preventDefault(e);
		}
		if (e.type !== 'mousedown') {
			L.DomEvent.stopPropagation(e);
		} else {
			L.DomEvent.preventDefault(e);
		}
	},

	setOpacity: function (opacity) {
		this.options.opacity = opacity;
		if (this._map) {
			this._updateOpacity();
		}

		return this;
	},

	_updateOpacity: function () {
		L.DomUtil.setOpacity(this._icon, this.options.opacity);
		if (this._shadow) {
			L.DomUtil.setOpacity(this._shadow, this.options.opacity);
		}
	},

	_bringToFront: function () {
		this._updateZIndex(this.options.riseOffset);
	},

	_resetZIndex: function () {
		this._updateZIndex(0);
	}
});

L.marker = function (latlng, options) {
	return new L.Marker(latlng, options);
};


/*
 * L.DivIcon is a lightweight HTML-based icon class (as opposed to the image-based L.Icon)
 * to use with L.Marker.
 */

L.DivIcon = L.Icon.extend({
	options: {
		iconSize: [12, 12], // also can be set through CSS
		/*
		iconAnchor: (Point)
		popupAnchor: (Point)
		html: (String)
		bgPos: (Point)
		*/
		className: 'leaflet-div-icon',
		html: false
	},

	createIcon: function (oldIcon) {
		var div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),
		    options = this.options;

		if (options.html !== false) {
			div.innerHTML = options.html;
		} else {
			div.innerHTML = '';
		}

		if (options.bgPos) {
			div.style.backgroundPosition =
			        (-options.bgPos.x) + 'px ' + (-options.bgPos.y) + 'px';
		}

		this._setIconStyles(div, 'icon');
		return div;
	},

	createShadow: function () {
		return null;
	}
});

L.divIcon = function (options) {
	return new L.DivIcon(options);
};


/*
 * L.Popup is used for displaying popups on the map.
 */

L.Map.mergeOptions({
	closePopupOnClick: true
});

L.Popup = L.Class.extend({
	includes: L.Mixin.Events,

	options: {
		minWidth: 50,
		maxWidth: 300,
		// maxHeight: null,
		autoPan: true,
		closeButton: true,
		offset: [0, 7],
		autoPanPadding: [5, 5],
		// autoPanPaddingTopLeft: null,
		// autoPanPaddingBottomRight: null,
		keepInView: false,
		className: '',
		zoomAnimation: true
	},

	initialize: function (options, source) {
		L.setOptions(this, options);

		this._source = source;
		this._animated = L.Browser.any3d && this.options.zoomAnimation;
		this._isOpen = false;
	},

	onAdd: function (map) {
		this._map = map;

		if (!this._container) {
			this._initLayout();
		}

		var animFade = map.options.fadeAnimation;

		if (animFade) {
			L.DomUtil.setOpacity(this._container, 0);
		}
		map._panes.popupPane.appendChild(this._container);

		map.on(this._getEvents(), this);

		this.update();

		if (animFade) {
			L.DomUtil.setOpacity(this._container, 1);
		}

		this.fire('open');

		map.fire('popupopen', {popup: this});

		if (this._source) {
			this._source.fire('popupopen', {popup: this});
		}
	},

	addTo: function (map) {
		map.addLayer(this);
		return this;
	},

	openOn: function (map) {
		map.openPopup(this);
		return this;
	},

	onRemove: function (map) {
		map._panes.popupPane.removeChild(this._container);

		L.Util.falseFn(this._container.offsetWidth); // force reflow

		map.off(this._getEvents(), this);

		if (map.options.fadeAnimation) {
			L.DomUtil.setOpacity(this._container, 0);
		}

		this._map = null;

		this.fire('close');

		map.fire('popupclose', {popup: this});

		if (this._source) {
			this._source.fire('popupclose', {popup: this});
		}
	},

	getLatLng: function () {
		return this._latlng;
	},

	setLatLng: function (latlng) {
		this._latlng = L.latLng(latlng);
		if (this._map) {
			this._updatePosition();
			this._adjustPan();
		}
		return this;
	},

	getContent: function () {
		return this._content;
	},

	setContent: function (content) {
		this._content = content;
		this.update();
		return this;
	},

	update: function () {
		if (!this._map) { return; }

		this._container.style.visibility = 'hidden';

		this._updateContent();
		this._updateLayout();
		this._updatePosition();

		this._container.style.visibility = '';

		this._adjustPan();
	},

	_getEvents: function () {
		var events = {
			viewreset: this._updatePosition
		};

		if (this._animated) {
			events.zoomanim = this._zoomAnimation;
		}
		if ('closeOnClick' in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) {
			events.preclick = this._close;
		}
		if (this.options.keepInView) {
			events.moveend = this._adjustPan;
		}

		return events;
	},

	_close: function () {
		if (this._map) {
			this._map.closePopup(this);
		}
	},

	_initLayout: function () {
		var prefix = 'leaflet-popup',
			containerClass = prefix + ' ' + this.options.className + ' leaflet-zoom-' +
			        (this._animated ? 'animated' : 'hide'),
			container = this._container = L.DomUtil.create('div', containerClass),
			closeButton;

		if (this.options.closeButton) {
			closeButton = this._closeButton =
			        L.DomUtil.create('a', prefix + '-close-button', container);
			closeButton.href = '#close';
			closeButton.innerHTML = '&#215;';
			L.DomEvent.disableClickPropagation(closeButton);

			L.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);
		}

		var wrapper = this._wrapper =
		        L.DomUtil.create('div', prefix + '-content-wrapper', container);
		L.DomEvent.disableClickPropagation(wrapper);

		this._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);

		L.DomEvent.disableScrollPropagation(this._contentNode);
		L.DomEvent.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);

		this._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);
		this._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);
	},

	_updateContent: function () {
		if (!this._content) { return; }

		if (typeof this._content === 'string') {
			this._contentNode.innerHTML = this._content;
		} else {
			while (this._contentNode.hasChildNodes()) {
				this._contentNode.removeChild(this._contentNode.firstChild);
			}
			this._contentNode.appendChild(this._content);
		}
		this.fire('contentupdate');
	},

	_updateLayout: function () {
		var container = this._contentNode,
		    style = container.style;

		style.width = '';
		style.whiteSpace = 'nowrap';

		var width = container.offsetWidth;
		width = Math.min(width, this.options.maxWidth);
		width = Math.max(width, this.options.minWidth);

		style.width = (width + 1) + 'px';
		style.whiteSpace = '';

		style.height = '';

		var height = container.offsetHeight,
		    maxHeight = this.options.maxHeight,
		    scrolledClass = 'leaflet-popup-scrolled';

		if (maxHeight && height > maxHeight) {
			style.height = maxHeight + 'px';
			L.DomUtil.addClass(container, scrolledClass);
		} else {
			L.DomUtil.removeClass(container, scrolledClass);
		}

		this._containerWidth = this._container.offsetWidth;
	},

	_updatePosition: function () {
		if (!this._map) { return; }

		var pos = this._map.latLngToLayerPoint(this._latlng),
		    animated = this._animated,
		    offset = L.point(this.options.offset);

		if (animated) {
			L.DomUtil.setPosition(this._container, pos);
		}

		this._containerBottom = -offset.y - (animated ? 0 : pos.y);
		this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x + (animated ? 0 : pos.x);

		// bottom position the popup in case the height of the popup changes (images loading etc)
		this._container.style.bottom = this._containerBottom + 'px';
		this._container.style.left = this._containerLeft + 'px';
	},

	_zoomAnimation: function (opt) {
		var pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center);

		L.DomUtil.setPosition(this._container, pos);
	},

	_adjustPan: function () {
		if (!this.options.autoPan) { return; }

		var map = this._map,
		    containerHeight = this._container.offsetHeight,
		    containerWidth = this._containerWidth,

		    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);

		if (this._animated) {
			layerPos._add(L.DomUtil.getPosition(this._container));
		}

		var containerPos = map.layerPointToContainerPoint(layerPos),
		    padding = L.point(this.options.autoPanPadding),
		    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),
		    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),
		    size = map.getSize(),
		    dx = 0,
		    dy = 0;

		if (containerPos.x + containerWidth + paddingBR.x > size.x) { // right
			dx = containerPos.x + containerWidth - size.x + paddingBR.x;
		}
		if (containerPos.x - dx - paddingTL.x < 0) { // left
			dx = containerPos.x - paddingTL.x;
		}
		if (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom
			dy = containerPos.y + containerHeight - size.y + paddingBR.y;
		}
		if (containerPos.y - dy - paddingTL.y < 0) { // top
			dy = containerPos.y - paddingTL.y;
		}

		if (dx || dy) {
			map
			    .fire('autopanstart')
			    .panBy([dx, dy]);
		}
	},

	_onCloseButtonClick: function (e) {
		this._close();
		L.DomEvent.stop(e);
	}
});

L.popup = function (options, source) {
	return new L.Popup(options, source);
};


L.Map.include({
	openPopup: function (popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])
		this.closePopup();

		if (!(popup instanceof L.Popup)) {
			var content = popup;

			popup = new L.Popup(options)
			    .setLatLng(latlng)
			    .setContent(content);
		}
		popup._isOpen = true;

		this._popup = popup;
		return this.addLayer(popup);
	},

	closePopup: function (popup) {
		if (!popup || popup === this._popup) {
			popup = this._popup;
			this._popup = null;
		}
		if (popup) {
			this.removeLayer(popup);
			popup._isOpen = false;
		}
		return this;
	}
});


/*
 * Popup extension to L.Marker, adding popup-related methods.
 */

L.Marker.include({
	openPopup: function () {
		if (this._popup && this._map && !this._map.hasLayer(this._popup)) {
			this._popup.setLatLng(this._latlng);
			this._map.openPopup(this._popup);
		}

		return this;
	},

	closePopup: function () {
		if (this._popup) {
			this._popup._close();
		}
		return this;
	},

	togglePopup: function () {
		if (this._popup) {
			if (this._popup._isOpen) {
				this.closePopup();
			} else {
				this.openPopup();
			}
		}
		return this;
	},

	bindPopup: function (content, options) {
		var anchor = L.point(this.options.icon.options.popupAnchor || [0, 0]);

		anchor = anchor.add(L.Popup.prototype.options.offset);

		if (options && options.offset) {
			anchor = anchor.add(options.offset);
		}

		options = L.extend({offset: anchor}, options);

		if (!this._popupHandlersAdded) {
			this
			    .on('click', this.togglePopup, this)
			    .on('remove', this.closePopup, this)
			    .on('move', this._movePopup, this);
			this._popupHandlersAdded = true;
		}

		if (content instanceof L.Popup) {
			L.setOptions(content, options);
			this._popup = content;
		} else {
			this._popup = new L.Popup(options, this)
				.setContent(content);
		}

		return this;
	},

	setPopupContent: function (content) {
		if (this._popup) {
			this._popup.setContent(content);
		}
		return this;
	},

	unbindPopup: function () {
		if (this._popup) {
			this._popup = null;
			this
			    .off('click', this.togglePopup, this)
			    .off('remove', this.closePopup, this)
			    .off('move', this._movePopup, this);
			this._popupHandlersAdded = false;
		}
		return this;
	},

	getPopup: function () {
		return this._popup;
	},

	_movePopup: function (e) {
		this._popup.setLatLng(e.latlng);
	}
});


/*
 * L.LayerGroup is a class to combine several layers into one so that
 * you can manipulate the group (e.g. add/remove it) as one layer.
 */

L.LayerGroup = L.Class.extend({
	initialize: function (layers) {
		this._layers = {};

		var i, len;

		if (layers) {
			for (i = 0, len = layers.length; i < len; i++) {
				this.addLayer(layers[i]);
			}
		}
	},

	addLayer: function (layer) {
		var id = this.getLayerId(layer);

		this._layers[id] = layer;

		if (this._map) {
			this._map.addLayer(layer);
		}

		return this;
	},

	removeLayer: function (layer) {
		var id = layer in this._layers ? layer : this.getLayerId(layer);

		if (this._map && this._layers[id]) {
			this._map.removeLayer(this._layers[id]);
		}

		delete this._layers[id];

		return this;
	},

	hasLayer: function (layer) {
		if (!layer) { return false; }

		return (layer in this._layers || this.getLayerId(layer) in this._layers);
	},

	clearLayers: function () {
		this.eachLayer(this.removeLayer, this);
		return this;
	},

	invoke: function (methodName) {
		var args = Array.prototype.slice.call(arguments, 1),
		    i, layer;

		for (i in this._layers) {
			layer = this._layers[i];

			if (layer[methodName]) {
				layer[methodName].apply(layer, args);
			}
		}

		return this;
	},

	onAdd: function (map) {
		this._map = map;
		this.eachLayer(map.addLayer, map);
	},

	onRemove: function (map) {
		this.eachLayer(map.removeLayer, map);
		this._map = null;
	},

	addTo: function (map) {
		map.addLayer(this);
		return this;
	},

	eachLayer: function (method, context) {
		for (var i in this._layers) {
			method.call(context, this._layers[i]);
		}
		return this;
	},

	getLayer: function (id) {
		return this._layers[id];
	},

	getLayers: function () {
		var layers = [];

		for (var i in this._layers) {
			layers.push(this._layers[i]);
		}
		return layers;
	},

	setZIndex: function (zIndex) {
		return this.invoke('setZIndex', zIndex);
	},

	getLayerId: function (layer) {
		return L.stamp(layer);
	}
});

L.layerGroup = function (layers) {
	return new L.LayerGroup(layers);
};


/*
 * L.FeatureGroup extends L.LayerGroup by introducing mouse events and additional methods
 * shared between a group of interactive layers (like vectors or markers).
 */

L.FeatureGroup = L.LayerGroup.extend({
	includes: L.Mixin.Events,

	statics: {
		EVENTS: 'click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose'
	},

	addLayer: function (layer) {
		if (this.hasLayer(layer)) {
			return this;
		}

		if ('on' in layer) {
			layer.on(L.FeatureGroup.EVENTS, this._propagateEvent, this);
		}

		L.LayerGroup.prototype.addLayer.call(this, layer);

		if (this._popupContent && layer.bindPopup) {
			layer.bindPopup(this._popupContent, this._popupOptions);
		}

		return this.fire('layeradd', {layer: layer});
	},

	removeLayer: function (layer) {
		if (!this.hasLayer(layer)) {
			return this;
		}
		if (layer in this._layers) {
			layer = this._layers[layer];
		}

		layer.off(L.FeatureGroup.EVENTS, this._propagateEvent, this);

		L.LayerGroup.prototype.removeLayer.call(this, layer);

		if (this._popupContent) {
			this.invoke('unbindPopup');
		}

		return this.fire('layerremove', {layer: layer});
	},

	bindPopup: function (content, options) {
		this._popupContent = content;
		this._popupOptions = options;
		return this.invoke('bindPopup', content, options);
	},

	openPopup: function (latlng) {
		// open popup on the first layer
		for (var id in this._layers) {
			this._layers[id].openPopup(latlng);
			break;
		}
		return this;
	},

	setStyle: function (style) {
		return this.invoke('setStyle', style);
	},

	bringToFront: function () {
		return this.invoke('bringToFront');
	},

	bringToBack: function () {
		return this.invoke('bringToBack');
	},

	getBounds: function () {
		var bounds = new L.LatLngBounds();

		this.eachLayer(function (layer) {
			bounds.extend(layer instanceof L.Marker ? layer.getLatLng() : layer.getBounds());
		});

		return bounds;
	},

	_propagateEvent: function (e) {
		e = L.extend({
			layer: e.target,
			target: this
		}, e);
		this.fire(e.type, e);
	}
});

L.featureGroup = function (layers) {
	return new L.FeatureGroup(layers);
};


/*
 * L.Path is a base class for rendering vector paths on a map. Inherited by Polyline, Circle, etc.
 */

L.Path = L.Class.extend({
	includes: [L.Mixin.Events],

	statics: {
		// how much to extend the clip area around the map view
		// (relative to its size, e.g. 0.5 is half the screen in each direction)
		// set it so that SVG element doesn't exceed 1280px (vectors flicker on dragend if it is)
		CLIP_PADDING: (function () {
			var max = L.Browser.mobile ? 1280 : 2000,
			    target = (max / Math.max(window.outerWidth, window.outerHeight) - 1) / 2;
			return Math.max(0, Math.min(0.5, target));
		})()
	},

	options: {
		stroke: true,
		color: '#0033ff',
		dashArray: null,
		lineCap: null,
		lineJoin: null,
		weight: 5,
		opacity: 0.5,

		fill: false,
		fillColor: null, //same as color by default
		fillOpacity: 0.2,

		clickable: true
	},

	initialize: function (options) {
		L.setOptions(this, options);
	},

	onAdd: function (map) {
		this._map = map;

		if (!this._container) {
			this._initElements();
			this._initEvents();
		}

		this.projectLatlngs();
		this._updatePath();

		if (this._container) {
			this._map._pathRoot.appendChild(this._container);
		}

		this.fire('add');

		map.on({
			'viewreset': this.projectLatlngs,
			'moveend': this._updatePath
		}, this);
	},

	addTo: function (map) {
		map.addLayer(this);
		return this;
	},

	onRemove: function (map) {
		map._pathRoot.removeChild(this._container);

		// Need to fire remove event before we set _map to null as the event hooks might need the object
		this.fire('remove');
		this._map = null;

		if (L.Browser.vml) {
			this._container = null;
			this._stroke = null;
			this._fill = null;
		}

		map.off({
			'viewreset': this.projectLatlngs,
			'moveend': this._updatePath
		}, this);
	},

	projectLatlngs: function () {
		// do all projection stuff here
	},

	setStyle: function (style) {
		L.setOptions(this, style);

		if (this._container) {
			this._updateStyle();
		}

		return this;
	},

	redraw: function () {
		if (this._map) {
			this.projectLatlngs();
			this._updatePath();
		}
		return this;
	}
});

L.Map.include({
	_updatePathViewport: function () {
		var p = L.Path.CLIP_PADDING,
		    size = this.getSize(),
		    panePos = L.DomUtil.getPosition(this._mapPane),
		    min = panePos.multiplyBy(-1)._subtract(size.multiplyBy(p)._round()),
		    max = min.add(size.multiplyBy(1 + p * 2)._round());

		this._pathViewport = new L.Bounds(min, max);
	}
});


/*
 * Extends L.Path with SVG-specific rendering code.
 */

L.Path.SVG_NS = 'http://www.w3.org/2000/svg';

L.Browser.svg = !!(document.createElementNS && document.createElementNS(L.Path.SVG_NS, 'svg').createSVGRect);

L.Path = L.Path.extend({
	statics: {
		SVG: L.Browser.svg
	},

	bringToFront: function () {
		var root = this._map._pathRoot,
		    path = this._container;

		if (path && root.lastChild !== path) {
			root.appendChild(path);
		}
		return this;
	},

	bringToBack: function () {
		var root = this._map._pathRoot,
		    path = this._container,
		    first = root.firstChild;

		if (path && first !== path) {
			root.insertBefore(path, first);
		}
		return this;
	},

	getPathString: function () {
		// form path string here
	},

	_createElement: function (name) {
		return document.createElementNS(L.Path.SVG_NS, name);
	},

	_initElements: function () {
		this._map._initPathRoot();
		this._initPath();
		this._initStyle();
	},

	_initPath: function () {
		this._container = this._createElement('g');

		this._path = this._createElement('path');

		if (this.options.className) {
			L.DomUtil.addClass(this._path, this.options.className);
		}

		this._container.appendChild(this._path);
	},

	_initStyle: function () {
		if (this.options.stroke) {
			this._path.setAttribute('stroke-linejoin', 'round');
			this._path.setAttribute('stroke-linecap', 'round');
		}
		if (this.options.fill) {
			this._path.setAttribute('fill-rule', 'evenodd');
		}
		if (this.options.pointerEvents) {
			this._path.setAttribute('pointer-events', this.options.pointerEvents);
		}
		if (!this.options.clickable && !this.options.pointerEvents) {
			this._path.setAttribute('pointer-events', 'none');
		}
		this._updateStyle();
	},

	_updateStyle: function () {
		if (this.options.stroke) {
			this._path.setAttribute('stroke', this.options.color);
			this._path.setAttribute('stroke-opacity', this.options.opacity);
			this._path.setAttribute('stroke-width', this.options.weight);
			if (this.options.dashArray) {
				this._path.setAttribute('stroke-dasharray', this.options.dashArray);
			} else {
				this._path.removeAttribute('stroke-dasharray');
			}
			if (this.options.lineCap) {
				this._path.setAttribute('stroke-linecap', this.options.lineCap);
			}
			if (this.options.lineJoin) {
				this._path.setAttribute('stroke-linejoin', this.options.lineJoin);
			}
		} else {
			this._path.setAttribute('stroke', 'none');
		}
		if (this.options.fill) {
			this._path.setAttribute('fill', this.options.fillColor || this.options.color);
			this._path.setAttribute('fill-opacity', this.options.fillOpacity);
		} else {
			this._path.setAttribute('fill', 'none');
		}
	},

	_updatePath: function () {
		var str = this.getPathString();
		if (!str) {
			// fix webkit empty string parsing bug
			str = 'M0 0';
		}
		this._path.setAttribute('d', str);
	},

	// TODO remove duplication with L.Map
	_initEvents: function () {
		if (this.options.clickable) {
			if (L.Browser.svg || !L.Browser.vml) {
				L.DomUtil.addClass(this._path, 'leaflet-clickable');
			}

			L.DomEvent.on(this._container, 'click', this._onMouseClick, this);

			var events = ['dblclick', 'mousedown', 'mouseover',
			              'mouseout', 'mousemove', 'contextmenu'];
			for (var i = 0; i < events.length; i++) {
				L.DomEvent.on(this._container, events[i], this._fireMouseEvent, this);
			}
		}
	},

	_onMouseClick: function (e) {
		if (this._map.dragging && this._map.dragging.moved()) { return; }

		this._fireMouseEvent(e);
	},

	_fireMouseEvent: function (e) {
		if (!this.hasEventListeners(e.type)) { return; }

		var map = this._map,
		    containerPoint = map.mouseEventToContainerPoint(e),
		    layerPoint = map.containerPointToLayerPoint(containerPoint),
		    latlng = map.layerPointToLatLng(layerPoint);

		this.fire(e.type, {
			latlng: latlng,
			layerPoint: layerPoint,
			containerPoint: containerPoint,
			originalEvent: e
		});

		if (e.type === 'contextmenu') {
			L.DomEvent.preventDefault(e);
		}
		if (e.type !== 'mousemove') {
			L.DomEvent.stopPropagation(e);
		}
	}
});

L.Map.include({
	_initPathRoot: function () {
		if (!this._pathRoot) {
			this._pathRoot = L.Path.prototype._createElement('svg');
			this._panes.overlayPane.appendChild(this._pathRoot);

			if (this.options.zoomAnimation && L.Browser.any3d) {
				L.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-animated');

				this.on({
					'zoomanim': this._animatePathZoom,
					'zoomend': this._endPathZoom
				});
			} else {
				L.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-hide');
			}

			this.on('moveend', this._updateSvgViewport);
			this._updateSvgViewport();
		}
	},

	_animatePathZoom: function (e) {
		var scale = this.getZoomScale(e.zoom),
		    offset = this._getCenterOffset(e.center)._multiplyBy(-scale)._add(this._pathViewport.min);

		this._pathRoot.style[L.DomUtil.TRANSFORM] =
		        L.DomUtil.getTranslateString(offset) + ' scale(' + scale + ') ';

		this._pathZooming = true;
	},

	_endPathZoom: function () {
		this._pathZooming = false;
	},

	_updateSvgViewport: function () {

		if (this._pathZooming) {
			// Do not update SVGs while a zoom animation is going on otherwise the animation will break.
			// When the zoom animation ends we will be updated again anyway
			// This fixes the case where you do a momentum move and zoom while the move is still ongoing.
			return;
		}

		this._updatePathViewport();

		var vp = this._pathViewport,
		    min = vp.min,
		    max = vp.max,
		    width = max.x - min.x,
		    height = max.y - min.y,
		    root = this._pathRoot,
		    pane = this._panes.overlayPane;

		// Hack to make flicker on drag end on mobile webkit less irritating
		if (L.Browser.mobileWebkit) {
			pane.removeChild(root);
		}

		L.DomUtil.setPosition(root, min);
		root.setAttribute('width', width);
		root.setAttribute('height', height);
		root.setAttribute('viewBox', [min.x, min.y, width, height].join(' '));

		if (L.Browser.mobileWebkit) {
			pane.appendChild(root);
		}
	}
});


/*
 * Popup extension to L.Path (polylines, polygons, circles), adding popup-related methods.
 */

L.Path.include({

	bindPopup: function (content, options) {

		if (content instanceof L.Popup) {
			this._popup = content;
		} else {
			if (!this._popup || options) {
				this._popup = new L.Popup(options, this);
			}
			this._popup.setContent(content);
		}

		if (!this._popupHandlersAdded) {
			this
			    .on('click', this._openPopup, this)
			    .on('remove', this.closePopup, this);

			this._popupHandlersAdded = true;
		}

		return this;
	},

	unbindPopup: function () {
		if (this._popup) {
			this._popup = null;
			this
			    .off('click', this._openPopup)
			    .off('remove', this.closePopup);

			this._popupHandlersAdded = false;
		}
		return this;
	},

	openPopup: function (latlng) {

		if (this._popup) {
			// open the popup from one of the path's points if not specified
			latlng = latlng || this._latlng ||
			         this._latlngs[Math.floor(this._latlngs.length / 2)];

			this._openPopup({latlng: latlng});
		}

		return this;
	},

	closePopup: function () {
		if (this._popup) {
			this._popup._close();
		}
		return this;
	},

	_openPopup: function (e) {
		this._popup.setLatLng(e.latlng);
		this._map.openPopup(this._popup);
	}
});


/*
 * Vector rendering for IE6-8 through VML.
 * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!
 */

L.Browser.vml = !L.Browser.svg && (function () {
	try {
		var div = document.createElement('div');
		div.innerHTML = '<v:shape adj="1"/>';

		var shape = div.firstChild;
		shape.style.behavior = 'url(#default#VML)';

		return shape && (typeof shape.adj === 'object');

	} catch (e) {
		return false;
	}
}());

L.Path = L.Browser.svg || !L.Browser.vml ? L.Path : L.Path.extend({
	statics: {
		VML: true,
		CLIP_PADDING: 0.02
	},

	_createElement: (function () {
		try {
			document.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');
			return function (name) {
				return document.createElement('<lvml:' + name + ' class="lvml">');
			};
		} catch (e) {
			return function (name) {
				return document.createElement(
				        '<' + name + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">');
			};
		}
	}()),

	_initPath: function () {
		var container = this._container = this._createElement('shape');

		L.DomUtil.addClass(container, 'leaflet-vml-shape' +
			(this.options.className ? ' ' + this.options.className : ''));

		if (this.options.clickable) {
			L.DomUtil.addClass(container, 'leaflet-clickable');
		}

		container.coordsize = '1 1';

		this._path = this._createElement('path');
		container.appendChild(this._path);

		this._map._pathRoot.appendChild(container);
	},

	_initStyle: function () {
		this._updateStyle();
	},

	_updateStyle: function () {
		var stroke = this._stroke,
		    fill = this._fill,
		    options = this.options,
		    container = this._container;

		container.stroked = options.stroke;
		container.filled = options.fill;

		if (options.stroke) {
			if (!stroke) {
				stroke = this._stroke = this._createElement('stroke');
				stroke.endcap = 'round';
				container.appendChild(stroke);
			}
			stroke.weight = options.weight + 'px';
			stroke.color = options.color;
			stroke.opacity = options.opacity;

			if (options.dashArray) {
				stroke.dashStyle = L.Util.isArray(options.dashArray) ?
				    options.dashArray.join(' ') :
				    options.dashArray.replace(/( *, *)/g, ' ');
			} else {
				stroke.dashStyle = '';
			}
			if (options.lineCap) {
				stroke.endcap = options.lineCap.replace('butt', 'flat');
			}
			if (options.lineJoin) {
				stroke.joinstyle = options.lineJoin;
			}

		} else if (stroke) {
			container.removeChild(stroke);
			this._stroke = null;
		}

		if (options.fill) {
			if (!fill) {
				fill = this._fill = this._createElement('fill');
				container.appendChild(fill);
			}
			fill.color = options.fillColor || options.color;
			fill.opacity = options.fillOpacity;

		} else if (fill) {
			container.removeChild(fill);
			this._fill = null;
		}
	},

	_updatePath: function () {
		var style = this._container.style;

		style.display = 'none';
		this._path.v = this.getPathString() + ' '; // the space fixes IE empty path string bug
		style.display = '';
	}
});

L.Map.include(L.Browser.svg || !L.Browser.vml ? {} : {
	_initPathRoot: function () {
		if (this._pathRoot) { return; }

		var root = this._pathRoot = document.createElement('div');
		root.className = 'leaflet-vml-container';
		this._panes.overlayPane.appendChild(root);

		this.on('moveend', this._updatePathViewport);
		this._updatePathViewport();
	}
});


/*
 * Vector rendering for all browsers that support canvas.
 */

L.Browser.canvas = (function () {
	return !!document.createElement('canvas').getContext;
}());

L.Path = (L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? L.Path : L.Path.extend({
	statics: {
		//CLIP_PADDING: 0.02, // not sure if there's a need to set it to a small value
		CANVAS: true,
		SVG: false
	},

	redraw: function () {
		if (this._map) {
			this.projectLatlngs();
			this._requestUpdate();
		}
		return this;
	},

	setStyle: function (style) {
		L.setOptions(this, style);

		if (this._map) {
			this._updateStyle();
			this._requestUpdate();
		}
		return this;
	},

	onRemove: function (map) {
		map
		    .off('viewreset', this.projectLatlngs, this)
		    .off('moveend', this._updatePath, this);

		if (this.options.clickable) {
			this._map.off('click', this._onClick, this);
			this._map.off('mousemove', this._onMouseMove, this);
		}

		this._requestUpdate();

		this._map = null;
	},

	_requestUpdate: function () {
		if (this._map && !L.Path._updateRequest) {
			L.Path._updateRequest = L.Util.requestAnimFrame(this._fireMapMoveEnd, this._map);
		}
	},

	_fireMapMoveEnd: function () {
		L.Path._updateRequest = null;
		this.fire('moveend');
	},

	_initElements: function () {
		this._map._initPathRoot();
		this._ctx = this._map._canvasCtx;
	},

	_updateStyle: function () {
		var options = this.options;

		if (options.stroke) {
			this._ctx.lineWidth = options.weight;
			this._ctx.strokeStyle = options.color;
		}
		if (options.fill) {
			this._ctx.fillStyle = options.fillColor || options.color;
		}
	},

	_drawPath: function () {
		var i, j, len, len2, point, drawMethod;

		this._ctx.beginPath();

		for (i = 0, len = this._parts.length; i < len; i++) {
			for (j = 0, len2 = this._parts[i].length; j < len2; j++) {
				point = this._parts[i][j];
				drawMethod = (j === 0 ? 'move' : 'line') + 'To';

				this._ctx[drawMethod](point.x, point.y);
			}
			// TODO refactor ugly hack
			if (this instanceof L.Polygon) {
				this._ctx.closePath();
			}
		}
	},

	_checkIfEmpty: function () {
		return !this._parts.length;
	},

	_updatePath: function () {
		if (this._checkIfEmpty()) { return; }

		var ctx = this._ctx,
		    options = this.options;

		this._drawPath();
		ctx.save();
		this._updateStyle();

		if (options.fill) {
			ctx.globalAlpha = options.fillOpacity;
			ctx.fill();
		}

		if (options.stroke) {
			ctx.globalAlpha = options.opacity;
			ctx.stroke();
		}

		ctx.restore();

		// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature
	},

	_initEvents: function () {
		if (this.options.clickable) {
			// TODO dblclick
			this._map.on('mousemove', this._onMouseMove, this);
			this._map.on('click', this._onClick, this);
		}
	},

	_onClick: function (e) {
		if (this._containsPoint(e.layerPoint)) {
			this.fire('click', e);
		}
	},

	_onMouseMove: function (e) {
		if (!this._map || this._map._animatingZoom) { return; }

		// TODO don't do on each move
		if (this._containsPoint(e.layerPoint)) {
			this._ctx.canvas.style.cursor = 'pointer';
			this._mouseInside = true;
			this.fire('mouseover', e);

		} else if (this._mouseInside) {
			this._ctx.canvas.style.cursor = '';
			this._mouseInside = false;
			this.fire('mouseout', e);
		}
	}
});

L.Map.include((L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? {} : {
	_initPathRoot: function () {
		var root = this._pathRoot,
		    ctx;

		if (!root) {
			root = this._pathRoot = document.createElement('canvas');
			root.style.position = 'absolute';
			ctx = this._canvasCtx = root.getContext('2d');

			ctx.lineCap = 'round';
			ctx.lineJoin = 'round';

			this._panes.overlayPane.appendChild(root);

			if (this.options.zoomAnimation) {
				this._pathRoot.className = 'leaflet-zoom-animated';
				this.on('zoomanim', this._animatePathZoom);
				this.on('zoomend', this._endPathZoom);
			}
			this.on('moveend', this._updateCanvasViewport);
			this._updateCanvasViewport();
		}
	},

	_updateCanvasViewport: function () {
		// don't redraw while zooming. See _updateSvgViewport for more details
		if (this._pathZooming) { return; }
		this._updatePathViewport();

		var vp = this._pathViewport,
		    min = vp.min,
		    size = vp.max.subtract(min),
		    root = this._pathRoot;

		//TODO check if this works properly on mobile webkit
		L.DomUtil.setPosition(root, min);
		root.width = size.x;
		root.height = size.y;
		root.getContext('2d').translate(-min.x, -min.y);
	}
});


/*
 * L.LineUtil contains different utility functions for line segments
 * and polylines (clipping, simplification, distances, etc.)
 */

/*jshint bitwise:false */ // allow bitwise operations for this file

L.LineUtil = {

	// Simplify polyline with vertex reduction and Douglas-Peucker simplification.
	// Improves rendering performance dramatically by lessening the number of points to draw.

	simplify: function (/*Point[]*/ points, /*Number*/ tolerance) {
		if (!tolerance || !points.length) {
			return points.slice();
		}

		var sqTolerance = tolerance * tolerance;

		// stage 1: vertex reduction
		points = this._reducePoints(points, sqTolerance);

		// stage 2: Douglas-Peucker simplification
		points = this._simplifyDP(points, sqTolerance);

		return points;
	},

	// distance from a point to a segment between two points
	pointToSegmentDistance:  function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {
		return Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));
	},

	closestPointOnSegment: function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {
		return this._sqClosestPointOnSegment(p, p1, p2);
	},

	// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm
	_simplifyDP: function (points, sqTolerance) {

		var len = points.length,
		    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,
		    markers = new ArrayConstructor(len);

		markers[0] = markers[len - 1] = 1;

		this._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);

		var i,
		    newPoints = [];

		for (i = 0; i < len; i++) {
			if (markers[i]) {
				newPoints.push(points[i]);
			}
		}

		return newPoints;
	},

	_simplifyDPStep: function (points, markers, sqTolerance, first, last) {

		var maxSqDist = 0,
		    index, i, sqDist;

		for (i = first + 1; i <= last - 1; i++) {
			sqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);

			if (sqDist > maxSqDist) {
				index = i;
				maxSqDist = sqDist;
			}
		}

		if (maxSqDist > sqTolerance) {
			markers[index] = 1;

			this._simplifyDPStep(points, markers, sqTolerance, first, index);
			this._simplifyDPStep(points, markers, sqTolerance, index, last);
		}
	},

	// reduce points that are too close to each other to a single point
	_reducePoints: function (points, sqTolerance) {
		var reducedPoints = [points[0]];

		for (var i = 1, prev = 0, len = points.length; i < len; i++) {
			if (this._sqDist(points[i], points[prev]) > sqTolerance) {
				reducedPoints.push(points[i]);
				prev = i;
			}
		}
		if (prev < len - 1) {
			reducedPoints.push(points[len - 1]);
		}
		return reducedPoints;
	},

	// Cohen-Sutherland line clipping algorithm.
	// Used to avoid rendering parts of a polyline that are not currently visible.

	clipSegment: function (a, b, bounds, useLastCode) {
		var codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),
		    codeB = this._getBitCode(b, bounds),

		    codeOut, p, newCode;

		// save 2nd code to avoid calculating it on the next segment
		this._lastCode = codeB;

		while (true) {
			// if a,b is inside the clip window (trivial accept)
			if (!(codeA | codeB)) {
				return [a, b];
			// if a,b is outside the clip window (trivial reject)
			} else if (codeA & codeB) {
				return false;
			// other cases
			} else {
				codeOut = codeA || codeB;
				p = this._getEdgeIntersection(a, b, codeOut, bounds);
				newCode = this._getBitCode(p, bounds);

				if (codeOut === codeA) {
					a = p;
					codeA = newCode;
				} else {
					b = p;
					codeB = newCode;
				}
			}
		}
	},

	_getEdgeIntersection: function (a, b, code, bounds) {
		var dx = b.x - a.x,
		    dy = b.y - a.y,
		    min = bounds.min,
		    max = bounds.max;

		if (code & 8) { // top
			return new L.Point(a.x + dx * (max.y - a.y) / dy, max.y);
		} else if (code & 4) { // bottom
			return new L.Point(a.x + dx * (min.y - a.y) / dy, min.y);
		} else if (code & 2) { // right
			return new L.Point(max.x, a.y + dy * (max.x - a.x) / dx);
		} else if (code & 1) { // left
			return new L.Point(min.x, a.y + dy * (min.x - a.x) / dx);
		}
	},

	_getBitCode: function (/*Point*/ p, bounds) {
		var code = 0;

		if (p.x < bounds.min.x) { // left
			code |= 1;
		} else if (p.x > bounds.max.x) { // right
			code |= 2;
		}
		if (p.y < bounds.min.y) { // bottom
			code |= 4;
		} else if (p.y > bounds.max.y) { // top
			code |= 8;
		}

		return code;
	},

	// square distance (to avoid unnecessary Math.sqrt calls)
	_sqDist: function (p1, p2) {
		var dx = p2.x - p1.x,
		    dy = p2.y - p1.y;
		return dx * dx + dy * dy;
	},

	// return closest point on segment or distance to that point
	_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {
		var x = p1.x,
		    y = p1.y,
		    dx = p2.x - x,
		    dy = p2.y - y,
		    dot = dx * dx + dy * dy,
		    t;

		if (dot > 0) {
			t = ((p.x - x) * dx + (p.y - y) * dy) / dot;

			if (t > 1) {
				x = p2.x;
				y = p2.y;
			} else if (t > 0) {
				x += dx * t;
				y += dy * t;
			}
		}

		dx = p.x - x;
		dy = p.y - y;

		return sqDist ? dx * dx + dy * dy : new L.Point(x, y);
	}
};


/*
 * L.Polyline is used to display polylines on a map.
 */

L.Polyline = L.Path.extend({
	initialize: function (latlngs, options) {
		L.Path.prototype.initialize.call(this, options);

		this._latlngs = this._convertLatLngs(latlngs);
	},

	options: {
		// how much to simplify the polyline on each zoom level
		// more = better performance and smoother look, less = more accurate
		smoothFactor: 1.0,
		noClip: false
	},

	projectLatlngs: function () {
		this._originalPoints = [];

		for (var i = 0, len = this._latlngs.length; i < len; i++) {
			this._originalPoints[i] = this._map.latLngToLayerPoint(this._latlngs[i]);
		}
	},

	getPathString: function () {
		for (var i = 0, len = this._parts.length, str = ''; i < len; i++) {
			str += this._getPathPartStr(this._parts[i]);
		}
		return str;
	},

	getLatLngs: function () {
		return this._latlngs;
	},

	setLatLngs: function (latlngs) {
		this._latlngs = this._convertLatLngs(latlngs);
		return this.redraw();
	},

	addLatLng: function (latlng) {
		this._latlngs.push(L.latLng(latlng));
		return this.redraw();
	},

	spliceLatLngs: function () { // (Number index, Number howMany)
		var removed = [].splice.apply(this._latlngs, arguments);
		this._convertLatLngs(this._latlngs, true);
		this.redraw();
		return removed;
	},

	closestLayerPoint: function (p) {
		var minDistance = Infinity, parts = this._parts, p1, p2, minPoint = null;

		for (var j = 0, jLen = parts.length; j < jLen; j++) {
			var points = parts[j];
			for (var i = 1, len = points.length; i < len; i++) {
				p1 = points[i - 1];
				p2 = points[i];
				var sqDist = L.LineUtil._sqClosestPointOnSegment(p, p1, p2, true);
				if (sqDist < minDistance) {
					minDistance = sqDist;
					minPoint = L.LineUtil._sqClosestPointOnSegment(p, p1, p2);
				}
			}
		}
		if (minPoint) {
			minPoint.distance = Math.sqrt(minDistance);
		}
		return minPoint;
	},

	getBounds: function () {
		return new L.LatLngBounds(this.getLatLngs());
	},

	_convertLatLngs: function (latlngs, overwrite) {
		var i, len, target = overwrite ? latlngs : [];

		for (i = 0, len = latlngs.length; i < len; i++) {
			if (L.Util.isArray(latlngs[i]) && typeof latlngs[i][0] !== 'number') {
				return;
			}
			target[i] = L.latLng(latlngs[i]);
		}
		return target;
	},

	_initEvents: function () {
		L.Path.prototype._initEvents.call(this);
	},

	_getPathPartStr: function (points) {
		var round = L.Path.VML;

		for (var j = 0, len2 = points.length, str = '', p; j < len2; j++) {
			p = points[j];
			if (round) {
				p._round();
			}
			str += (j ? 'L' : 'M') + p.x + ' ' + p.y;
		}
		return str;
	},

	_clipPoints: function () {
		var points = this._originalPoints,
		    len = points.length,
		    i, k, segment;

		if (this.options.noClip) {
			this._parts = [points];
			return;
		}

		this._parts = [];

		var parts = this._parts,
		    vp = this._map._pathViewport,
		    lu = L.LineUtil;

		for (i = 0, k = 0; i < len - 1; i++) {
			segment = lu.clipSegment(points[i], points[i + 1], vp, i);
			if (!segment) {
				continue;
			}

			parts[k] = parts[k] || [];
			parts[k].push(segment[0]);

			// if segment goes out of screen, or it's the last one, it's the end of the line part
			if ((segment[1] !== points[i + 1]) || (i === len - 2)) {
				parts[k].push(segment[1]);
				k++;
			}
		}
	},

	// simplify each clipped part of the polyline
	_simplifyPoints: function () {
		var parts = this._parts,
		    lu = L.LineUtil;

		for (var i = 0, len = parts.length; i < len; i++) {
			parts[i] = lu.simplify(parts[i], this.options.smoothFactor);
		}
	},

	_updatePath: function () {
		if (!this._map) { return; }

		this._clipPoints();
		this._simplifyPoints();

		L.Path.prototype._updatePath.call(this);
	}
});

L.polyline = function (latlngs, options) {
	return new L.Polyline(latlngs, options);
};


/*
 * L.PolyUtil contains utility functions for polygons (clipping, etc.).
 */

/*jshint bitwise:false */ // allow bitwise operations here

L.PolyUtil = {};

/*
 * Sutherland-Hodgeman polygon clipping algorithm.
 * Used to avoid rendering parts of a polygon that are not currently visible.
 */
L.PolyUtil.clipPolygon = function (points, bounds) {
	var clippedPoints,
	    edges = [1, 4, 2, 8],
	    i, j, k,
	    a, b,
	    len, edge, p,
	    lu = L.LineUtil;

	for (i = 0, len = points.length; i < len; i++) {
		points[i]._code = lu._getBitCode(points[i], bounds);
	}

	// for each edge (left, bottom, right, top)
	for (k = 0; k < 4; k++) {
		edge = edges[k];
		clippedPoints = [];

		for (i = 0, len = points.length, j = len - 1; i < len; j = i++) {
			a = points[i];
			b = points[j];

			// if a is inside the clip window
			if (!(a._code & edge)) {
				// if b is outside the clip window (a->b goes out of screen)
				if (b._code & edge) {
					p = lu._getEdgeIntersection(b, a, edge, bounds);
					p._code = lu._getBitCode(p, bounds);
					clippedPoints.push(p);
				}
				clippedPoints.push(a);

			// else if b is inside the clip window (a->b enters the screen)
			} else if (!(b._code & edge)) {
				p = lu._getEdgeIntersection(b, a, edge, bounds);
				p._code = lu._getBitCode(p, bounds);
				clippedPoints.push(p);
			}
		}
		points = clippedPoints;
	}

	return points;
};


/*
 * L.Polygon is used to display polygons on a map.
 */

L.Polygon = L.Polyline.extend({
	options: {
		fill: true
	},

	initialize: function (latlngs, options) {
		L.Polyline.prototype.initialize.call(this, latlngs, options);
		this._initWithHoles(latlngs);
	},

	_initWithHoles: function (latlngs) {
		var i, len, hole;
		if (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {
			this._latlngs = this._convertLatLngs(latlngs[0]);
			this._holes = latlngs.slice(1);

			for (i = 0, len = this._holes.length; i < len; i++) {
				hole = this._holes[i] = this._convertLatLngs(this._holes[i]);
				if (hole[0].equals(hole[hole.length - 1])) {
					hole.pop();
				}
			}
		}

		// filter out last point if its equal to the first one
		latlngs = this._latlngs;

		if (latlngs.length >= 2 && latlngs[0].equals(latlngs[latlngs.length - 1])) {
			latlngs.pop();
		}
	},

	projectLatlngs: function () {
		L.Polyline.prototype.projectLatlngs.call(this);

		// project polygon holes points
		// TODO move this logic to Polyline to get rid of duplication
		this._holePoints = [];

		if (!this._holes) { return; }

		var i, j, len, len2;

		for (i = 0, len = this._holes.length; i < len; i++) {
			this._holePoints[i] = [];

			for (j = 0, len2 = this._holes[i].length; j < len2; j++) {
				this._holePoints[i][j] = this._map.latLngToLayerPoint(this._holes[i][j]);
			}
		}
	},

	setLatLngs: function (latlngs) {
		if (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {
			this._initWithHoles(latlngs);
			return this.redraw();
		} else {
			return L.Polyline.prototype.setLatLngs.call(this, latlngs);
		}
	},

	_clipPoints: function () {
		var points = this._originalPoints,
		    newParts = [];

		this._parts = [points].concat(this._holePoints);

		if (this.options.noClip) { return; }

		for (var i = 0, len = this._parts.length; i < len; i++) {
			var clipped = L.PolyUtil.clipPolygon(this._parts[i], this._map._pathViewport);
			if (clipped.length) {
				newParts.push(clipped);
			}
		}

		this._parts = newParts;
	},

	_getPathPartStr: function (points) {
		var str = L.Polyline.prototype._getPathPartStr.call(this, points);
		return str + (L.Browser.svg ? 'z' : 'x');
	}
});

L.polygon = function (latlngs, options) {
	return new L.Polygon(latlngs, options);
};


/*
 * Contains L.MultiPolyline and L.MultiPolygon layers.
 */

(function () {
	function createMulti(Klass) {

		return L.FeatureGroup.extend({

			initialize: function (latlngs, options) {
				this._layers = {};
				this._options = options;
				this.setLatLngs(latlngs);
			},

			setLatLngs: function (latlngs) {
				var i = 0,
				    len = latlngs.length;

				this.eachLayer(function (layer) {
					if (i < len) {
						layer.setLatLngs(latlngs[i++]);
					} else {
						this.removeLayer(layer);
					}
				}, this);

				while (i < len) {
					this.addLayer(new Klass(latlngs[i++], this._options));
				}

				return this;
			},

			getLatLngs: function () {
				var latlngs = [];

				this.eachLayer(function (layer) {
					latlngs.push(layer.getLatLngs());
				});

				return latlngs;
			}
		});
	}

	L.MultiPolyline = createMulti(L.Polyline);
	L.MultiPolygon = createMulti(L.Polygon);

	L.multiPolyline = function (latlngs, options) {
		return new L.MultiPolyline(latlngs, options);
	};

	L.multiPolygon = function (latlngs, options) {
		return new L.MultiPolygon(latlngs, options);
	};
}());


/*
 * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.
 */

L.Rectangle = L.Polygon.extend({
	initialize: function (latLngBounds, options) {
		L.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);
	},

	setBounds: function (latLngBounds) {
		this.setLatLngs(this._boundsToLatLngs(latLngBounds));
	},

	_boundsToLatLngs: function (latLngBounds) {
		latLngBounds = L.latLngBounds(latLngBounds);
		return [
			latLngBounds.getSouthWest(),
			latLngBounds.getNorthWest(),
			latLngBounds.getNorthEast(),
			latLngBounds.getSouthEast()
		];
	}
});

L.rectangle = function (latLngBounds, options) {
	return new L.Rectangle(latLngBounds, options);
};


/*
 * L.Circle is a circle overlay (with a certain radius in meters).
 */

L.Circle = L.Path.extend({
	initialize: function (latlng, radius, options) {
		L.Path.prototype.initialize.call(this, options);

		this._latlng = L.latLng(latlng);
		this._mRadius = radius;
	},

	options: {
		fill: true
	},

	setLatLng: function (latlng) {
		this._latlng = L.latLng(latlng);
		return this.redraw();
	},

	setRadius: function (radius) {
		this._mRadius = radius;
		return this.redraw();
	},

	projectLatlngs: function () {
		var lngRadius = this._getLngRadius(),
		    latlng = this._latlng,
		    pointLeft = this._map.latLngToLayerPoint([latlng.lat, latlng.lng - lngRadius]);

		this._point = this._map.latLngToLayerPoint(latlng);
		this._radius = Math.max(this._point.x - pointLeft.x, 1);
	},

	getBounds: function () {
		var lngRadius = this._getLngRadius(),
		    latRadius = (this._mRadius / 40075017) * 360,
		    latlng = this._latlng;

		return new L.LatLngBounds(
		        [latlng.lat - latRadius, latlng.lng - lngRadius],
		        [latlng.lat + latRadius, latlng.lng + lngRadius]);
	},

	getLatLng: function () {
		return this._latlng;
	},

	getPathString: function () {
		var p = this._point,
		    r = this._radius;

		if (this._checkIfEmpty()) {
			return '';
		}

		if (L.Browser.svg) {
			return 'M' + p.x + ',' + (p.y - r) +
			       'A' + r + ',' + r + ',0,1,1,' +
			       (p.x - 0.1) + ',' + (p.y - r) + ' z';
		} else {
			p._round();
			r = Math.round(r);
			return 'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r + ' 0,' + (65535 * 360);
		}
	},

	getRadius: function () {
		return this._mRadius;
	},

	// TODO Earth hardcoded, move into projection code!

	_getLatRadius: function () {
		return (this._mRadius / 40075017) * 360;
	},

	_getLngRadius: function () {
		return this._getLatRadius() / Math.cos(L.LatLng.DEG_TO_RAD * this._latlng.lat);
	},

	_checkIfEmpty: function () {
		if (!this._map) {
			return false;
		}
		var vp = this._map._pathViewport,
		    r = this._radius,
		    p = this._point;

		return p.x - r > vp.max.x || p.y - r > vp.max.y ||
		       p.x + r < vp.min.x || p.y + r < vp.min.y;
	}
});

L.circle = function (latlng, radius, options) {
	return new L.Circle(latlng, radius, options);
};


/*
 * L.CircleMarker is a circle overlay with a permanent pixel radius.
 */

L.CircleMarker = L.Circle.extend({
	options: {
		radius: 10,
		weight: 2
	},

	initialize: function (latlng, options) {
		L.Circle.prototype.initialize.call(this, latlng, null, options);
		this._radius = this.options.radius;
	},

	projectLatlngs: function () {
		this._point = this._map.latLngToLayerPoint(this._latlng);
	},

	_updateStyle : function () {
		L.Circle.prototype._updateStyle.call(this);
		this.setRadius(this.options.radius);
	},

	setLatLng: function (latlng) {
		L.Circle.prototype.setLatLng.call(this, latlng);
		if (this._popup && this._popup._isOpen) {
			this._popup.setLatLng(latlng);
		}
		return this;
	},

	setRadius: function (radius) {
		this.options.radius = this._radius = radius;
		return this.redraw();
	},

	getRadius: function () {
		return this._radius;
	}
});

L.circleMarker = function (latlng, options) {
	return new L.CircleMarker(latlng, options);
};


/*
 * Extends L.Polyline to be able to manually detect clicks on Canvas-rendered polylines.
 */

L.Polyline.include(!L.Path.CANVAS ? {} : {
	_containsPoint: function (p, closed) {
		var i, j, k, len, len2, dist, part,
		    w = this.options.weight / 2;

		if (L.Browser.touch) {
			w += 10; // polyline click tolerance on touch devices
		}

		for (i = 0, len = this._parts.length; i < len; i++) {
			part = this._parts[i];
			for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
				if (!closed && (j === 0)) {
					continue;
				}

				dist = L.LineUtil.pointToSegmentDistance(p, part[k], part[j]);

				if (dist <= w) {
					return true;
				}
			}
		}
		return false;
	}
});


/*
 * Extends L.Polygon to be able to manually detect clicks on Canvas-rendered polygons.
 */

L.Polygon.include(!L.Path.CANVAS ? {} : {
	_containsPoint: function (p) {
		var inside = false,
		    part, p1, p2,
		    i, j, k,
		    len, len2;

		// TODO optimization: check if within bounds first

		if (L.Polyline.prototype._containsPoint.call(this, p, true)) {
			// click on polygon border
			return true;
		}

		// ray casting algorithm for detecting if point is in polygon

		for (i = 0, len = this._parts.length; i < len; i++) {
			part = this._parts[i];

			for (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {
				p1 = part[j];
				p2 = part[k];

				if (((p1.y > p.y) !== (p2.y > p.y)) &&
						(p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {
					inside = !inside;
				}
			}
		}

		return inside;
	}
});


/*
 * Extends L.Circle with Canvas-specific code.
 */

L.Circle.include(!L.Path.CANVAS ? {} : {
	_drawPath: function () {
		var p = this._point;
		this._ctx.beginPath();
		this._ctx.arc(p.x, p.y, this._radius, 0, Math.PI * 2, false);
	},

	_containsPoint: function (p) {
		var center = this._point,
		    w2 = this.options.stroke ? this.options.weight / 2 : 0;

		return (p.distanceTo(center) <= this._radius + w2);
	}
});


/*
 * CircleMarker canvas specific drawing parts.
 */

L.CircleMarker.include(!L.Path.CANVAS ? {} : {
	_updateStyle: function () {
		L.Path.prototype._updateStyle.call(this);
	}
});


/*
 * L.GeoJSON turns any GeoJSON data into a Leaflet layer.
 */

L.GeoJSON = L.FeatureGroup.extend({

	initialize: function (geojson, options) {
		L.setOptions(this, options);

		this._layers = {};

		if (geojson) {
			this.addData(geojson);
		}
	},

	addData: function (geojson) {
		var features = L.Util.isArray(geojson) ? geojson : geojson.features,
		    i, len, feature;

		if (features) {
			for (i = 0, len = features.length; i < len; i++) {
				// Only add this if geometry or geometries are set and not null
				feature = features[i];
				if (feature.geometries || feature.geometry || feature.features || feature.coordinates) {
					this.addData(features[i]);
				}
			}
			return this;
		}

		var options = this.options;

		if (options.filter && !options.filter(geojson)) { return; }

		var layer = L.GeoJSON.geometryToLayer(geojson, options.pointToLayer, options.coordsToLatLng, options);
		layer.feature = L.GeoJSON.asFeature(geojson);

		layer.defaultOptions = layer.options;
		this.resetStyle(layer);

		if (options.onEachFeature) {
			options.onEachFeature(geojson, layer);
		}

		return this.addLayer(layer);
	},

	resetStyle: function (layer) {
		var style = this.options.style;
		if (style) {
			// reset any custom styles
			L.Util.extend(layer.options, layer.defaultOptions);

			this._setLayerStyle(layer, style);
		}
	},

	setStyle: function (style) {
		this.eachLayer(function (layer) {
			this._setLayerStyle(layer, style);
		}, this);
	},

	_setLayerStyle: function (layer, style) {
		if (typeof style === 'function') {
			style = style(layer.feature);
		}
		if (layer.setStyle) {
			layer.setStyle(style);
		}
	}
});

L.extend(L.GeoJSON, {
	geometryToLayer: function (geojson, pointToLayer, coordsToLatLng, vectorOptions) {
		var geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,
		    coords = geometry.coordinates,
		    layers = [],
		    latlng, latlngs, i, len;

		coordsToLatLng = coordsToLatLng || this.coordsToLatLng;

		switch (geometry.type) {
		case 'Point':
			latlng = coordsToLatLng(coords);
			return pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);

		case 'MultiPoint':
			for (i = 0, len = coords.length; i < len; i++) {
				latlng = coordsToLatLng(coords[i]);
				layers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));
			}
			return new L.FeatureGroup(layers);

		case 'LineString':
			latlngs = this.coordsToLatLngs(coords, 0, coordsToLatLng);
			return new L.Polyline(latlngs, vectorOptions);

		case 'Polygon':
			if (coords.length === 2 && !coords[1].length) {
				throw new Error('Invalid GeoJSON object.');
			}
			latlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);
			return new L.Polygon(latlngs, vectorOptions);

		case 'MultiLineString':
			latlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);
			return new L.MultiPolyline(latlngs, vectorOptions);

		case 'MultiPolygon':
			latlngs = this.coordsToLatLngs(coords, 2, coordsToLatLng);
			return new L.MultiPolygon(latlngs, vectorOptions);

		case 'GeometryCollection':
			for (i = 0, len = geometry.geometries.length; i < len; i++) {

				layers.push(this.geometryToLayer({
					geometry: geometry.geometries[i],
					type: 'Feature',
					properties: geojson.properties
				}, pointToLayer, coordsToLatLng, vectorOptions));
			}
			return new L.FeatureGroup(layers);

		default:
			throw new Error('Invalid GeoJSON object.');
		}
	},

	coordsToLatLng: function (coords) { // (Array[, Boolean]) -> LatLng
		return new L.LatLng(coords[1], coords[0], coords[2]);
	},

	coordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) { // (Array[, Number, Function]) -> Array
		var latlng, i, len,
		    latlngs = [];

		for (i = 0, len = coords.length; i < len; i++) {
			latlng = levelsDeep ?
			        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :
			        (coordsToLatLng || this.coordsToLatLng)(coords[i]);

			latlngs.push(latlng);
		}

		return latlngs;
	},

	latLngToCoords: function (latlng) {
		var coords = [latlng.lng, latlng.lat];

		if (latlng.alt !== undefined) {
			coords.push(latlng.alt);
		}
		return coords;
	},

	latLngsToCoords: function (latLngs) {
		var coords = [];

		for (var i = 0, len = latLngs.length; i < len; i++) {
			coords.push(L.GeoJSON.latLngToCoords(latLngs[i]));
		}

		return coords;
	},

	getFeature: function (layer, newGeometry) {
		return layer.feature ? L.extend({}, layer.feature, {geometry: newGeometry}) : L.GeoJSON.asFeature(newGeometry);
	},

	asFeature: function (geoJSON) {
		if (geoJSON.type === 'Feature') {
			return geoJSON;
		}

		return {
			type: 'Feature',
			properties: {},
			geometry: geoJSON
		};
	}
});

var PointToGeoJSON = {
	toGeoJSON: function () {
		return L.GeoJSON.getFeature(this, {
			type: 'Point',
			coordinates: L.GeoJSON.latLngToCoords(this.getLatLng())
		});
	}
};

L.Marker.include(PointToGeoJSON);
L.Circle.include(PointToGeoJSON);
L.CircleMarker.include(PointToGeoJSON);

L.Polyline.include({
	toGeoJSON: function () {
		return L.GeoJSON.getFeature(this, {
			type: 'LineString',
			coordinates: L.GeoJSON.latLngsToCoords(this.getLatLngs())
		});
	}
});

L.Polygon.include({
	toGeoJSON: function () {
		var coords = [L.GeoJSON.latLngsToCoords(this.getLatLngs())],
		    i, len, hole;

		coords[0].push(coords[0][0]);

		if (this._holes) {
			for (i = 0, len = this._holes.length; i < len; i++) {
				hole = L.GeoJSON.latLngsToCoords(this._holes[i]);
				hole.push(hole[0]);
				coords.push(hole);
			}
		}

		return L.GeoJSON.getFeature(this, {
			type: 'Polygon',
			coordinates: coords
		});
	}
});

(function () {
	function multiToGeoJSON(type) {
		return function () {
			var coords = [];

			this.eachLayer(function (layer) {
				coords.push(layer.toGeoJSON().geometry.coordinates);
			});

			return L.GeoJSON.getFeature(this, {
				type: type,
				coordinates: coords
			});
		};
	}

	L.MultiPolyline.include({toGeoJSON: multiToGeoJSON('MultiLineString')});
	L.MultiPolygon.include({toGeoJSON: multiToGeoJSON('MultiPolygon')});

	L.LayerGroup.include({
		toGeoJSON: function () {

			var geometry = this.feature && this.feature.geometry,
				jsons = [],
				json;

			if (geometry && geometry.type === 'MultiPoint') {
				return multiToGeoJSON('MultiPoint').call(this);
			}

			var isGeometryCollection = geometry && geometry.type === 'GeometryCollection';

			this.eachLayer(function (layer) {
				if (layer.toGeoJSON) {
					json = layer.toGeoJSON();
					jsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));
				}
			});

			if (isGeometryCollection) {
				return L.GeoJSON.getFeature(this, {
					geometries: jsons,
					type: 'GeometryCollection'
				});
			}

			return {
				type: 'FeatureCollection',
				features: jsons
			};
		}
	});
}());

L.geoJson = function (geojson, options) {
	return new L.GeoJSON(geojson, options);
};


/*
 * L.DomEvent contains functions for working with DOM events.
 */

L.DomEvent = {
	/* inspired by John Resig, Dean Edwards and YUI addEvent implementations */
	addListener: function (obj, type, fn, context) { // (HTMLElement, String, Function[, Object])

		var id = L.stamp(fn),
		    key = '_leaflet_' + type + id,
		    handler, originalHandler, newType;

		if (obj[key]) { return this; }

		handler = function (e) {
			return fn.call(context || obj, e || L.DomEvent._getEvent());
		};

		if (L.Browser.pointer && type.indexOf('touch') === 0) {
			return this.addPointerListener(obj, type, handler, id);
		}
		if (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {
			this.addDoubleTapListener(obj, handler, id);
		}

		if ('addEventListener' in obj) {

			if (type === 'mousewheel') {
				obj.addEventListener('DOMMouseScroll', handler, false);
				obj.addEventListener(type, handler, false);

			} else if ((type === 'mouseenter') || (type === 'mouseleave')) {

				originalHandler = handler;
				newType = (type === 'mouseenter' ? 'mouseover' : 'mouseout');

				handler = function (e) {
					if (!L.DomEvent._checkMouse(obj, e)) { return; }
					return originalHandler(e);
				};

				obj.addEventListener(newType, handler, false);

			} else if (type === 'click' && L.Browser.android) {
				originalHandler = handler;
				handler = function (e) {
					return L.DomEvent._filterClick(e, originalHandler);
				};

				obj.addEventListener(type, handler, false);
			} else {
				obj.addEventListener(type, handler, false);
			}

		} else if ('attachEvent' in obj) {
			obj.attachEvent('on' + type, handler);
		}

		obj[key] = handler;

		return this;
	},

	removeListener: function (obj, type, fn) {  // (HTMLElement, String, Function)

		var id = L.stamp(fn),
		    key = '_leaflet_' + type + id,
		    handler = obj[key];

		if (!handler) { return this; }

		if (L.Browser.pointer && type.indexOf('touch') === 0) {
			this.removePointerListener(obj, type, id);
		} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {
			this.removeDoubleTapListener(obj, id);

		} else if ('removeEventListener' in obj) {

			if (type === 'mousewheel') {
				obj.removeEventListener('DOMMouseScroll', handler, false);
				obj.removeEventListener(type, handler, false);

			} else if ((type === 'mouseenter') || (type === 'mouseleave')) {
				obj.removeEventListener((type === 'mouseenter' ? 'mouseover' : 'mouseout'), handler, false);
			} else {
				obj.removeEventListener(type, handler, false);
			}
		} else if ('detachEvent' in obj) {
			obj.detachEvent('on' + type, handler);
		}

		obj[key] = null;

		return this;
	},

	stopPropagation: function (e) {

		if (e.stopPropagation) {
			e.stopPropagation();
		} else {
			e.cancelBubble = true;
		}
		L.DomEvent._skipped(e);

		return this;
	},

	disableScrollPropagation: function (el) {
		var stop = L.DomEvent.stopPropagation;

		return L.DomEvent
			.on(el, 'mousewheel', stop)
			.on(el, 'MozMousePixelScroll', stop);
	},

	disableClickPropagation: function (el) {
		var stop = L.DomEvent.stopPropagation;

		for (var i = L.Draggable.START.length - 1; i >= 0; i--) {
			L.DomEvent.on(el, L.Draggable.START[i], stop);
		}

		return L.DomEvent
			.on(el, 'click', L.DomEvent._fakeStop)
			.on(el, 'dblclick', stop);
	},

	preventDefault: function (e) {

		if (e.preventDefault) {
			e.preventDefault();
		} else {
			e.returnValue = false;
		}
		return this;
	},

	stop: function (e) {
		return L.DomEvent
			.preventDefault(e)
			.stopPropagation(e);
	},

	getMousePosition: function (e, container) {
		if (!container) {
			return new L.Point(e.clientX, e.clientY);
		}

		var rect = container.getBoundingClientRect();

		return new L.Point(
			e.clientX - rect.left - container.clientLeft,
			e.clientY - rect.top - container.clientTop);
	},

	getWheelDelta: function (e) {

		var delta = 0;

		if (e.wheelDelta) {
			delta = e.wheelDelta / 120;
		}
		if (e.detail) {
			delta = -e.detail / 3;
		}
		return delta;
	},

	_skipEvents: {},

	_fakeStop: function (e) {
		// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)
		L.DomEvent._skipEvents[e.type] = true;
	},

	_skipped: function (e) {
		var skipped = this._skipEvents[e.type];
		// reset when checking, as it's only used in map container and propagates outside of the map
		this._skipEvents[e.type] = false;
		return skipped;
	},

	// check if element really left/entered the event target (for mouseenter/mouseleave)
	_checkMouse: function (el, e) {

		var related = e.relatedTarget;

		if (!related) { return true; }

		try {
			while (related && (related !== el)) {
				related = related.parentNode;
			}
		} catch (err) {
			return false;
		}
		return (related !== el);
	},

	_getEvent: function () { // evil magic for IE
		/*jshint noarg:false */
		var e = window.event;
		if (!e) {
			var caller = arguments.callee.caller;
			while (caller) {
				e = caller['arguments'][0];
				if (e && window.Event === e.constructor) {
					break;
				}
				caller = caller.caller;
			}
		}
		return e;
	},

	// this is a horrible workaround for a bug in Android where a single touch triggers two click events
	_filterClick: function (e, handler) {
		var timeStamp = (e.timeStamp || e.originalEvent.timeStamp),
			elapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);

		// are they closer together than 1000ms yet more than 100ms?
		// Android typically triggers them ~300ms apart while multiple listeners
		// on the same event should be triggered far faster;
		// or check if click is simulated on the element, and if it is, reject any non-simulated events

		if ((elapsed && elapsed > 100 && elapsed < 1000) || (e.target._simulatedClick && !e._simulated)) {
			L.DomEvent.stop(e);
			return;
		}
		L.DomEvent._lastClick = timeStamp;

		return handler(e);
	}
};

L.DomEvent.on = L.DomEvent.addListener;
L.DomEvent.off = L.DomEvent.removeListener;


/*
 * L.Draggable allows you to add dragging capabilities to any element. Supports mobile devices too.
 */

L.Draggable = L.Class.extend({
	includes: L.Mixin.Events,

	statics: {
		START: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],
		END: {
			mousedown: 'mouseup',
			touchstart: 'touchend',
			pointerdown: 'touchend',
			MSPointerDown: 'touchend'
		},
		MOVE: {
			mousedown: 'mousemove',
			touchstart: 'touchmove',
			pointerdown: 'touchmove',
			MSPointerDown: 'touchmove'
		}
	},

	initialize: function (element, dragStartTarget) {
		this._element = element;
		this._dragStartTarget = dragStartTarget || element;
	},

	enable: function () {
		if (this._enabled) { return; }

		for (var i = L.Draggable.START.length - 1; i >= 0; i--) {
			L.DomEvent.on(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);
		}

		this._enabled = true;
	},

	disable: function () {
		if (!this._enabled) { return; }

		for (var i = L.Draggable.START.length - 1; i >= 0; i--) {
			L.DomEvent.off(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);
		}

		this._enabled = false;
		this._moved = false;
	},

	_onDown: function (e) {
		this._moved = false;

		if (e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches)) { return; }

		L.DomEvent.stopPropagation(e);

		if (L.Draggable._disabled) { return; }

		L.DomUtil.disableImageDrag();
		L.DomUtil.disableTextSelection();

		if (this._moving) { return; }

		var first = e.touches ? e.touches[0] : e;

		this._startPoint = new L.Point(first.clientX, first.clientY);
		this._startPos = this._newPos = L.DomUtil.getPosition(this._element);

		L.DomEvent
		    .on(document, L.Draggable.MOVE[e.type], this._onMove, this)
		    .on(document, L.Draggable.END[e.type], this._onUp, this);
	},

	_onMove: function (e) {
		if (e.touches && e.touches.length > 1) {
			this._moved = true;
			return;
		}

		var first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),
		    newPoint = new L.Point(first.clientX, first.clientY),
		    offset = newPoint.subtract(this._startPoint);

		if (!offset.x && !offset.y) { return; }

		L.DomEvent.preventDefault(e);

		if (!this._moved) {
			this.fire('dragstart');

			this._moved = true;
			this._startPos = L.DomUtil.getPosition(this._element).subtract(offset);

			L.DomUtil.addClass(document.body, 'leaflet-dragging');
			L.DomUtil.addClass((e.target || e.srcElement), 'leaflet-drag-target');
		}

		this._newPos = this._startPos.add(offset);
		this._moving = true;

		L.Util.cancelAnimFrame(this._animRequest);
		this._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true, this._dragStartTarget);
	},

	_updatePosition: function () {
		this.fire('predrag');
		L.DomUtil.setPosition(this._element, this._newPos);
		this.fire('drag');
	},

	_onUp: function (e) {
		L.DomUtil.removeClass(document.body, 'leaflet-dragging');
		L.DomUtil.removeClass((e.target || e.srcElement), 'leaflet-drag-target');

		for (var i in L.Draggable.MOVE) {
			L.DomEvent
			    .off(document, L.Draggable.MOVE[i], this._onMove)
			    .off(document, L.Draggable.END[i], this._onUp);
		}

		L.DomUtil.enableImageDrag();
		L.DomUtil.enableTextSelection();

		if (this._moved && this._moving) {
			// ensure drag is not fired after dragend
			L.Util.cancelAnimFrame(this._animRequest);

			this.fire('dragend', {
				distance: this._newPos.distanceTo(this._startPos)
			});
		}

		this._moving = false;
	}
});


/*
	L.Handler is a base class for handler classes that are used internally to inject
	interaction features like dragging to classes like Map and Marker.
*/

L.Handler = L.Class.extend({
	initialize: function (map) {
		this._map = map;
	},

	enable: function () {
		if (this._enabled) { return; }

		this._enabled = true;
		this.addHooks();
	},

	disable: function () {
		if (!this._enabled) { return; }

		this._enabled = false;
		this.removeHooks();
	},

	enabled: function () {
		return !!this._enabled;
	}
});


/*
 * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.
 */

L.Map.mergeOptions({
	dragging: true,

	inertia: !L.Browser.android23,
	inertiaDeceleration: 3400, // px/s^2
	inertiaMaxSpeed: Infinity, // px/s
	inertiaThreshold: L.Browser.touch ? 32 : 18, // ms
	easeLinearity: 0.25,

	// TODO refactor, move to CRS
	worldCopyJump: false
});

L.Map.Drag = L.Handler.extend({
	addHooks: function () {
		if (!this._draggable) {
			var map = this._map;

			this._draggable = new L.Draggable(map._mapPane, map._container);

			this._draggable.on({
				'dragstart': this._onDragStart,
				'drag': this._onDrag,
				'dragend': this._onDragEnd
			}, this);

			if (map.options.worldCopyJump) {
				this._draggable.on('predrag', this._onPreDrag, this);
				map.on('viewreset', this._onViewReset, this);

				map.whenReady(this._onViewReset, this);
			}
		}
		this._draggable.enable();
	},

	removeHooks: function () {
		this._draggable.disable();
	},

	moved: function () {
		return this._draggable && this._draggable._moved;
	},

	_onDragStart: function () {
		var map = this._map;

		if (map._panAnim) {
			map._panAnim.stop();
		}

		map
		    .fire('movestart')
		    .fire('dragstart');

		if (map.options.inertia) {
			this._positions = [];
			this._times = [];
		}
	},

	_onDrag: function () {
		if (this._map.options.inertia) {
			var time = this._lastTime = +new Date(),
			    pos = this._lastPos = this._draggable._newPos;

			this._positions.push(pos);
			this._times.push(time);

			if (time - this._times[0] > 200) {
				this._positions.shift();
				this._times.shift();
			}
		}

		this._map
		    .fire('move')
		    .fire('drag');
	},

	_onViewReset: function () {
		// TODO fix hardcoded Earth values
		var pxCenter = this._map.getSize()._divideBy(2),
		    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);

		this._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;
		this._worldWidth = this._map.project([0, 180]).x;
	},

	_onPreDrag: function () {
		// TODO refactor to be able to adjust map pane position after zoom
		var worldWidth = this._worldWidth,
		    halfWidth = Math.round(worldWidth / 2),
		    dx = this._initialWorldOffset,
		    x = this._draggable._newPos.x,
		    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,
		    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,
		    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;

		this._draggable._newPos.x = newX;
	},

	_onDragEnd: function (e) {
		var map = this._map,
		    options = map.options,
		    delay = +new Date() - this._lastTime,

		    noInertia = !options.inertia || delay > options.inertiaThreshold || !this._positions[0];

		map.fire('dragend', e);

		if (noInertia) {
			map.fire('moveend');

		} else {

			var direction = this._lastPos.subtract(this._positions[0]),
			    duration = (this._lastTime + delay - this._times[0]) / 1000,
			    ease = options.easeLinearity,

			    speedVector = direction.multiplyBy(ease / duration),
			    speed = speedVector.distanceTo([0, 0]),

			    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),
			    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),

			    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),
			    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();

			if (!offset.x || !offset.y) {
				map.fire('moveend');

			} else {
				offset = map._limitOffset(offset, map.options.maxBounds);

				L.Util.requestAnimFrame(function () {
					map.panBy(offset, {
						duration: decelerationDuration,
						easeLinearity: ease,
						noMoveStart: true
					});
				});
			}
		}
	}
});

L.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);


/*
 * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.
 */

L.Map.mergeOptions({
	doubleClickZoom: true
});

L.Map.DoubleClickZoom = L.Handler.extend({
	addHooks: function () {
		this._map.on('dblclick', this._onDoubleClick, this);
	},

	removeHooks: function () {
		this._map.off('dblclick', this._onDoubleClick, this);
	},

	_onDoubleClick: function (e) {
		var map = this._map,
		    zoom = map.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);

		if (map.options.doubleClickZoom === 'center') {
			map.setZoom(zoom);
		} else {
			map.setZoomAround(e.containerPoint, zoom);
		}
	}
});

L.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);


/*
 * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.
 */

L.Map.mergeOptions({
	scrollWheelZoom: true
});

L.Map.ScrollWheelZoom = L.Handler.extend({
	addHooks: function () {
		L.DomEvent.on(this._map._container, 'mousewheel', this._onWheelScroll, this);
		L.DomEvent.on(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);
		this._delta = 0;
	},

	removeHooks: function () {
		L.DomEvent.off(this._map._container, 'mousewheel', this._onWheelScroll);
		L.DomEvent.off(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);
	},

	_onWheelScroll: function (e) {
		var delta = L.DomEvent.getWheelDelta(e);

		this._delta += delta;
		this._lastMousePos = this._map.mouseEventToContainerPoint(e);

		if (!this._startTime) {
			this._startTime = +new Date();
		}

		var left = Math.max(40 - (+new Date() - this._startTime), 0);

		clearTimeout(this._timer);
		this._timer = setTimeout(L.bind(this._performZoom, this), left);

		L.DomEvent.preventDefault(e);
		L.DomEvent.stopPropagation(e);
	},

	_performZoom: function () {
		var map = this._map,
		    delta = this._delta,
		    zoom = map.getZoom();

		delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);
		delta = Math.max(Math.min(delta, 4), -4);
		delta = map._limitZoom(zoom + delta) - zoom;

		this._delta = 0;
		this._startTime = null;

		if (!delta) { return; }

		if (map.options.scrollWheelZoom === 'center') {
			map.setZoom(zoom + delta);
		} else {
			map.setZoomAround(this._lastMousePos, zoom + delta);
		}
	}
});

L.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);


/*
 * Extends the event handling code with double tap support for mobile browsers.
 */

L.extend(L.DomEvent, {

	_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',
	_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',

	// inspired by Zepto touch code by Thomas Fuchs
	addDoubleTapListener: function (obj, handler, id) {
		var last,
		    doubleTap = false,
		    delay = 250,
		    touch,
		    pre = '_leaflet_',
		    touchstart = this._touchstart,
		    touchend = this._touchend,
		    trackedTouches = [];

		function onTouchStart(e) {
			var count;

			if (L.Browser.pointer) {
				trackedTouches.push(e.pointerId);
				count = trackedTouches.length;
			} else {
				count = e.touches.length;
			}
			if (count > 1) {
				return;
			}

			var now = Date.now(),
				delta = now - (last || now);

			touch = e.touches ? e.touches[0] : e;
			doubleTap = (delta > 0 && delta <= delay);
			last = now;
		}

		function onTouchEnd(e) {
			if (L.Browser.pointer) {
				var idx = trackedTouches.indexOf(e.pointerId);
				if (idx === -1) {
					return;
				}
				trackedTouches.splice(idx, 1);
			}

			if (doubleTap) {
				if (L.Browser.pointer) {
					// work around .type being readonly with MSPointer* events
					var newTouch = { },
						prop;

					// jshint forin:false
					for (var i in touch) {
						prop = touch[i];
						if (typeof prop === 'function') {
							newTouch[i] = prop.bind(touch);
						} else {
							newTouch[i] = prop;
						}
					}
					touch = newTouch;
				}
				touch.type = 'dblclick';
				handler(touch);
				last = null;
			}
		}
		obj[pre + touchstart + id] = onTouchStart;
		obj[pre + touchend + id] = onTouchEnd;

		// on pointer we need to listen on the document, otherwise a drag starting on the map and moving off screen
		// will not come through to us, so we will lose track of how many touches are ongoing
		var endElement = L.Browser.pointer ? document.documentElement : obj;

		obj.addEventListener(touchstart, onTouchStart, false);
		endElement.addEventListener(touchend, onTouchEnd, false);

		if (L.Browser.pointer) {
			endElement.addEventListener(L.DomEvent.POINTER_CANCEL, onTouchEnd, false);
		}

		return this;
	},

	removeDoubleTapListener: function (obj, id) {
		var pre = '_leaflet_';

		obj.removeEventListener(this._touchstart, obj[pre + this._touchstart + id], false);
		(L.Browser.pointer ? document.documentElement : obj).removeEventListener(
		        this._touchend, obj[pre + this._touchend + id], false);

		if (L.Browser.pointer) {
			document.documentElement.removeEventListener(L.DomEvent.POINTER_CANCEL, obj[pre + this._touchend + id],
				false);
		}

		return this;
	}
});


/*
 * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.
 */

L.extend(L.DomEvent, {

	//static
	POINTER_DOWN: L.Browser.msPointer ? 'MSPointerDown' : 'pointerdown',
	POINTER_MOVE: L.Browser.msPointer ? 'MSPointerMove' : 'pointermove',
	POINTER_UP: L.Browser.msPointer ? 'MSPointerUp' : 'pointerup',
	POINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',

	_pointers: [],
	_pointerDocumentListener: false,

	// Provides a touch events wrapper for (ms)pointer events.
	// Based on changes by veproza https://github.com/CloudMade/Leaflet/pull/1019
	//ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890

	addPointerListener: function (obj, type, handler, id) {

		switch (type) {
		case 'touchstart':
			return this.addPointerListenerStart(obj, type, handler, id);
		case 'touchend':
			return this.addPointerListenerEnd(obj, type, handler, id);
		case 'touchmove':
			return this.addPointerListenerMove(obj, type, handler, id);
		default:
			throw 'Unknown touch event type';
		}
	},

	addPointerListenerStart: function (obj, type, handler, id) {
		var pre = '_leaflet_',
		    pointers = this._pointers;

		var cb = function (e) {

			L.DomEvent.preventDefault(e);

			var alreadyInArray = false;
			for (var i = 0; i < pointers.length; i++) {
				if (pointers[i].pointerId === e.pointerId) {
					alreadyInArray = true;
					break;
				}
			}
			if (!alreadyInArray) {
				pointers.push(e);
			}

			e.touches = pointers.slice();
			e.changedTouches = [e];

			handler(e);
		};

		obj[pre + 'touchstart' + id] = cb;
		obj.addEventListener(this.POINTER_DOWN, cb, false);

		// need to also listen for end events to keep the _pointers list accurate
		// this needs to be on the body and never go away
		if (!this._pointerDocumentListener) {
			var internalCb = function (e) {
				for (var i = 0; i < pointers.length; i++) {
					if (pointers[i].pointerId === e.pointerId) {
						pointers.splice(i, 1);
						break;
					}
				}
			};
			//We listen on the documentElement as any drags that end by moving the touch off the screen get fired there
			document.documentElement.addEventListener(this.POINTER_UP, internalCb, false);
			document.documentElement.addEventListener(this.POINTER_CANCEL, internalCb, false);

			this._pointerDocumentListener = true;
		}

		return this;
	},

	addPointerListenerMove: function (obj, type, handler, id) {
		var pre = '_leaflet_',
		    touches = this._pointers;

		function cb(e) {

			// don't fire touch moves when mouse isn't down
			if ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }

			for (var i = 0; i < touches.length; i++) {
				if (touches[i].pointerId === e.pointerId) {
					touches[i] = e;
					break;
				}
			}

			e.touches = touches.slice();
			e.changedTouches = [e];

			handler(e);
		}

		obj[pre + 'touchmove' + id] = cb;
		obj.addEventListener(this.POINTER_MOVE, cb, false);

		return this;
	},

	addPointerListenerEnd: function (obj, type, handler, id) {
		var pre = '_leaflet_',
		    touches = this._pointers;

		var cb = function (e) {
			for (var i = 0; i < touches.length; i++) {
				if (touches[i].pointerId === e.pointerId) {
					touches.splice(i, 1);
					break;
				}
			}

			e.touches = touches.slice();
			e.changedTouches = [e];

			handler(e);
		};

		obj[pre + 'touchend' + id] = cb;
		obj.addEventListener(this.POINTER_UP, cb, false);
		obj.addEventListener(this.POINTER_CANCEL, cb, false);

		return this;
	},

	removePointerListener: function (obj, type, id) {
		var pre = '_leaflet_',
		    cb = obj[pre + type + id];

		switch (type) {
		case 'touchstart':
			obj.removeEventListener(this.POINTER_DOWN, cb, false);
			break;
		case 'touchmove':
			obj.removeEventListener(this.POINTER_MOVE, cb, false);
			break;
		case 'touchend':
			obj.removeEventListener(this.POINTER_UP, cb, false);
			obj.removeEventListener(this.POINTER_CANCEL, cb, false);
			break;
		}

		return this;
	}
});


/*
 * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.
 */

L.Map.mergeOptions({
	touchZoom: L.Browser.touch && !L.Browser.android23,
	bounceAtZoomLimits: true
});

L.Map.TouchZoom = L.Handler.extend({
	addHooks: function () {
		L.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);
	},

	removeHooks: function () {
		L.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);
	},

	_onTouchStart: function (e) {
		var map = this._map;

		if (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }

		var p1 = map.mouseEventToLayerPoint(e.touches[0]),
		    p2 = map.mouseEventToLayerPoint(e.touches[1]),
		    viewCenter = map._getCenterLayerPoint();

		this._startCenter = p1.add(p2)._divideBy(2);
		this._startDist = p1.distanceTo(p2);

		this._moved = false;
		this._zooming = true;

		this._centerOffset = viewCenter.subtract(this._startCenter);

		if (map._panAnim) {
			map._panAnim.stop();
		}

		L.DomEvent
		    .on(document, 'touchmove', this._onTouchMove, this)
		    .on(document, 'touchend', this._onTouchEnd, this);

		L.DomEvent.preventDefault(e);
	},

	_onTouchMove: function (e) {
		var map = this._map;

		if (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }

		var p1 = map.mouseEventToLayerPoint(e.touches[0]),
		    p2 = map.mouseEventToLayerPoint(e.touches[1]);

		this._scale = p1.distanceTo(p2) / this._startDist;
		this._delta = p1._add(p2)._divideBy(2)._subtract(this._startCenter);

		if (this._scale === 1) { return; }

		if (!map.options.bounceAtZoomLimits) {
			if ((map.getZoom() === map.getMinZoom() && this._scale < 1) ||
			    (map.getZoom() === map.getMaxZoom() && this._scale > 1)) { return; }
		}

		if (!this._moved) {
			L.DomUtil.addClass(map._mapPane, 'leaflet-touching');

			map
			    .fire('movestart')
			    .fire('zoomstart');

			this._moved = true;
		}

		L.Util.cancelAnimFrame(this._animRequest);
		this._animRequest = L.Util.requestAnimFrame(
		        this._updateOnMove, this, true, this._map._container);

		L.DomEvent.preventDefault(e);
	},

	_updateOnMove: function () {
		var map = this._map,
		    origin = this._getScaleOrigin(),
		    center = map.layerPointToLatLng(origin),
		    zoom = map.getScaleZoom(this._scale);

		map._animateZoom(center, zoom, this._startCenter, this._scale, this._delta);
	},

	_onTouchEnd: function () {
		if (!this._moved || !this._zooming) {
			this._zooming = false;
			return;
		}

		var map = this._map;

		this._zooming = false;
		L.DomUtil.removeClass(map._mapPane, 'leaflet-touching');
		L.Util.cancelAnimFrame(this._animRequest);

		L.DomEvent
		    .off(document, 'touchmove', this._onTouchMove)
		    .off(document, 'touchend', this._onTouchEnd);

		var origin = this._getScaleOrigin(),
		    center = map.layerPointToLatLng(origin),

		    oldZoom = map.getZoom(),
		    floatZoomDelta = map.getScaleZoom(this._scale) - oldZoom,
		    roundZoomDelta = (floatZoomDelta > 0 ?
		            Math.ceil(floatZoomDelta) : Math.floor(floatZoomDelta)),

		    zoom = map._limitZoom(oldZoom + roundZoomDelta),
		    scale = map.getZoomScale(zoom) / this._scale;

		map._animateZoom(center, zoom, origin, scale);
	},

	_getScaleOrigin: function () {
		var centerOffset = this._centerOffset.subtract(this._delta).divideBy(this._scale);
		return this._startCenter.add(centerOffset);
	}
});

L.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);


/*
 * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.
 */

L.Map.mergeOptions({
	tap: true,
	tapTolerance: 15
});

L.Map.Tap = L.Handler.extend({
	addHooks: function () {
		L.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);
	},

	removeHooks: function () {
		L.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);
	},

	_onDown: function (e) {
		if (!e.touches) { return; }

		L.DomEvent.preventDefault(e);

		this._fireClick = true;

		// don't simulate click or track longpress if more than 1 touch
		if (e.touches.length > 1) {
			this._fireClick = false;
			clearTimeout(this._holdTimeout);
			return;
		}

		var first = e.touches[0],
		    el = first.target;

		this._startPos = this._newPos = new L.Point(first.clientX, first.clientY);

		// if touching a link, highlight it
		if (el.tagName && el.tagName.toLowerCase() === 'a') {
			L.DomUtil.addClass(el, 'leaflet-active');
		}

		// simulate long hold but setting a timeout
		this._holdTimeout = setTimeout(L.bind(function () {
			if (this._isTapValid()) {
				this._fireClick = false;
				this._onUp();
				this._simulateEvent('contextmenu', first);
			}
		}, this), 1000);

		L.DomEvent
			.on(document, 'touchmove', this._onMove, this)
			.on(document, 'touchend', this._onUp, this);
	},

	_onUp: function (e) {
		clearTimeout(this._holdTimeout);

		L.DomEvent
			.off(document, 'touchmove', this._onMove, this)
			.off(document, 'touchend', this._onUp, this);

		if (this._fireClick && e && e.changedTouches) {

			var first = e.changedTouches[0],
			    el = first.target;

			if (el && el.tagName && el.tagName.toLowerCase() === 'a') {
				L.DomUtil.removeClass(el, 'leaflet-active');
			}

			// simulate click if the touch didn't move too much
			if (this._isTapValid()) {
				this._simulateEvent('click', first);
			}
		}
	},

	_isTapValid: function () {
		return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;
	},

	_onMove: function (e) {
		var first = e.touches[0];
		this._newPos = new L.Point(first.clientX, first.clientY);
	},

	_simulateEvent: function (type, e) {
		var simulatedEvent = document.createEvent('MouseEvents');

		simulatedEvent._simulated = true;
		e.target._simulatedClick = true;

		simulatedEvent.initMouseEvent(
		        type, true, true, window, 1,
		        e.screenX, e.screenY,
		        e.clientX, e.clientY,
		        false, false, false, false, 0, null);

		e.target.dispatchEvent(simulatedEvent);
	}
});

if (L.Browser.touch && !L.Browser.pointer) {
	L.Map.addInitHook('addHandler', 'tap', L.Map.Tap);
}


/*
 * L.Handler.ShiftDragZoom is used to add shift-drag zoom interaction to the map
  * (zoom to a selected bounding box), enabled by default.
 */

L.Map.mergeOptions({
	boxZoom: true
});

L.Map.BoxZoom = L.Handler.extend({
	initialize: function (map) {
		this._map = map;
		this._container = map._container;
		this._pane = map._panes.overlayPane;
		this._moved = false;
	},

	addHooks: function () {
		L.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);
	},

	removeHooks: function () {
		L.DomEvent.off(this._container, 'mousedown', this._onMouseDown);
		this._moved = false;
	},

	moved: function () {
		return this._moved;
	},

	_onMouseDown: function (e) {
		this._moved = false;

		if (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }

		L.DomUtil.disableTextSelection();
		L.DomUtil.disableImageDrag();

		this._startLayerPoint = this._map.mouseEventToLayerPoint(e);

		L.DomEvent
		    .on(document, 'mousemove', this._onMouseMove, this)
		    .on(document, 'mouseup', this._onMouseUp, this)
		    .on(document, 'keydown', this._onKeyDown, this);
	},

	_onMouseMove: function (e) {
		if (!this._moved) {
			this._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._pane);
			L.DomUtil.setPosition(this._box, this._startLayerPoint);

			//TODO refactor: move cursor to styles
			this._container.style.cursor = 'crosshair';
			this._map.fire('boxzoomstart');
		}

		var startPoint = this._startLayerPoint,
		    box = this._box,

		    layerPoint = this._map.mouseEventToLayerPoint(e),
		    offset = layerPoint.subtract(startPoint),

		    newPos = new L.Point(
		        Math.min(layerPoint.x, startPoint.x),
		        Math.min(layerPoint.y, startPoint.y));

		L.DomUtil.setPosition(box, newPos);

		this._moved = true;

		// TODO refactor: remove hardcoded 4 pixels
		box.style.width  = (Math.max(0, Math.abs(offset.x) - 4)) + 'px';
		box.style.height = (Math.max(0, Math.abs(offset.y) - 4)) + 'px';
	},

	_finish: function () {
		if (this._moved) {
			this._pane.removeChild(this._box);
			this._container.style.cursor = '';
		}

		L.DomUtil.enableTextSelection();
		L.DomUtil.enableImageDrag();

		L.DomEvent
		    .off(document, 'mousemove', this._onMouseMove)
		    .off(document, 'mouseup', this._onMouseUp)
		    .off(document, 'keydown', this._onKeyDown);
	},

	_onMouseUp: function (e) {

		this._finish();

		var map = this._map,
		    layerPoint = map.mouseEventToLayerPoint(e);

		if (this._startLayerPoint.equals(layerPoint)) { return; }

		var bounds = new L.LatLngBounds(
		        map.layerPointToLatLng(this._startLayerPoint),
		        map.layerPointToLatLng(layerPoint));

		map.fitBounds(bounds);

		map.fire('boxzoomend', {
			boxZoomBounds: bounds
		});
	},

	_onKeyDown: function (e) {
		if (e.keyCode === 27) {
			this._finish();
		}
	}
});

L.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);


/*
 * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.
 */

L.Map.mergeOptions({
	keyboard: true,
	keyboardPanOffset: 80,
	keyboardZoomOffset: 1
});

L.Map.Keyboard = L.Handler.extend({

	keyCodes: {
		left:    [37],
		right:   [39],
		down:    [40],
		up:      [38],
		zoomIn:  [187, 107, 61, 171],
		zoomOut: [189, 109, 173]
	},

	initialize: function (map) {
		this._map = map;

		this._setPanOffset(map.options.keyboardPanOffset);
		this._setZoomOffset(map.options.keyboardZoomOffset);
	},

	addHooks: function () {
		var container = this._map._container;

		// make the container focusable by tabbing
		if (container.tabIndex === -1) {
			container.tabIndex = '0';
		}

		L.DomEvent
		    .on(container, 'focus', this._onFocus, this)
		    .on(container, 'blur', this._onBlur, this)
		    .on(container, 'mousedown', this._onMouseDown, this);

		this._map
		    .on('focus', this._addHooks, this)
		    .on('blur', this._removeHooks, this);
	},

	removeHooks: function () {
		this._removeHooks();

		var container = this._map._container;

		L.DomEvent
		    .off(container, 'focus', this._onFocus, this)
		    .off(container, 'blur', this._onBlur, this)
		    .off(container, 'mousedown', this._onMouseDown, this);

		this._map
		    .off('focus', this._addHooks, this)
		    .off('blur', this._removeHooks, this);
	},

	_onMouseDown: function () {
		if (this._focused) { return; }

		var body = document.body,
		    docEl = document.documentElement,
		    top = body.scrollTop || docEl.scrollTop,
		    left = body.scrollLeft || docEl.scrollLeft;

		this._map._container.focus();

		window.scrollTo(left, top);
	},

	_onFocus: function () {
		this._focused = true;
		this._map.fire('focus');
	},

	_onBlur: function () {
		this._focused = false;
		this._map.fire('blur');
	},

	_setPanOffset: function (pan) {
		var keys = this._panKeys = {},
		    codes = this.keyCodes,
		    i, len;

		for (i = 0, len = codes.left.length; i < len; i++) {
			keys[codes.left[i]] = [-1 * pan, 0];
		}
		for (i = 0, len = codes.right.length; i < len; i++) {
			keys[codes.right[i]] = [pan, 0];
		}
		for (i = 0, len = codes.down.length; i < len; i++) {
			keys[codes.down[i]] = [0, pan];
		}
		for (i = 0, len = codes.up.length; i < len; i++) {
			keys[codes.up[i]] = [0, -1 * pan];
		}
	},

	_setZoomOffset: function (zoom) {
		var keys = this._zoomKeys = {},
		    codes = this.keyCodes,
		    i, len;

		for (i = 0, len = codes.zoomIn.length; i < len; i++) {
			keys[codes.zoomIn[i]] = zoom;
		}
		for (i = 0, len = codes.zoomOut.length; i < len; i++) {
			keys[codes.zoomOut[i]] = -zoom;
		}
	},

	_addHooks: function () {
		L.DomEvent.on(document, 'keydown', this._onKeyDown, this);
	},

	_removeHooks: function () {
		L.DomEvent.off(document, 'keydown', this._onKeyDown, this);
	},

	_onKeyDown: function (e) {
		var key = e.keyCode,
		    map = this._map;

		if (key in this._panKeys) {

			if (map._panAnim && map._panAnim._inProgress) { return; }

			map.panBy(this._panKeys[key]);

			if (map.options.maxBounds) {
				map.panInsideBounds(map.options.maxBounds);
			}

		} else if (key in this._zoomKeys) {
			map.setZoom(map.getZoom() + this._zoomKeys[key]);

		} else {
			return;
		}

		L.DomEvent.stop(e);
	}
});

L.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);


/*
 * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.
 */

L.Handler.MarkerDrag = L.Handler.extend({
	initialize: function (marker) {
		this._marker = marker;
	},

	addHooks: function () {
		var icon = this._marker._icon;
		if (!this._draggable) {
			this._draggable = new L.Draggable(icon, icon);
		}

		this._draggable
			.on('dragstart', this._onDragStart, this)
			.on('drag', this._onDrag, this)
			.on('dragend', this._onDragEnd, this);
		this._draggable.enable();
		L.DomUtil.addClass(this._marker._icon, 'leaflet-marker-draggable');
	},

	removeHooks: function () {
		this._draggable
			.off('dragstart', this._onDragStart, this)
			.off('drag', this._onDrag, this)
			.off('dragend', this._onDragEnd, this);

		this._draggable.disable();
		L.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');
	},

	moved: function () {
		return this._draggable && this._draggable._moved;
	},

	_onDragStart: function () {
		this._marker
		    .closePopup()
		    .fire('movestart')
		    .fire('dragstart');
	},

	_onDrag: function () {
		var marker = this._marker,
		    shadow = marker._shadow,
		    iconPos = L.DomUtil.getPosition(marker._icon),
		    latlng = marker._map.layerPointToLatLng(iconPos);

		// update shadow position
		if (shadow) {
			L.DomUtil.setPosition(shadow, iconPos);
		}

		marker._latlng = latlng;

		marker
		    .fire('move', {latlng: latlng})
		    .fire('drag');
	},

	_onDragEnd: function (e) {
		this._marker
		    .fire('moveend')
		    .fire('dragend', e);
	}
});


/*
 * L.Control is a base class for implementing map controls. Handles positioning.
 * All other controls extend from this class.
 */

L.Control = L.Class.extend({
	options: {
		position: 'topright'
	},

	initialize: function (options) {
		L.setOptions(this, options);
	},

	getPosition: function () {
		return this.options.position;
	},

	setPosition: function (position) {
		var map = this._map;

		if (map) {
			map.removeControl(this);
		}

		this.options.position = position;

		if (map) {
			map.addControl(this);
		}

		return this;
	},

	getContainer: function () {
		return this._container;
	},

	addTo: function (map) {
		this._map = map;

		var container = this._container = this.onAdd(map),
		    pos = this.getPosition(),
		    corner = map._controlCorners[pos];

		L.DomUtil.addClass(container, 'leaflet-control');

		if (pos.indexOf('bottom') !== -1) {
			corner.insertBefore(container, corner.firstChild);
		} else {
			corner.appendChild(container);
		}

		return this;
	},

	removeFrom: function (map) {
		var pos = this.getPosition(),
		    corner = map._controlCorners[pos];

		corner.removeChild(this._container);
		this._map = null;

		if (this.onRemove) {
			this.onRemove(map);
		}

		return this;
	},

	_refocusOnMap: function () {
		if (this._map) {
			this._map.getContainer().focus();
		}
	}
});

L.control = function (options) {
	return new L.Control(options);
};


// adds control-related methods to L.Map

L.Map.include({
	addControl: function (control) {
		control.addTo(this);
		return this;
	},

	removeControl: function (control) {
		control.removeFrom(this);
		return this;
	},

	_initControlPos: function () {
		var corners = this._controlCorners = {},
		    l = 'leaflet-',
		    container = this._controlContainer =
		            L.DomUtil.create('div', l + 'control-container', this._container);

		function createCorner(vSide, hSide) {
			var className = l + vSide + ' ' + l + hSide;

			corners[vSide + hSide] = L.DomUtil.create('div', className, container);
		}

		createCorner('top', 'left');
		createCorner('top', 'right');
		createCorner('bottom', 'left');
		createCorner('bottom', 'right');
	},

	_clearControlPos: function () {
		this._container.removeChild(this._controlContainer);
	}
});


/*
 * L.Control.Zoom is used for the default zoom buttons on the map.
 */

L.Control.Zoom = L.Control.extend({
	options: {
		position: 'topleft',
		zoomInText: '+',
		zoomInTitle: 'Zoom in',
		zoomOutText: '-',
		zoomOutTitle: 'Zoom out'
	},

	onAdd: function (map) {
		var zoomName = 'leaflet-control-zoom',
		    container = L.DomUtil.create('div', zoomName + ' leaflet-bar');

		this._map = map;

		this._zoomInButton  = this._createButton(
		        this.options.zoomInText, this.options.zoomInTitle,
		        zoomName + '-in',  container, this._zoomIn,  this);
		this._zoomOutButton = this._createButton(
		        this.options.zoomOutText, this.options.zoomOutTitle,
		        zoomName + '-out', container, this._zoomOut, this);

		this._updateDisabled();
		map.on('zoomend zoomlevelschange', this._updateDisabled, this);

		return container;
	},

	onRemove: function (map) {
		map.off('zoomend zoomlevelschange', this._updateDisabled, this);
	},

	_zoomIn: function (e) {
		this._map.zoomIn(e.shiftKey ? 3 : 1);
	},

	_zoomOut: function (e) {
		this._map.zoomOut(e.shiftKey ? 3 : 1);
	},

	_createButton: function (html, title, className, container, fn, context) {
		var link = L.DomUtil.create('a', className, container);
		link.innerHTML = html;
		link.href = '#';
		link.title = title;

		var stop = L.DomEvent.stopPropagation;

		L.DomEvent
		    .on(link, 'click', stop)
		    .on(link, 'mousedown', stop)
		    .on(link, 'dblclick', stop)
		    .on(link, 'click', L.DomEvent.preventDefault)
		    .on(link, 'click', fn, context)
		    .on(link, 'click', this._refocusOnMap, context);

		return link;
	},

	_updateDisabled: function () {
		var map = this._map,
			className = 'leaflet-disabled';

		L.DomUtil.removeClass(this._zoomInButton, className);
		L.DomUtil.removeClass(this._zoomOutButton, className);

		if (map._zoom === map.getMinZoom()) {
			L.DomUtil.addClass(this._zoomOutButton, className);
		}
		if (map._zoom === map.getMaxZoom()) {
			L.DomUtil.addClass(this._zoomInButton, className);
		}
	}
});

L.Map.mergeOptions({
	zoomControl: true
});

L.Map.addInitHook(function () {
	if (this.options.zoomControl) {
		this.zoomControl = new L.Control.Zoom();
		this.addControl(this.zoomControl);
	}
});

L.control.zoom = function (options) {
	return new L.Control.Zoom(options);
};



/*
 * L.Control.Attribution is used for displaying attribution on the map (added by default).
 */

L.Control.Attribution = L.Control.extend({
	options: {
		position: 'bottomright',
		prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
	},

	initialize: function (options) {
		L.setOptions(this, options);

		this._attributions = {};
	},

	onAdd: function (map) {
		this._container = L.DomUtil.create('div', 'leaflet-control-attribution');
		L.DomEvent.disableClickPropagation(this._container);

		for (var i in map._layers) {
			if (map._layers[i].getAttribution) {
				this.addAttribution(map._layers[i].getAttribution());
			}
		}
		
		map
		    .on('layeradd', this._onLayerAdd, this)
		    .on('layerremove', this._onLayerRemove, this);

		this._update();

		return this._container;
	},

	onRemove: function (map) {
		map
		    .off('layeradd', this._onLayerAdd)
		    .off('layerremove', this._onLayerRemove);

	},

	setPrefix: function (prefix) {
		this.options.prefix = prefix;
		this._update();
		return this;
	},

	addAttribution: function (text) {
		if (!text) { return; }

		if (!this._attributions[text]) {
			this._attributions[text] = 0;
		}
		this._attributions[text]++;

		this._update();

		return this;
	},

	removeAttribution: function (text) {
		if (!text) { return; }

		if (this._attributions[text]) {
			this._attributions[text]--;
			this._update();
		}

		return this;
	},

	_update: function () {
		if (!this._map) { return; }

		var attribs = [];

		for (var i in this._attributions) {
			if (this._attributions[i]) {
				attribs.push(i);
			}
		}

		var prefixAndAttribs = [];

		if (this.options.prefix) {
			prefixAndAttribs.push(this.options.prefix);
		}
		if (attribs.length) {
			prefixAndAttribs.push(attribs.join(', '));
		}

		this._container.innerHTML = prefixAndAttribs.join(' | ');
	},

	_onLayerAdd: function (e) {
		if (e.layer.getAttribution) {
			this.addAttribution(e.layer.getAttribution());
		}
	},

	_onLayerRemove: function (e) {
		if (e.layer.getAttribution) {
			this.removeAttribution(e.layer.getAttribution());
		}
	}
});

L.Map.mergeOptions({
	attributionControl: true
});

L.Map.addInitHook(function () {
	if (this.options.attributionControl) {
		this.attributionControl = (new L.Control.Attribution()).addTo(this);
	}
});

L.control.attribution = function (options) {
	return new L.Control.Attribution(options);
};


/*
 * L.Control.Scale is used for displaying metric/imperial scale on the map.
 */

L.Control.Scale = L.Control.extend({
	options: {
		position: 'bottomleft',
		maxWidth: 100,
		metric: true,
		imperial: true,
		updateWhenIdle: false
	},

	onAdd: function (map) {
		this._map = map;

		var className = 'leaflet-control-scale',
		    container = L.DomUtil.create('div', className),
		    options = this.options;

		this._addScales(options, className, container);

		map.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);
		map.whenReady(this._update, this);

		return container;
	},

	onRemove: function (map) {
		map.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);
	},

	_addScales: function (options, className, container) {
		if (options.metric) {
			this._mScale = L.DomUtil.create('div', className + '-line', container);
		}
		if (options.imperial) {
			this._iScale = L.DomUtil.create('div', className + '-line', container);
		}
	},

	_update: function () {
		var bounds = this._map.getBounds(),
		    centerLat = bounds.getCenter().lat,
		    halfWorldMeters = 6378137 * Math.PI * Math.cos(centerLat * Math.PI / 180),
		    dist = halfWorldMeters * (bounds.getNorthEast().lng - bounds.getSouthWest().lng) / 180,

		    size = this._map.getSize(),
		    options = this.options,
		    maxMeters = 0;

		if (size.x > 0) {
			maxMeters = dist * (options.maxWidth / size.x);
		}

		this._updateScales(options, maxMeters);
	},

	_updateScales: function (options, maxMeters) {
		if (options.metric && maxMeters) {
			this._updateMetric(maxMeters);
		}

		if (options.imperial && maxMeters) {
			this._updateImperial(maxMeters);
		}
	},

	_updateMetric: function (maxMeters) {
		var meters = this._getRoundNum(maxMeters);

		this._mScale.style.width = this._getScaleWidth(meters / maxMeters) + 'px';
		this._mScale.innerHTML = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';
	},

	_updateImperial: function (maxMeters) {
		var maxFeet = maxMeters * 3.2808399,
		    scale = this._iScale,
		    maxMiles, miles, feet;

		if (maxFeet > 5280) {
			maxMiles = maxFeet / 5280;
			miles = this._getRoundNum(maxMiles);

			scale.style.width = this._getScaleWidth(miles / maxMiles) + 'px';
			scale.innerHTML = miles + ' mi';

		} else {
			feet = this._getRoundNum(maxFeet);

			scale.style.width = this._getScaleWidth(feet / maxFeet) + 'px';
			scale.innerHTML = feet + ' ft';
		}
	},

	_getScaleWidth: function (ratio) {
		return Math.round(this.options.maxWidth * ratio) - 10;
	},

	_getRoundNum: function (num) {
		var pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),
		    d = num / pow10;

		d = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;

		return pow10 * d;
	}
});

L.control.scale = function (options) {
	return new L.Control.Scale(options);
};


/*
 * L.Control.Layers is a control to allow users to switch between different layers on the map.
 */

L.Control.Layers = L.Control.extend({
	options: {
		collapsed: true,
		position: 'topright',
		autoZIndex: true
	},

	initialize: function (baseLayers, overlays, options) {
		L.setOptions(this, options);

		this._layers = {};
		this._lastZIndex = 0;
		this._handlingClick = false;

		for (var i in baseLayers) {
			this._addLayer(baseLayers[i], i);
		}

		for (i in overlays) {
			this._addLayer(overlays[i], i, true);
		}
	},

	onAdd: function (map) {
		this._initLayout();
		this._update();

		map
		    .on('layeradd', this._onLayerChange, this)
		    .on('layerremove', this._onLayerChange, this);

		return this._container;
	},

	onRemove: function (map) {
		map
		    .off('layeradd', this._onLayerChange)
		    .off('layerremove', this._onLayerChange);
	},

	addBaseLayer: function (layer, name) {
		this._addLayer(layer, name);
		this._update();
		return this;
	},

	addOverlay: function (layer, name) {
		this._addLayer(layer, name, true);
		this._update();
		return this;
	},

	removeLayer: function (layer) {
		var id = L.stamp(layer);
		delete this._layers[id];
		this._update();
		return this;
	},

	_initLayout: function () {
		var className = 'leaflet-control-layers',
		    container = this._container = L.DomUtil.create('div', className);

		//Makes this work on IE10 Touch devices by stopping it from firing a mouseout event when the touch is released
		container.setAttribute('aria-haspopup', true);

		if (!L.Browser.touch) {
			L.DomEvent
				.disableClickPropagation(container)
				.disableScrollPropagation(container);
		} else {
			L.DomEvent.on(container, 'click', L.DomEvent.stopPropagation);
		}

		var form = this._form = L.DomUtil.create('form', className + '-list');

		if (this.options.collapsed) {
			if (!L.Browser.android) {
				L.DomEvent
				    .on(container, 'mouseover', this._expand, this)
				    .on(container, 'mouseout', this._collapse, this);
			}
			var link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);
			link.href = '#';
			link.title = 'Layers';

			if (L.Browser.touch) {
				L.DomEvent
				    .on(link, 'click', L.DomEvent.stop)
				    .on(link, 'click', this._expand, this);
			}
			else {
				L.DomEvent.on(link, 'focus', this._expand, this);
			}
			//Work around for Firefox android issue https://github.com/Leaflet/Leaflet/issues/2033
			L.DomEvent.on(form, 'click', function () {
				setTimeout(L.bind(this._onInputClick, this), 0);
			}, this);

			this._map.on('click', this._collapse, this);
			// TODO keyboard accessibility
		} else {
			this._expand();
		}

		this._baseLayersList = L.DomUtil.create('div', className + '-base', form);
		this._separator = L.DomUtil.create('div', className + '-separator', form);
		this._overlaysList = L.DomUtil.create('div', className + '-overlays', form);

		container.appendChild(form);
	},

	_addLayer: function (layer, name, overlay) {
		var id = L.stamp(layer);

		this._layers[id] = {
			layer: layer,
			name: name,
			overlay: overlay
		};

		if (this.options.autoZIndex && layer.setZIndex) {
			this._lastZIndex++;
			layer.setZIndex(this._lastZIndex);
		}
	},

	_update: function () {
		if (!this._container) {
			return;
		}

		this._baseLayersList.innerHTML = '';
		this._overlaysList.innerHTML = '';

		var baseLayersPresent = false,
		    overlaysPresent = false,
		    i, obj;

		for (i in this._layers) {
			obj = this._layers[i];
			this._addItem(obj);
			overlaysPresent = overlaysPresent || obj.overlay;
			baseLayersPresent = baseLayersPresent || !obj.overlay;
		}

		this._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';
	},

	_onLayerChange: function (e) {
		var obj = this._layers[L.stamp(e.layer)];

		if (!obj) { return; }

		if (!this._handlingClick) {
			this._update();
		}

		var type = obj.overlay ?
			(e.type === 'layeradd' ? 'overlayadd' : 'overlayremove') :
			(e.type === 'layeradd' ? 'baselayerchange' : null);

		if (type) {
			this._map.fire(type, obj);
		}
	},

	// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)
	_createRadioElement: function (name, checked) {

		var radioHtml = '<input type="radio" class="leaflet-control-layers-selector" name="' + name + '"';
		if (checked) {
			radioHtml += ' checked="checked"';
		}
		radioHtml += '/>';

		var radioFragment = document.createElement('div');
		radioFragment.innerHTML = radioHtml;

		return radioFragment.firstChild;
	},

	_addItem: function (obj) {
		var label = document.createElement('label'),
		    input,
		    checked = this._map.hasLayer(obj.layer);

		if (obj.overlay) {
			input = document.createElement('input');
			input.type = 'checkbox';
			input.className = 'leaflet-control-layers-selector';
			input.defaultChecked = checked;
		} else {
			input = this._createRadioElement('leaflet-base-layers', checked);
		}

		input.layerId = L.stamp(obj.layer);

		L.DomEvent.on(input, 'click', this._onInputClick, this);

		var name = document.createElement('span');
		name.innerHTML = ' ' + obj.name;

		label.appendChild(input);
		label.appendChild(name);

		var container = obj.overlay ? this._overlaysList : this._baseLayersList;
		container.appendChild(label);

		return label;
	},

	_onInputClick: function () {
		var i, input, obj,
		    inputs = this._form.getElementsByTagName('input'),
		    inputsLen = inputs.length;

		this._handlingClick = true;

		for (i = 0; i < inputsLen; i++) {
			input = inputs[i];
			obj = this._layers[input.layerId];

			if (input.checked && !this._map.hasLayer(obj.layer)) {
				this._map.addLayer(obj.layer);

			} else if (!input.checked && this._map.hasLayer(obj.layer)) {
				this._map.removeLayer(obj.layer);
			}
		}

		this._handlingClick = false;

		this._refocusOnMap();
	},

	_expand: function () {
		L.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');
	},

	_collapse: function () {
		this._container.className = this._container.className.replace(' leaflet-control-layers-expanded', '');
	}
});

L.control.layers = function (baseLayers, overlays, options) {
	return new L.Control.Layers(baseLayers, overlays, options);
};


/*
 * L.PosAnimation is used by Leaflet internally for pan animations.
 */

L.PosAnimation = L.Class.extend({
	includes: L.Mixin.Events,

	run: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])
		this.stop();

		this._el = el;
		this._inProgress = true;
		this._newPos = newPos;

		this.fire('start');

		el.style[L.DomUtil.TRANSITION] = 'all ' + (duration || 0.25) +
		        's cubic-bezier(0,0,' + (easeLinearity || 0.5) + ',1)';

		L.DomEvent.on(el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);
		L.DomUtil.setPosition(el, newPos);

		// toggle reflow, Chrome flickers for some reason if you don't do this
		L.Util.falseFn(el.offsetWidth);

		// there's no native way to track value updates of transitioned properties, so we imitate this
		this._stepTimer = setInterval(L.bind(this._onStep, this), 50);
	},

	stop: function () {
		if (!this._inProgress) { return; }

		// if we just removed the transition property, the element would jump to its final position,
		// so we need to make it stay at the current position

		L.DomUtil.setPosition(this._el, this._getPos());
		this._onTransitionEnd();
		L.Util.falseFn(this._el.offsetWidth); // force reflow in case we are about to start a new animation
	},

	_onStep: function () {
		var stepPos = this._getPos();
		if (!stepPos) {
			this._onTransitionEnd();
			return;
		}
		// jshint camelcase: false
		// make L.DomUtil.getPosition return intermediate position value during animation
		this._el._leaflet_pos = stepPos;

		this.fire('step');
	},

	// you can't easily get intermediate values of properties animated with CSS3 Transitions,
	// we need to parse computed style (in case of transform it returns matrix string)

	_transformRe: /([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,

	_getPos: function () {
		var left, top, matches,
		    el = this._el,
		    style = window.getComputedStyle(el);

		if (L.Browser.any3d) {
			matches = style[L.DomUtil.TRANSFORM].match(this._transformRe);
			if (!matches) { return; }
			left = parseFloat(matches[1]);
			top  = parseFloat(matches[2]);
		} else {
			left = parseFloat(style.left);
			top  = parseFloat(style.top);
		}

		return new L.Point(left, top, true);
	},

	_onTransitionEnd: function () {
		L.DomEvent.off(this._el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);

		if (!this._inProgress) { return; }
		this._inProgress = false;

		this._el.style[L.DomUtil.TRANSITION] = '';

		// jshint camelcase: false
		// make sure L.DomUtil.getPosition returns the final position value after animation
		this._el._leaflet_pos = this._newPos;

		clearInterval(this._stepTimer);

		this.fire('step').fire('end');
	}

});


/*
 * Extends L.Map to handle panning animations.
 */

L.Map.include({

	setView: function (center, zoom, options) {

		zoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);
		center = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);
		options = options || {};

		if (this._panAnim) {
			this._panAnim.stop();
		}

		if (this._loaded && !options.reset && options !== true) {

			if (options.animate !== undefined) {
				options.zoom = L.extend({animate: options.animate}, options.zoom);
				options.pan = L.extend({animate: options.animate}, options.pan);
			}

			// try animating pan or zoom
			var animated = (this._zoom !== zoom) ?
				this._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :
				this._tryAnimatedPan(center, options.pan);

			if (animated) {
				// prevent resize handler call, the view will refresh after animation anyway
				clearTimeout(this._sizeTimer);
				return this;
			}
		}

		// animation didn't start, just reset the map view
		this._resetView(center, zoom);

		return this;
	},

	panBy: function (offset, options) {
		offset = L.point(offset).round();
		options = options || {};

		if (!offset.x && !offset.y) {
			return this;
		}

		if (!this._panAnim) {
			this._panAnim = new L.PosAnimation();

			this._panAnim.on({
				'step': this._onPanTransitionStep,
				'end': this._onPanTransitionEnd
			}, this);
		}

		// don't fire movestart if animating inertia
		if (!options.noMoveStart) {
			this.fire('movestart');
		}

		// animate pan unless animate: false specified
		if (options.animate !== false) {
			L.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');

			var newPos = this._getMapPanePos().subtract(offset);
			this._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);
		} else {
			this._rawPanBy(offset);
			this.fire('move').fire('moveend');
		}

		return this;
	},

	_onPanTransitionStep: function () {
		this.fire('move');
	},

	_onPanTransitionEnd: function () {
		L.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');
		this.fire('moveend');
	},

	_tryAnimatedPan: function (center, options) {
		// difference between the new and current centers in pixels
		var offset = this._getCenterOffset(center)._floor();

		// don't animate too far unless animate: true specified in options
		if ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }

		this.panBy(offset, options);

		return true;
	}
});


/*
 * L.PosAnimation fallback implementation that powers Leaflet pan animations
 * in browsers that don't support CSS3 Transitions.
 */

L.PosAnimation = L.DomUtil.TRANSITION ? L.PosAnimation : L.PosAnimation.extend({

	run: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])
		this.stop();

		this._el = el;
		this._inProgress = true;
		this._duration = duration || 0.25;
		this._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);

		this._startPos = L.DomUtil.getPosition(el);
		this._offset = newPos.subtract(this._startPos);
		this._startTime = +new Date();

		this.fire('start');

		this._animate();
	},

	stop: function () {
		if (!this._inProgress) { return; }

		this._step();
		this._complete();
	},

	_animate: function () {
		// animation loop
		this._animId = L.Util.requestAnimFrame(this._animate, this);
		this._step();
	},

	_step: function () {
		var elapsed = (+new Date()) - this._startTime,
		    duration = this._duration * 1000;

		if (elapsed < duration) {
			this._runFrame(this._easeOut(elapsed / duration));
		} else {
			this._runFrame(1);
			this._complete();
		}
	},

	_runFrame: function (progress) {
		var pos = this._startPos.add(this._offset.multiplyBy(progress));
		L.DomUtil.setPosition(this._el, pos);

		this.fire('step');
	},

	_complete: function () {
		L.Util.cancelAnimFrame(this._animId);

		this._inProgress = false;
		this.fire('end');
	},

	_easeOut: function (t) {
		return 1 - Math.pow(1 - t, this._easeOutPower);
	}
});


/*
 * Extends L.Map to handle zoom animations.
 */

L.Map.mergeOptions({
	zoomAnimation: true,
	zoomAnimationThreshold: 4
});

if (L.DomUtil.TRANSITION) {

	L.Map.addInitHook(function () {
		// don't animate on browsers without hardware-accelerated transitions or old Android/Opera
		this._zoomAnimated = this.options.zoomAnimation && L.DomUtil.TRANSITION &&
				L.Browser.any3d && !L.Browser.android23 && !L.Browser.mobileOpera;

		// zoom transitions run with the same duration for all layers, so if one of transitionend events
		// happens after starting zoom animation (propagating to the map pane), we know that it ended globally
		if (this._zoomAnimated) {
			L.DomEvent.on(this._mapPane, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);
		}
	});
}

L.Map.include(!L.DomUtil.TRANSITION ? {} : {

	_catchTransitionEnd: function (e) {
		if (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {
			this._onZoomTransitionEnd();
		}
	},

	_nothingToAnimate: function () {
		return !this._container.getElementsByClassName('leaflet-zoom-animated').length;
	},

	_tryAnimatedZoom: function (center, zoom, options) {

		if (this._animatingZoom) { return true; }

		options = options || {};

		// don't animate if disabled, not supported or zoom difference is too large
		if (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||
		        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }

		// offset is the pixel coords of the zoom origin relative to the current center
		var scale = this.getZoomScale(zoom),
		    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale),
			origin = this._getCenterLayerPoint()._add(offset);

		// don't animate if the zoom origin isn't within one screen from the current center, unless forced
		if (options.animate !== true && !this.getSize().contains(offset)) { return false; }

		this
		    .fire('movestart')
		    .fire('zoomstart');

		this._animateZoom(center, zoom, origin, scale, null, true);

		return true;
	},

	_animateZoom: function (center, zoom, origin, scale, delta, backwards) {

		this._animatingZoom = true;

		// put transform transition on all layers with leaflet-zoom-animated class
		L.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');

		// remember what center/zoom to set after animation
		this._animateToCenter = center;
		this._animateToZoom = zoom;

		// disable any dragging during animation
		if (L.Draggable) {
			L.Draggable._disabled = true;
		}

		this.fire('zoomanim', {
			center: center,
			zoom: zoom,
			origin: origin,
			scale: scale,
			delta: delta,
			backwards: backwards
		});
	},

	_onZoomTransitionEnd: function () {

		this._animatingZoom = false;

		L.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');

		this._resetView(this._animateToCenter, this._animateToZoom, true, true);

		if (L.Draggable) {
			L.Draggable._disabled = false;
		}
	}
});


/*
	Zoom animation logic for L.TileLayer.
*/

L.TileLayer.include({
	_animateZoom: function (e) {
		if (!this._animating) {
			this._animating = true;
			this._prepareBgBuffer();
		}

		var bg = this._bgBuffer,
		    transform = L.DomUtil.TRANSFORM,
		    initialTransform = e.delta ? L.DomUtil.getTranslateString(e.delta) : bg.style[transform],
		    scaleStr = L.DomUtil.getScaleString(e.scale, e.origin);

		bg.style[transform] = e.backwards ?
				scaleStr + ' ' + initialTransform :
				initialTransform + ' ' + scaleStr;
	},

	_endZoomAnim: function () {
		var front = this._tileContainer,
		    bg = this._bgBuffer;

		front.style.visibility = '';
		front.parentNode.appendChild(front); // Bring to fore

		// force reflow
		L.Util.falseFn(bg.offsetWidth);

		this._animating = false;
	},

	_clearBgBuffer: function () {
		var map = this._map;

		if (map && !map._animatingZoom && !map.touchZoom._zooming) {
			this._bgBuffer.innerHTML = '';
			this._bgBuffer.style[L.DomUtil.TRANSFORM] = '';
		}
	},

	_prepareBgBuffer: function () {

		var front = this._tileContainer,
		    bg = this._bgBuffer;

		// if foreground layer doesn't have many tiles but bg layer does,
		// keep the existing bg layer and just zoom it some more

		var bgLoaded = this._getLoadedTilesPercentage(bg),
		    frontLoaded = this._getLoadedTilesPercentage(front);

		if (bg && bgLoaded > 0.5 && frontLoaded < 0.5) {

			front.style.visibility = 'hidden';
			this._stopLoadingImages(front);
			return;
		}

		// prepare the buffer to become the front tile pane
		bg.style.visibility = 'hidden';
		bg.style[L.DomUtil.TRANSFORM] = '';

		// switch out the current layer to be the new bg layer (and vice-versa)
		this._tileContainer = bg;
		bg = this._bgBuffer = front;

		this._stopLoadingImages(bg);

		//prevent bg buffer from clearing right after zoom
		clearTimeout(this._clearBgBufferTimer);
	},

	_getLoadedTilesPercentage: function (container) {
		var tiles = container.getElementsByTagName('img'),
		    i, len, count = 0;

		for (i = 0, len = tiles.length; i < len; i++) {
			if (tiles[i].complete) {
				count++;
			}
		}
		return count / len;
	},

	// stops loading all tiles in the background layer
	_stopLoadingImages: function (container) {
		var tiles = Array.prototype.slice.call(container.getElementsByTagName('img')),
		    i, len, tile;

		for (i = 0, len = tiles.length; i < len; i++) {
			tile = tiles[i];

			if (!tile.complete) {
				tile.onload = L.Util.falseFn;
				tile.onerror = L.Util.falseFn;
				tile.src = L.Util.emptyImageUrl;

				tile.parentNode.removeChild(tile);
			}
		}
	}
});


/*
 * Provides L.Map with convenient shortcuts for using browser geolocation features.
 */

L.Map.include({
	_defaultLocateOptions: {
		watch: false,
		setView: false,
		maxZoom: Infinity,
		timeout: 10000,
		maximumAge: 0,
		enableHighAccuracy: false
	},

	locate: function (/*Object*/ options) {

		options = this._locateOptions = L.extend(this._defaultLocateOptions, options);

		if (!navigator.geolocation) {
			this._handleGeolocationError({
				code: 0,
				message: 'Geolocation not supported.'
			});
			return this;
		}

		var onResponse = L.bind(this._handleGeolocationResponse, this),
			onError = L.bind(this._handleGeolocationError, this);

		if (options.watch) {
			this._locationWatchId =
			        navigator.geolocation.watchPosition(onResponse, onError, options);
		} else {
			navigator.geolocation.getCurrentPosition(onResponse, onError, options);
		}
		return this;
	},

	stopLocate: function () {
		if (navigator.geolocation) {
			navigator.geolocation.clearWatch(this._locationWatchId);
		}
		if (this._locateOptions) {
			this._locateOptions.setView = false;
		}
		return this;
	},

	_handleGeolocationError: function (error) {
		var c = error.code,
		    message = error.message ||
		            (c === 1 ? 'permission denied' :
		            (c === 2 ? 'position unavailable' : 'timeout'));

		if (this._locateOptions.setView && !this._loaded) {
			this.fitWorld();
		}

		this.fire('locationerror', {
			code: c,
			message: 'Geolocation error: ' + message + '.'
		});
	},

	_handleGeolocationResponse: function (pos) {
		var lat = pos.coords.latitude,
		    lng = pos.coords.longitude,
		    latlng = new L.LatLng(lat, lng),

		    latAccuracy = 180 * pos.coords.accuracy / 40075017,
		    lngAccuracy = latAccuracy / Math.cos(L.LatLng.DEG_TO_RAD * lat),

		    bounds = L.latLngBounds(
		            [lat - latAccuracy, lng - lngAccuracy],
		            [lat + latAccuracy, lng + lngAccuracy]),

		    options = this._locateOptions;

		if (options.setView) {
			var zoom = Math.min(this.getBoundsZoom(bounds), options.maxZoom);
			this.setView(latlng, zoom);
		}

		var data = {
			latlng: latlng,
			bounds: bounds,
			timestamp: pos.timestamp
		};

		for (var i in pos.coords) {
			if (typeof pos.coords[i] === 'number') {
				data[i] = pos.coords[i];
			}
		}

		this.fire('locationfound', data);
	}
});


}(window, document));

  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_Options_map = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
vm.java_util_HashMap = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_HashMap;
  return link('java/util/HashMap', function(f) { vm.java_util_HashMap = f;})(instance);
}

vm.net_java_html_leaflet_Popup = function net_java_html_leaflet_Popup() {
  var m;
  var CLS = net_java_html_leaflet_Popup;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$addTo_2 = null;
  m = c._$$fn$$addTo_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addTo_2 = v; return CLS.fld_$$fn$$addTo_2; };
  CLS.fld_$$fn$$openOn_3 = null;
  m = c._$$fn$$openOn_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openOn_3 = v; return CLS.fld_$$fn$$openOn_3; };
  CLS.fld_$$fn$$setLatLng_4 = null;
  m = c._$$fn$$setLatLng_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLatLng_4 = v; return CLS.fld_$$fn$$setLatLng_4; };
  CLS.fld_$$fn$$getLatLng_5 = null;
  m = c._$$fn$$getLatLng_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLatLng_5 = v; return CLS.fld_$$fn$$getLatLng_5; };
  CLS.fld_$$fn$$setContent_6 = null;
  m = c._$$fn$$setContent_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setContent_6 = v; return CLS.fld_$$fn$$setContent_6; };
  CLS.fld_$$fn$$getContent_7 = null;
  m = c._$$fn$$getContent_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getContent_7 = v; return CLS.fld_$$fn$$getContent_7; };
  CLS.fld_$$fn$$update_8 = null;
  m = c._$$fn$$update_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$update_8 = v; return CLS.fld_$$fn$$update_8; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(null, null);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_PopupOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, null);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = null;var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(options,source) {

  options = vm.java_lang_Class(false).toJS(options);
  source = vm.java_lang_Class(false).toJS(source);return L.popup(options, source);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addTo__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,map) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  map = vm.java_lang_Class(false).toJS(map);jsObj.addTo(map);
}

    m.access = 10;
    m.cls = CLS;
    m = c.openOn__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.openOn__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['openOn__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openOn__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,map) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  map = vm.java_lang_Class(false).toJS(map);jsObj.openOn(map);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLng__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setLatLng__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setLatLng__Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLng__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);jsObj.setLatLng(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLatLng__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getLatLng__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getLatLng__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLng__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLatLng();
}

    m.access = 10;
    m.cls = CLS;
    m = c.setContent__Lnet_java_html_leaflet_Popup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.setContent__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['setContent__Lnet_java_html_leaflet_Popup_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setContent__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,htmlContent) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  htmlContent = vm.java_lang_Class(false).toJS(htmlContent);jsObj.setContent(htmlContent);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getContent__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = c.getContent__Ljava_lang_String_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
return stA0;

};
c['getContent__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getContent__Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getContent();
}

    m.access = 10;
    m.cls = CLS;
    m = c.update__Lnet_java_html_leaflet_Popup_2 = function() {
  var  lcA0 = this;
c.update__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['update__Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.update__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.update();
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.Popup";var stA1 = new vm.net_java_html_leaflet_Popup$1;
(refs_net_java_html_leaflet_Popup$1 || (refs_net_java_html_leaflet_Popup$1 = vm.net_java_html_leaflet_Popup$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PopupfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Popup', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PopupfillInstOf });
    net_java_html_leaflet_PopupfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Popup';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_Popup$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Popup'] = vm.net_java_html_leaflet_Popup;


vm.net_java_html_leaflet_Popup$1 = function net_java_html_leaflet_Popup$1() {
  var m;
  var CLS = net_java_html_leaflet_Popup$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Popup;
(refs_net_java_html_leaflet_Popup || (refs_net_java_html_leaflet_Popup = vm.net_java_html_leaflet_Popup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_Popup$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Popup$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_Popup$1fillInstOf });
    net_java_html_leaflet_Popup$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Popup$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Popup;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_Function = function net_java_html_leaflet_Function() {
  var m;
  var CLS = net_java_html_leaflet_Function;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  throw 'no code found for net/java/html/leaflet/Function.apply';
};
    m.access = 1025;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_FunctionfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Function', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_FunctionfillInstOf });
    net_java_html_leaflet_FunctionfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Function';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 1536;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_event_PopupEvent = function net_java_html_leaflet_event_PopupEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_PopupEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._popup = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_PopupEvent_popup = v; return this.fld_net_java_html_leaflet_event_PopupEvent_popup; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_Popup_2 = function(lcA1, lcA2, lcA3) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._popup.call(lcA0, lcA3);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getPopup__Lnet_java_html_leaflet_Popup_2 = function() {
  var  lcA0 = this;
return c._popup.call(lcA0);

};
c['getPopup__Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_PopupEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_PopupEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_PopupEventfillInstOf });
    net_java_html_leaflet_event_PopupEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/PopupEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_PopupEvent_popup = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_PopupEvent'] = vm.net_java_html_leaflet_event_PopupEvent;


vm.net_java_html_leaflet_event_TileEvent = function net_java_html_leaflet_event_TileEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_TileEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._tile = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_TileEvent_tile = v; return this.fld_net_java_html_leaflet_event_TileEvent_tile; };
  m = c._url = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_TileEvent_url = v; return this.fld_net_java_html_leaflet_event_TileEvent_url; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2 = function(lcA1, lcA2, lcA3, lcA4) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._tile.call(lcA0, lcA3);
c._url.call(lcA0, lcA4);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getTile__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._tile.call(lcA0);

};
c['getTile__Ljava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getUrl__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
return c._url.call(lcA0);

};
c['getUrl__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_TileEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_TileEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_TileEventfillInstOf });
    net_java_html_leaflet_event_TileEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/TileEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_TileEvent_tile = null;
    this.fld_net_java_html_leaflet_event_TileEvent_url = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_TileEvent'] = vm.net_java_html_leaflet_event_TileEvent;


vm.net_java_html_leaflet_event_Event = function net_java_html_leaflet_event_Event() {
  var m;
  var CLS = net_java_html_leaflet_event_Event;
  if (!CLS.$class) {
    var pp = vm.java_util_EventObject(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._type = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_Event_type = v; return this.fld_net_java_html_leaflet_event_Event_type; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
(refs_java_util_EventObject || (refs_java_util_EventObject = vm.java_util_EventObject(false))).constructor['cons__VLjava_lang_Object_2'].call(lcA0, lcA1);
c._type.call(lcA0, lcA2);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getType__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
return c._type.call(lcA0);

};
c['getType__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_EventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_Event', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_EventfillInstOf });
    net_java_html_leaflet_event_EventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/Event';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    var refs_java_util_EventObject;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_Event_type = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_Event'] = vm.net_java_html_leaflet_event_Event;

vm.java_util_EventObject = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_EventObject;
  return link('java/util/EventObject', function(f) { vm.java_util_EventObject = f;})(instance);
}

vm.net_java_html_leaflet_event_ResizeEvent = function net_java_html_leaflet_event_ResizeEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_ResizeEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._oldSize = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_ResizeEvent_oldSize = v; return this.fld_net_java_html_leaflet_event_ResizeEvent_oldSize; };
  m = c._newSize = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_ResizeEvent_newSize = v; return this.fld_net_java_html_leaflet_event_ResizeEvent_newSize; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1, lcA2, lcA3, lcA4) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._oldSize.call(lcA0, lcA3);
c._newSize.call(lcA0, lcA4);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getOldSize__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
return c._oldSize.call(lcA0);

};
c['getOldSize__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getNewSize__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
return c._newSize.call(lcA0);

};
c['getNewSize__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_ResizeEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_ResizeEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_ResizeEventfillInstOf });
    net_java_html_leaflet_event_ResizeEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/ResizeEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_ResizeEvent_oldSize = null;
    this.fld_net_java_html_leaflet_event_ResizeEvent_newSize = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_ResizeEvent'] = vm.net_java_html_leaflet_event_ResizeEvent;


vm.net_java_html_leaflet_LatLngBounds = function net_java_html_leaflet_LatLngBounds() {
  var m;
  var CLS = net_java_html_leaflet_LatLngBounds;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_LatLngBounds_jsObj = v; return this.fld_net_java_html_leaflet_LatLngBounds_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$create_2 = null;
  m = c._$$fn$$create_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_2 = v; return CLS.fld_$$fn$$create_2; };
  CLS.fld_$$fn$$extend_3 = null;
  m = c._$$fn$$extend_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$extend_3 = v; return CLS.fld_$$fn$$extend_3; };
  CLS.fld_$$fn$$getSouthWest_4 = null;
  m = c._$$fn$$getSouthWest_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getSouthWest_4 = v; return CLS.fld_$$fn$$getSouthWest_4; };
  CLS.fld_$$fn$$getNorthEast_5 = null;
  m = c._$$fn$$getNorthEast_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getNorthEast_5 = v; return CLS.fld_$$fn$$getNorthEast_5; };
  CLS.fld_$$fn$$getNorthWest_6 = null;
  m = c._$$fn$$getNorthWest_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getNorthWest_6 = v; return CLS.fld_$$fn$$getNorthWest_6; };
  CLS.fld_$$fn$$getSouthEast_7 = null;
  m = c._$$fn$$getSouthEast_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getSouthEast_7 = v; return CLS.fld_$$fn$$getSouthEast_7; };
  CLS.fld_$$fn$$getWest_8 = null;
  m = c._$$fn$$getWest_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getWest_8 = v; return CLS.fld_$$fn$$getWest_8; };
  CLS.fld_$$fn$$getSouth_9 = null;
  m = c._$$fn$$getSouth_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getSouth_9 = v; return CLS.fld_$$fn$$getSouth_9; };
  CLS.fld_$$fn$$getEast_10 = null;
  m = c._$$fn$$getEast_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getEast_10 = v; return CLS.fld_$$fn$$getEast_10; };
  CLS.fld_$$fn$$getNorth_11 = null;
  m = c._$$fn$$getNorth_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getNorth_11 = v; return CLS.fld_$$fn$$getNorth_11; };
  CLS.fld_$$fn$$getCenter_12 = null;
  m = c._$$fn$$getCenter_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCenter_12 = v; return CLS.fld_$$fn$$getCenter_12; };
  CLS.fld_$$fn$$contains_13 = null;
  m = c._$$fn$$contains_13 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$contains_13 = v; return CLS.fld_$$fn$$contains_13; };
  CLS.fld_$$fn$$intersects_14 = null;
  m = c._$$fn$$intersects_14 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$intersects_14 = v; return CLS.fld_$$fn$$intersects_14; };
  CLS.fld_$$fn$$equals_15 = null;
  m = c._$$fn$$equals_15 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$equals_15 = v; return CLS.fld_$$fn$$equals_15; };
  CLS.fld_$$fn$$toBBoxString_16 = null;
  m = c._$$fn$$toBBoxString_16 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$toBBoxString_16 = v; return CLS.fld_$$fn$$toBBoxString_16; };
  CLS.fld_$$fn$$pad_17 = null;
  m = c._$$fn$$pad_17 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$pad_17 = v; return CLS.fld_$$fn$$pad_17; };
  CLS.fld_$$fn$$isValid_18 = null;
  m = c._$$fn$$isValid_18 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$isValid_18 = v; return CLS.fld_$$fn$$isValid_18; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = c.getArrayOfJSObj___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
var stA1 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2(stA1);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getArrayOfJSObj___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA0).length)) { gt = 29; break IF; }
var stA0 = lcA1;var stI1 = lcI2;var stA2 = Array.at(lcA0, lcI2).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

return lcA1;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.extend__VLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.extend__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['extend__VLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.extend__VLnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.extend__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['extend__VLnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSouthWest__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getSouthWest__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getSouthWest__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getNorthEast__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getNorthEast__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getNorthEast__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getNorthWest__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getNorthWest__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getNorthWest__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSouthEast__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getSouthEast__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getSouthEast__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getWest__D = function() {
  var  lcA0 = this;
var stD0 = c.getWest__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getWest__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSouth__D = function() {
  var  lcA0 = this;
var stD0 = c.getSouth__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getSouth__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getEast__D = function() {
  var  lcA0 = this;
var stD0 = c.getEast__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getEast__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getNorth__D = function() {
  var  lcA0 = this;
var stD0 = c.getNorth__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getNorth__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getCenter__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getCenter__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getCenter__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.contains__ZLnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.contains__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['contains__ZLnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.contains__ZLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.contains__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['contains__ZLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.intersects__ZLnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.intersects__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['intersects__ZLnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.equals__ZLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = lcA1 != null && lcA1['$instOf_net_java_html_leaflet_LatLngBounds'] ? 1 : 0;
if ((stI0) != 0) { gt = 9; break IF; }
return 0;
    }
    X_9: for (;;) { IF: if (gt <= 9) {

if (lcA1 !== null && !lcA1['$instOf_net_java_html_leaflet_LatLngBounds']) vm.java_lang_Class(false).castEx();
var lcA2 = lcA1;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA2.getJSObj__Ljava_lang_Object_2();
var stI0 = c.equals__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

    }
}}
};
c['equals__ZLjava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.toBBoxString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = c.toBBoxString__Ljava_lang_String_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
return stA0;

};
c['toBBoxString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.pad__Lnet_java_html_leaflet_LatLngBounds_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLngBounds;
var stA1 = stA0;var stA2 = c.pad__Lnet_java_html_leaflet_LatLngBounds_2Ljava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['pad__Lnet_java_html_leaflet_LatLngBounds_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.isValid__Z = function() {
  var  lcA0 = this;
var stI0 = c.isValid__ZLjava_lang_Object_2(c._jsObj.call(lcA0));
return stI0;

};
c['isValid__Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(southWest,northEast) {

  southWest = vm.java_lang_Class(false).toJS(southWest);
  northEast = vm.java_lang_Class(false).toJS(northEast);return L.latLngBounds(southWest, northEast);
}

    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(latLngs) {

  latLngs = vm.java_lang_Class(false).toJS(latLngs);return L.latLngBounds(latLngs);
}

    m.access = 10;
    m.cls = CLS;
    m = c.extend__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latLng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latLng = vm.java_lang_Class(false).toJS(latLng);jsObj.extend(latLng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getSouthWest__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getSouthWest();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getNorthEast__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getNorthEast();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getNorthWest__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getNorthWest();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getSouthEast__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getSouthEast();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getWest__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getWest();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getSouth__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getSouth();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getEast__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getEast();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getNorth__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getNorth();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getCenter__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getCenter();
}

    m.access = 10;
    m.cls = CLS;
    m = c.contains__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.contains(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.intersects__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.intersects(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.equals__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.equals(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.toBBoxString__Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.toBBoxString();
}

    m.access = 10;
    m.cls = CLS;
    m = c.pad__Lnet_java_html_leaflet_LatLngBounds_2Ljava_lang_Object_2D = function(jsObj,bufferRatio) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  bufferRatio = vm.java_lang_Class(false).toJS(bufferRatio);return jsObj.pad(bufferRatio);
}

    m.access = 10;
    m.cls = CLS;
    m = c.isValid__ZLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.isValid();
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_LatLngBoundsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_LatLngBounds', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_LatLngBoundsfillInstOf });
    net_java_html_leaflet_LatLngBoundsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/LatLngBounds';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_LatLngBounds_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_LatLngBounds'] = vm.net_java_html_leaflet_LatLngBounds;


vm.net_java_html_leaflet_event_LocationEvent = function net_java_html_leaflet_event_LocationEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_LocationEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._latlng = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_latlng = v; return this.fld_net_java_html_leaflet_event_LocationEvent_latlng; };
  m = c._bounds = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_bounds = v; return this.fld_net_java_html_leaflet_event_LocationEvent_bounds; };
  m = c._accuracy = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_accuracy = v; return this.fld_net_java_html_leaflet_event_LocationEvent_accuracy; };
  m = c._altitude = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_altitude = v; return this.fld_net_java_html_leaflet_event_LocationEvent_altitude; };
  m = c._altitudeAccuracy = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_altitudeAccuracy = v; return this.fld_net_java_html_leaflet_event_LocationEvent_altitudeAccuracy; };
  m = c._heading = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_heading = v; return this.fld_net_java_html_leaflet_event_LocationEvent_heading; };
  m = c._speed = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_speed = v; return this.fld_net_java_html_leaflet_event_LocationEvent_speed; };
  m = c._timestamp = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LocationEvent_timestamp = v; return this.fld_net_java_html_leaflet_event_LocationEvent_timestamp; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_LatLngBounds_2DDDDDD = function(lcA1, lcA2, lcA3, lcA4, lcD5, lcD7, lcD9, lcD11, lcD13, lcD15) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._latlng.call(lcA0, lcA3);
c._bounds.call(lcA0, lcA4);
c._accuracy.call(lcA0, lcD5);
c._altitude.call(lcA0, lcD7);
c._altitudeAccuracy.call(lcA0, lcD9);
c._heading.call(lcA0, lcD11);
c._speed.call(lcA0, lcD13);
c._timestamp.call(lcA0, lcD15);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_LatLngBounds_2DDDDDD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatlng__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
return c._latlng.call(lcA0);

};
c['getLatlng__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getBounds__Lnet_java_html_leaflet_LatLngBounds_2 = function() {
  var  lcA0 = this;
return c._bounds.call(lcA0);

};
c['getBounds__Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getAccuracy__D = function() {
  var  lcA0 = this;
return c._accuracy.call(lcA0);

};
c['getAccuracy__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getAltitude__D = function() {
  var  lcA0 = this;
return c._altitude.call(lcA0);

};
c['getAltitude__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getAltitudeAccuracy__D = function() {
  var  lcA0 = this;
return c._altitudeAccuracy.call(lcA0);

};
c['getAltitudeAccuracy__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getHeading__D = function() {
  var  lcA0 = this;
return c._heading.call(lcA0);

};
c['getHeading__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSpeed__D = function() {
  var  lcA0 = this;
return c._speed.call(lcA0);

};
c['getSpeed__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getTimestamp__D = function() {
  var  lcA0 = this;
return c._timestamp.call(lcA0);

};
c['getTimestamp__D'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_LocationEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_LocationEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_LocationEventfillInstOf });
    net_java_html_leaflet_event_LocationEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/LocationEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_LocationEvent_latlng = null;
    this.fld_net_java_html_leaflet_event_LocationEvent_bounds = null;
    this.fld_net_java_html_leaflet_event_LocationEvent_accuracy = 0.0;
    this.fld_net_java_html_leaflet_event_LocationEvent_altitude = 0.0;
    this.fld_net_java_html_leaflet_event_LocationEvent_altitudeAccuracy = 0.0;
    this.fld_net_java_html_leaflet_event_LocationEvent_heading = 0.0;
    this.fld_net_java_html_leaflet_event_LocationEvent_speed = 0.0;
    this.fld_net_java_html_leaflet_event_LocationEvent_timestamp = 0.0;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_LocationEvent'] = vm.net_java_html_leaflet_event_LocationEvent;


vm.net_java_html_leaflet_ILayer = function net_java_html_leaflet_ILayer() {
  var m;
  var CLS = net_java_html_leaflet_ILayer;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_ILayer_jsObj = v; return this.fld_net_java_html_leaflet_ILayer_jsObj; };
  CLS.fld_registeredLayerTypes = null;
  m = c._registeredLayerTypes = function (v) {  if (arguments.length == 1) CLS.fld_registeredLayerTypes = v; return CLS.fld_registeredLayerTypes; };
  CLS.fld_$$fn$$checkLayerType_1 = null;
  m = c._$$fn$$checkLayerType_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$checkLayerType_1 = v; return CLS.fld_$$fn$$checkLayerType_1; };
  CLS.fld_$$fn$$isSubclassOf_2 = null;
  m = c._$$fn$$isSubclassOf_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$isSubclassOf_2 = v; return CLS.fld_$$fn$$isSubclassOf_2; };
    m = c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2 = function(lcA0, lcA1) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = invoker.containsKey__ZLjava_lang_Object_2(c._registeredLayerTypes(),lcA0);
if ((stI0) != 0) { gt = 19; break IF; }
var stA0 = invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(c._registeredLayerTypes(),lcA0, lcA1);
    }
    X_19: for (;;) { IF: if (gt <= 19) {
return;

    }
}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.unregisterLayerType__VLjava_lang_String_2 = function(lcA0) {
var stA0 = invoker.remove__Ljava_lang_Object_2Ljava_lang_Object_2(c._registeredLayerTypes(),lcA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.checkLayerType__ZLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,layerTypeName) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layerTypeName = vm.java_lang_Class(false).toJS(layerTypeName);return jsObj instanceof eval(layerTypeName);
}

    m.access = 10;
    m.cls = CLS;
    m = c.isSubclassOf__ZLjava_lang_String_2Ljava_lang_String_2 = function(classAName,classBName) {

  classAName = vm.java_lang_Class(false).toJS(classAName);
  classBName = vm.java_lang_Class(false).toJS(classBName);return eval(classAName).prototype instanceof eval(classBName);
}

    m.access = 10;
    m.cls = CLS;
    m = c.createLayer__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {
var stA0 = new vm.java_util_ArrayList;
(refs_java_util_ArrayList || (refs_java_util_ArrayList = vm.java_util_ArrayList(false))).constructor['cons__V'].call(stA0);
var lcA1 = stA0;
var stA0 = invoker.keySet__Ljava_util_Set_2(c._registeredLayerTypes());
var stA0 = invoker.iterator__Ljava_util_Iterator_2(stA0);
var lcA2 = stA0;
    }
    X_20: for (;;) { IF: if (gt <= 20) {

var stI0 = invoker.hasNext__Z(lcA2);
if ((stI0) == 0) { gt = 58; break IF; }
var stA0 = invoker.next__Ljava_lang_Object_2(lcA2);
if (stA0 !== null && !stA0['$instOf_java_lang_String']) vm.java_lang_Class(false).castEx();
var lcA3 = stA0;
var stI0 = c.checkLayerType__ZLjava_lang_Object_2Ljava_lang_String_2(lcA0, lcA3);
if ((stI0) == 0) { gt = 55; break IF; }
var stI0 = invoker.add__ZLjava_lang_Object_2(lcA1,lcA3);
    }
    X_55: for (;;) { IF: if (gt <= 55) {
{ gt = 0; continue X_20; }
    }
    X_58: for (;;) { IF: if (gt <= 58) {

var stI0 = invoker.isEmpty__Z(lcA1);
if ((stI0) == 0) { gt = 76; break IF; }
var stA0 = new vm.net_java_html_leaflet_UnknownLayer;
(refs_net_java_html_leaflet_UnknownLayer || (refs_net_java_html_leaflet_UnknownLayer = vm.net_java_html_leaflet_UnknownLayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA0);
return stA0;
    }
    X_76: for (;;) { IF: if (gt <= 76) {

var stA0 = lcA1;var stA1 = new vm.net_java_html_leaflet_ILayer$1;
(refs_net_java_html_leaflet_ILayer$1 || (refs_net_java_html_leaflet_ILayer$1 = vm.net_java_html_leaflet_ILayer$1(false))).constructor.cons__V.call(stA1);
(refs_java_util_Collections || (refs_java_util_Collections = vm.java_util_Collections(false)))['sort__VLjava_util_List_2Ljava_util_Comparator_2'](stA0, stA1);
var stA0 = c._registeredLayerTypes();var stA1 = invoker.get__Ljava_lang_Object_2I(lcA1,0);
var stA0 = invoker.get__Ljava_lang_Object_2Ljava_lang_Object_2(stA0,stA1);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_Function']) vm.java_lang_Class(false).castEx();
var stA0 = stA0.apply__Ljava_lang_Object_2Ljava_lang_Object_2(lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_ILayer']) vm.java_lang_Class(false).castEx();
return stA0;

    }
}}}}}
};
    m.access = 8;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = c.access$000__ZLjava_lang_String_2Ljava_lang_String_2 = function(lcA0, lcA1) {
var stI0 = c.isSubclassOf__ZLjava_lang_String_2Ljava_lang_String_2(lcA0, lcA1);
return stI0;

};
    m.access = 4104;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = new vm.java_util_HashMap;
(refs_java_util_HashMap || (refs_java_util_HashMap = vm.java_util_HashMap(false))).constructor['cons__V'].call(stA0);
c._registeredLayerTypes(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ILayerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ILayer', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ILayerfillInstOf });
    net_java_html_leaflet_ILayerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ILayer';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 1057;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_util_ArrayList;
    var refs_net_java_html_leaflet_UnknownLayer;
    var refs_net_java_html_leaflet_ILayer$1;
    var refs_java_util_Collections;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_util_HashMap;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_ILayer_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_ILayer'] = vm.net_java_html_leaflet_ILayer;

vm.java_util_Collections = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_Collections;
  return link('java/util/Collections', function(f) { vm.java_util_Collections = f;})(instance);
}

vm.net_java_html_leaflet_ILayer$1 = function net_java_html_leaflet_ILayer$1() {
  var m;
  var CLS = net_java_html_leaflet_ILayer$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.compare__ILjava_lang_String_2Ljava_lang_String_2 = function(lcA1, lcA2) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = (refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).access$000__ZLjava_lang_String_2Ljava_lang_String_2(lcA2, lcA1);
if ((stI0) == 0) { gt = 12; break IF; }
var stI0 = 1;{ gt = 13; break IF; }
    }
    X_12: for (;;) { IF: if (gt <= 12) {

var stI0 = -1;    }
    X_13: for (;;) { IF: if (gt <= 13) {
return stI0;

    }
}}}
};
    m.access = 1;
    m.cls = CLS;
    m = c.compare__ILjava_lang_Object_2Ljava_lang_Object_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
if (lcA1 !== null && !lcA1['$instOf_java_lang_String']) vm.java_lang_Class(false).castEx();
if (lcA2 !== null && !lcA2['$instOf_java_lang_String']) vm.java_lang_Class(false).castEx();
var stI0 = lcA0.compare__ILjava_lang_String_2Ljava_lang_String_2(lcA1, lcA2);
return stI0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ILayer$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ILayer$1', { value : true });
      vm.java_util_Comparator(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ILayer$1fillInstOf });
    net_java_html_leaflet_ILayer$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ILayer$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.java_util_Comparator(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_ILayer;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
vm.java_util_Comparator = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_Comparator;
  return link('java/util/Comparator', function(f) { vm.java_util_Comparator = f;})(instance);
}

vm.net_java_html_leaflet_UnknownLayer = function net_java_html_leaflet_UnknownLayer() {
  var m;
  var CLS = net_java_html_leaflet_UnknownLayer;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_UnknownLayerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_UnknownLayer', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_UnknownLayerfillInstOf });
    net_java_html_leaflet_UnknownLayerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/UnknownLayer';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_ILayer;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_UnknownLayer'] = vm.net_java_html_leaflet_UnknownLayer;

vm.java_util_ArrayList = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_ArrayList;
  return link('java/util/ArrayList', function(f) { vm.java_util_ArrayList = f;})(instance);
}

vm.net_java_html_leaflet_event_LayerEvent = function net_java_html_leaflet_event_LayerEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_LayerEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._layer = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_LayerEvent_layer = v; return this.fld_net_java_html_leaflet_event_LayerEvent_layer; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1, lcA2, lcA3) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._layer.call(lcA0, lcA3);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLayer__Lnet_java_html_leaflet_ILayer_2 = function() {
  var  lcA0 = this;
return c._layer.call(lcA0);

};
c['getLayer__Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_LayerEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_LayerEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_LayerEventfillInstOf });
    net_java_html_leaflet_event_LayerEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/LayerEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_LayerEvent_layer = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_LayerEvent'] = vm.net_java_html_leaflet_event_LayerEvent;


vm.net_java_html_leaflet_event_ErrorEvent = function net_java_html_leaflet_event_ErrorEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_ErrorEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._message = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_ErrorEvent_message = v; return this.fld_net_java_html_leaflet_event_ErrorEvent_message; };
  m = c._code = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_ErrorEvent_code = v; return this.fld_net_java_html_leaflet_event_ErrorEvent_code; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2I = function(lcA1, lcA2, lcA3, lcI4) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._message.call(lcA0, lcA3);
c._code.call(lcA0, lcI4);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_String_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getMessage__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
return c._message.call(lcA0);

};
c['getMessage__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getCode__I = function() {
  var  lcA0 = this;
return c._code.call(lcA0);

};
c['getCode__I'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_ErrorEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_ErrorEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_ErrorEventfillInstOf });
    net_java_html_leaflet_event_ErrorEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/ErrorEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_ErrorEvent_message = null;
    this.fld_net_java_html_leaflet_event_ErrorEvent_code = 0;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_ErrorEvent'] = vm.net_java_html_leaflet_event_ErrorEvent;


vm.net_java_html_leaflet_event_DragEndEvent = function net_java_html_leaflet_event_DragEndEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_DragEndEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._distance = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_DragEndEvent_distance = v; return this.fld_net_java_html_leaflet_event_DragEndEvent_distance; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2D = function(lcA1, lcA2, lcD3) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._distance.call(lcA0, lcD3);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getDistance__D = function() {
  var  lcA0 = this;
return c._distance.call(lcA0);

};
c['getDistance__D'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_DragEndEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_DragEndEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_DragEndEventfillInstOf });
    net_java_html_leaflet_event_DragEndEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/DragEndEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_DragEndEvent_distance = 0.0;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_DragEndEvent'] = vm.net_java_html_leaflet_event_DragEndEvent;


vm.net_java_html_leaflet_Point = function net_java_html_leaflet_Point() {
  var m;
  var CLS = net_java_html_leaflet_Point;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_Point_jsObj = v; return this.fld_net_java_html_leaflet_Point_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$getX_2 = null;
  m = c._$$fn$$getX_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getX_2 = v; return CLS.fld_$$fn$$getX_2; };
  CLS.fld_$$fn$$setX_3 = null;
  m = c._$$fn$$setX_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setX_3 = v; return CLS.fld_$$fn$$setX_3; };
  CLS.fld_$$fn$$getY_4 = null;
  m = c._$$fn$$getY_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getY_4 = v; return CLS.fld_$$fn$$getY_4; };
  CLS.fld_$$fn$$setY_5 = null;
  m = c._$$fn$$setY_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setY_5 = v; return CLS.fld_$$fn$$setY_5; };
  CLS.fld_$$fn$$add_6 = null;
  m = c._$$fn$$add_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$add_6 = v; return CLS.fld_$$fn$$add_6; };
  CLS.fld_$$fn$$subtract_7 = null;
  m = c._$$fn$$subtract_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$subtract_7 = v; return CLS.fld_$$fn$$subtract_7; };
  CLS.fld_$$fn$$multiplyBy_8 = null;
  m = c._$$fn$$multiplyBy_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$multiplyBy_8 = v; return CLS.fld_$$fn$$multiplyBy_8; };
  CLS.fld_$$fn$$divideBy_9 = null;
  m = c._$$fn$$divideBy_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$divideBy_9 = v; return CLS.fld_$$fn$$divideBy_9; };
  CLS.fld_$$fn$$distanceTo_10 = null;
  m = c._$$fn$$distanceTo_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$distanceTo_10 = v; return CLS.fld_$$fn$$distanceTo_10; };
  CLS.fld_$$fn$$clone_11 = null;
  m = c._$$fn$$clone_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$clone_11 = v; return CLS.fld_$$fn$$clone_11; };
  CLS.fld_$$fn$$round_12 = null;
  m = c._$$fn$$round_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$round_12 = v; return CLS.fld_$$fn$$round_12; };
  CLS.fld_$$fn$$floor_13 = null;
  m = c._$$fn$$floor_13 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$floor_13 = v; return CLS.fld_$$fn$$floor_13; };
  CLS.fld_$$fn$$equals_14 = null;
  m = c._$$fn$$equals_14 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$equals_14 = v; return CLS.fld_$$fn$$equals_14; };
  CLS.fld_$$fn$$contains_15 = null;
  m = c._$$fn$$contains_15 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$contains_15 = v; return CLS.fld_$$fn$$contains_15; };
  CLS.fld_$$fn$$toString_16 = null;
  m = c._$$fn$$toString_16 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$toString_16 = v; return CLS.fld_$$fn$$toString_16; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VDD = function(lcD1, lcD3) {
  var  lcA0 = this;
c.constructor.cons__VDDZ.call(lcA0, lcD1, lcD3, 0);
return;

};
CLS['cons__VDD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VDDZ = function(lcD1, lcD3, lcI5) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = c.create__Ljava_lang_Object_2DDZ(lcD1, lcD3, lcI5);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VDDZ'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.getX__D = function() {
  var  lcA0 = this;
var stD0 = c.getX__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getX__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setX__VD = function(lcD1) {
  var  lcA0 = this;
c.setX__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return;

};
c['setX__VD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getY__D = function() {
  var  lcA0 = this;
var stD0 = c.getY__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getY__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setY__VD = function(lcD1) {
  var  lcA0 = this;
c.setY__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return;

};
c['setY__VD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.add__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.add__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['add__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.subtract__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.subtract__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['subtract__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.multiplyBy__Lnet_java_html_leaflet_Point_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.multiplyBy__Ljava_lang_Object_2Ljava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['multiplyBy__Lnet_java_html_leaflet_Point_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.divideBy__Lnet_java_html_leaflet_Point_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = lcA0.divideBy__Lnet_java_html_leaflet_Point_2DZ(lcD1, 0);
return stA0;

};
c['divideBy__Lnet_java_html_leaflet_Point_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.divideBy__Lnet_java_html_leaflet_Point_2DZ = function(lcD1, lcI3) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.divideBy__Ljava_lang_Object_2Ljava_lang_Object_2DZ(c._jsObj.call(lcA0), lcD1, lcI3);
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['divideBy__Lnet_java_html_leaflet_Point_2DZ'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.distanceTo__DLnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stD0 = c.distanceTo__DLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stD0;

};
c['distanceTo__DLnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clone__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.clone__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['clone__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.round__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.round__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['round__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.floor__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.floor__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['floor__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.equals__ZLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = lcA1 != null && lcA1['$instOf_net_java_html_leaflet_Point'] ? 1 : 0;
if ((stI0) != 0) { gt = 9; break IF; }
return 0;
    }
    X_9: for (;;) { IF: if (gt <= 9) {

if (lcA1 !== null && !lcA1['$instOf_net_java_html_leaflet_Point']) vm.java_lang_Class(false).castEx();
var lcA2 = lcA1;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA2.getJSObj__Ljava_lang_Object_2();
var stI0 = c.equals__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

    }
}}
};
c['equals__ZLjava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.contains__ZLnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.contains__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['contains__ZLnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = c.toString__Ljava_lang_String_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2DDZ = function(x,y,round) {

  x = vm.java_lang_Class(false).toJS(x);
  y = vm.java_lang_Class(false).toJS(y);
  round = vm.java_lang_Class(false).toJS(round);return L.point(x, y, round);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getX__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.x;
}

    m.access = 10;
    m.cls = CLS;
    m = c.setX__VLjava_lang_Object_2D = function(jsObj,xVal) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  xVal = vm.java_lang_Class(false).toJS(xVal);jsObj.x = xVal;
}

    m.access = 10;
    m.cls = CLS;
    m = c.getY__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.y;
}

    m.access = 10;
    m.cls = CLS;
    m = c.setY__VLjava_lang_Object_2D = function(jsObj,yVal) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  yVal = vm.java_lang_Class(false).toJS(yVal);jsObj.y = yVal;
}

    m.access = 10;
    m.cls = CLS;
    m = c.add__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.add(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.subtract__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.subtract(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.multiplyBy__Ljava_lang_Object_2Ljava_lang_Object_2D = function(jsObj,number) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  number = vm.java_lang_Class(false).toJS(number);return jsObj.multiplyBy(number);
}

    m.access = 10;
    m.cls = CLS;
    m = c.divideBy__Ljava_lang_Object_2Ljava_lang_Object_2DZ = function(jsObj,number,round) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  number = vm.java_lang_Class(false).toJS(number);
  round = vm.java_lang_Class(false).toJS(round);return jsObj.divideBy(number, round);
}

    m.access = 10;
    m.cls = CLS;
    m = c.distanceTo__DLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.distanceTo(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.clone__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.clone();
}

    m.access = 10;
    m.cls = CLS;
    m = c.round__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.round();
}

    m.access = 10;
    m.cls = CLS;
    m = c.floor__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.floor();
}

    m.access = 10;
    m.cls = CLS;
    m = c.equals__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.equals(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.contains__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.contains(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.toString();
}

    m.access = 10;
    m.cls = CLS;
    m = c.clone__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.clone__Lnet_java_html_leaflet_Point_2();
return stA0;

};
c['clone__Ljava_lang_Object_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PointfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Point', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PointfillInstOf });
    net_java_html_leaflet_PointfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Point';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_Point_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Point'] = vm.net_java_html_leaflet_Point;


vm.net_java_html_leaflet_LatLng = function net_java_html_leaflet_LatLng() {
  var m;
  var CLS = net_java_html_leaflet_LatLng;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_LatLng_jsObj = v; return this.fld_net_java_html_leaflet_LatLng_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$getLat_2 = null;
  m = c._$$fn$$getLat_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLat_2 = v; return CLS.fld_$$fn$$getLat_2; };
  CLS.fld_$$fn$$setLat_3 = null;
  m = c._$$fn$$setLat_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLat_3 = v; return CLS.fld_$$fn$$setLat_3; };
  CLS.fld_$$fn$$getLng_4 = null;
  m = c._$$fn$$getLng_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLng_4 = v; return CLS.fld_$$fn$$getLng_4; };
  CLS.fld_$$fn$$setLng_5 = null;
  m = c._$$fn$$setLng_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLng_5 = v; return CLS.fld_$$fn$$setLng_5; };
  CLS.fld_$$fn$$distanceTo_6 = null;
  m = c._$$fn$$distanceTo_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$distanceTo_6 = v; return CLS.fld_$$fn$$distanceTo_6; };
  CLS.fld_$$fn$$equals_7 = null;
  m = c._$$fn$$equals_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$equals_7 = v; return CLS.fld_$$fn$$equals_7; };
  CLS.fld_$$fn$$toString_8 = null;
  m = c._$$fn$$toString_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$toString_8 = v; return CLS.fld_$$fn$$toString_8; };
  CLS.fld_$$fn$$wrap_9 = null;
  m = c._$$fn$$wrap_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$wrap_9 = v; return CLS.fld_$$fn$$wrap_9; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VDD = function(lcD1, lcD3) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = c.create__Ljava_lang_Object_2DD(lcD1, lcD3);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VDD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.getLatitude__D = function() {
  var  lcA0 = this;
var stD0 = c.getLat__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getLatitude__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatitude__VD = function(lcD1) {
  var  lcA0 = this;
c.setLat__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return;

};
c['setLatitude__VD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLongitude__D = function() {
  var  lcA0 = this;
var stD0 = c.getLng__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getLongitude__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLongitude__VD = function(lcD1) {
  var  lcA0 = this;
c.setLng__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return;

};
c['setLongitude__VD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.distanceTo__DLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stD0 = c.distanceTo__DLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stD0;

};
c['distanceTo__DLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.equals__ZLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = lcA1 != null && lcA1['$instOf_net_java_html_leaflet_LatLng'] ? 1 : 0;
if ((stI0) != 0) { gt = 9; break IF; }
return 0;
    }
    X_9: for (;;) { IF: if (gt <= 9) {

if (lcA1 !== null && !lcA1['$instOf_net_java_html_leaflet_LatLng']) vm.java_lang_Class(false).castEx();
var lcA2 = lcA1;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA2.getJSObj__Ljava_lang_Object_2();
var stI0 = c.equals__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

    }
}}
};
c['equals__ZLjava_lang_Object_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = c.toString__Ljava_lang_String_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.wrap__Lnet_java_html_leaflet_LatLng_2DD = function(lcD1, lcD3) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.wrap__Ljava_lang_Object_2Ljava_lang_Object_2DD(c._jsObj.call(lcA0), lcD1, lcD3);
c.constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['wrap__Lnet_java_html_leaflet_LatLng_2DD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2DD = function(latitude,longitude) {

  latitude = vm.java_lang_Class(false).toJS(latitude);
  longitude = vm.java_lang_Class(false).toJS(longitude);return L.latLng(latitude, longitude);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLat__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.lat;
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLat__VLjava_lang_Object_2D = function(jsObj,latitudeVal) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latitudeVal = vm.java_lang_Class(false).toJS(latitudeVal);jsObj.lat = latitudeVal;
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLng__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.lng;
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLng__VLjava_lang_Object_2D = function(jsObj,longitudeVal) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  longitudeVal = vm.java_lang_Class(false).toJS(longitudeVal);jsObj.lng = longitudeVal;
}

    m.access = 10;
    m.cls = CLS;
    m = c.distanceTo__DLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.distanceTo(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.equals__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,other) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  other = vm.java_lang_Class(false).toJS(other);return jsObj.equals(other);
}

    m.access = 10;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.toString();
}

    m.access = 10;
    m.cls = CLS;
    m = c.wrap__Ljava_lang_Object_2Ljava_lang_Object_2DD = function(jsObj,left,right) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  left = vm.java_lang_Class(false).toJS(left);
  right = vm.java_lang_Class(false).toJS(right);return jsObj.wrap(left, right);
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_LatLngfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_LatLng', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_LatLngfillInstOf });
    net_java_html_leaflet_LatLngfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/LatLng';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_LatLng_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_LatLng'] = vm.net_java_html_leaflet_LatLng;


vm.net_java_html_leaflet_event_MouseEvent = function net_java_html_leaflet_event_MouseEvent() {
  var m;
  var CLS = net_java_html_leaflet_event_MouseEvent;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_event_Event(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._latlng = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_MouseEvent_latlng = v; return this.fld_net_java_html_leaflet_event_MouseEvent_latlng; };
  m = c._layerPoint = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_MouseEvent_layerPoint = v; return this.fld_net_java_html_leaflet_event_MouseEvent_layerPoint; };
  m = c._containerPoint = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_event_MouseEvent_containerPoint = v; return this.fld_net_java_html_leaflet_event_MouseEvent_containerPoint; };
    m = CLS.cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1, lcA2, lcA3, lcA4, lcA5) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_event_Event || (refs_net_java_html_leaflet_event_Event = vm.net_java_html_leaflet_event_Event(false))).constructor.cons__VLjava_lang_Object_2Ljava_lang_String_2.call(lcA0, lcA1, lcA2);
c._latlng.call(lcA0, lcA3);
c._layerPoint.call(lcA0, lcA4);
c._containerPoint.call(lcA0, lcA5);
return;

};
CLS['cons__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLng__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
return c._latlng.call(lcA0);

};
c['getLatLng__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLayerPoint__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
return c._layerPoint.call(lcA0);

};
c['getLayerPoint__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getContainerPoint__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
return c._containerPoint.call(lcA0);

};
c['getContainerPoint__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_MouseEventfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_MouseEvent', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_MouseEventfillInstOf });
    net_java_html_leaflet_event_MouseEventfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/MouseEvent';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_net_java_html_leaflet_event_Event;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_event_MouseEvent_latlng = null;
    this.fld_net_java_html_leaflet_event_MouseEvent_layerPoint = null;
    this.fld_net_java_html_leaflet_event_MouseEvent_containerPoint = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_MouseEvent'] = vm.net_java_html_leaflet_event_MouseEvent;


vm.net_java_html_leaflet_EventMethodsHelper$JSInfo = function net_java_html_leaflet_EventMethodsHelper$JSInfo() {
  var m;
  var CLS = net_java_html_leaflet_EventMethodsHelper$JSInfo;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsListener = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_EventMethodsHelper$JSInfo_jsListener = v; return this.fld_net_java_html_leaflet_EventMethodsHelper$JSInfo_jsListener; };
  m = c._refCounter = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_EventMethodsHelper$JSInfo_refCounter = v; return this.fld_net_java_html_leaflet_EventMethodsHelper$JSInfo_refCounter; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsListener.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.getJSListener__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsListener.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = c.hasReferences__Z = function() {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

if ((c._refCounter.call(lcA0)) <= 0) { gt = 11; break IF; }
var stI0 = 1;{ gt = 12; break IF; }
    }
    X_11: for (;;) { IF: if (gt <= 11) {

var stI0 = 0;    }
    X_12: for (;;) { IF: if (gt <= 12) {
return stI0;

    }
}}}
};
    m.access = 0;
    m.cls = CLS;
    m = c.incrementCounter__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = stA0;
c._refCounter.call(stA0, (c._refCounter.call(stA1)).add32(1));
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.decrementCounter__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = stA0;
c._refCounter.call(stA0, (c._refCounter.call(stA1)).sub32(1));
return;

};
    m.access = 0;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_EventMethodsHelper$JSInfofillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_EventMethodsHelper$JSInfo', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_EventMethodsHelper$JSInfofillInstOf });
    net_java_html_leaflet_EventMethodsHelper$JSInfofillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/EventMethodsHelper$JSInfo';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 32;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_EventMethodsHelper$JSInfo_jsListener = null;
    this.fld_net_java_html_leaflet_EventMethodsHelper$JSInfo_refCounter = 0;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
vm.org_netbeans_html_boot_spi_Fn = link('org/netbeans/html/boot/spi/Fn', function(f) { vm.org_netbeans_html_boot_spi_Fn =  f; });

vm.net_java_html_leaflet_Bounds = function net_java_html_leaflet_Bounds() {
  var m;
  var CLS = net_java_html_leaflet_Bounds;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_Bounds_jsObj = v; return this.fld_net_java_html_leaflet_Bounds_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$create_2 = null;
  m = c._$$fn$$create_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_2 = v; return CLS.fld_$$fn$$create_2; };
  CLS.fld_$$fn$$getMinInternal_3 = null;
  m = c._$$fn$$getMinInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getMinInternal_3 = v; return CLS.fld_$$fn$$getMinInternal_3; };
  CLS.fld_$$fn$$getMaxInternal_4 = null;
  m = c._$$fn$$getMaxInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getMaxInternal_4 = v; return CLS.fld_$$fn$$getMaxInternal_4; };
  CLS.fld_$$fn$$setMinInternal_5 = null;
  m = c._$$fn$$setMinInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setMinInternal_5 = v; return CLS.fld_$$fn$$setMinInternal_5; };
  CLS.fld_$$fn$$setMaxInternal_6 = null;
  m = c._$$fn$$setMaxInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setMaxInternal_6 = v; return CLS.fld_$$fn$$setMaxInternal_6; };
  CLS.fld_$$fn$$extendInternal_7 = null;
  m = c._$$fn$$extendInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$extendInternal_7 = v; return CLS.fld_$$fn$$extendInternal_7; };
  CLS.fld_$$fn$$getCenterInternal_8 = null;
  m = c._$$fn$$getCenterInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCenterInternal_8 = v; return CLS.fld_$$fn$$getCenterInternal_8; };
  CLS.fld_$$fn$$containsInternal_9 = null;
  m = c._$$fn$$containsInternal_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$containsInternal_9 = v; return CLS.fld_$$fn$$containsInternal_9; };
  CLS.fld_$$fn$$intersectsInternal_10 = null;
  m = c._$$fn$$intersectsInternal_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$intersectsInternal_10 = v; return CLS.fld_$$fn$$intersectsInternal_10; };
  CLS.fld_$$fn$$isValidInternal_11 = null;
  m = c._$$fn$$isValidInternal_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$isValidInternal_11 = v; return CLS.fld_$$fn$$isValidInternal_11; };
  CLS.fld_$$fn$$getSizeInternal_12 = null;
  m = c._$$fn$$getSizeInternal_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getSizeInternal_12 = v; return CLS.fld_$$fn$$getSizeInternal_12; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = c.getArrayOfJSObj___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_Point_2(lcA1);
var stA1 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2(stA1);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getArrayOfJSObj___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_Point_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA1).length)) { gt = 29; break IF; }
var stA0 = lcA1;var stI1 = lcI2;var stA2 = Array.at(lcA0, lcI2).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

return lcA1;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(topLeft,bottomRight) {

  topLeft = vm.java_lang_Class(false).toJS(topLeft);
  bottomRight = vm.java_lang_Class(false).toJS(bottomRight);return L.bounds(topLeft, bottomRight);
}

    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(points) {

  points = vm.java_lang_Class(false).toJS(points);return L.bounds(points);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getMin__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.getMinInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getMin__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getMax__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.getMaxInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getMax__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMin__Lnet_java_html_leaflet_Bounds_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setMinInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setMin__Lnet_java_html_leaflet_Bounds_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMax__Lnet_java_html_leaflet_Bounds_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setMaxInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setMax__Lnet_java_html_leaflet_Bounds_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getMinInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.min;
}

    m.access = 10;
    m.cls = CLS;
    m = c.getMaxInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.max;
}

    m.access = 10;
    m.cls = CLS;
    m = c.setMinInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,point) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);jsObj.min = point;
}

    m.access = 10;
    m.cls = CLS;
    m = c.setMaxInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,point) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);jsObj.max = point;
}

    m.access = 10;
    m.cls = CLS;
    m = c.extend__VLnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.extendInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['extend__VLnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getCenter__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.getCenterInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getCenter__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.contains__ZLnet_java_html_leaflet_Bounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.containsInternal__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['contains__ZLnet_java_html_leaflet_Bounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.contains__ZLnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.containsInternal__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['contains__ZLnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.intersects__ZLnet_java_html_leaflet_Bounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.intersectsInternal__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['intersects__ZLnet_java_html_leaflet_Bounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.isValid__Z = function() {
  var  lcA0 = this;
var stI0 = c.isValidInternal__ZLjava_lang_Object_2(c._jsObj.call(lcA0));
return stI0;

};
c['isValid__Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSize__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.getSizeInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getSize__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.extendInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latLng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latLng = vm.java_lang_Class(false).toJS(latLng);jsObj.extend(latLng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getCenterInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getCenter();
}

    m.access = 10;
    m.cls = CLS;
    m = c.containsInternal__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,otherBounds) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  otherBounds = vm.java_lang_Class(false).toJS(otherBounds);return jsObj.contains(otherBounds);
}

    m.access = 10;
    m.cls = CLS;
    m = c.intersectsInternal__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,otherBounds) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  otherBounds = vm.java_lang_Class(false).toJS(otherBounds);return jsObj.intersects(otherBounds);
}

    m.access = 10;
    m.cls = CLS;
    m = c.isValidInternal__ZLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.isValid();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getSizeInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getSize();
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_BoundsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Bounds', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_BoundsfillInstOf });
    net_java_html_leaflet_BoundsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Bounds';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Point;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_Bounds_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Bounds'] = vm.net_java_html_leaflet_Bounds;


vm.net_java_html_leaflet_Circle$1 = function net_java_html_leaflet_Circle$1() {
  var m;
  var CLS = net_java_html_leaflet_Circle$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Circle;
(refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_Circle$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Circle$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_Circle$1fillInstOf });
    net_java_html_leaflet_Circle$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Circle$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Circle;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_Circle = function net_java_html_leaflet_Circle() {
  var m;
  var CLS = net_java_html_leaflet_Circle;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_Path(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$getLatLngInternal_2 = null;
  m = c._$$fn$$getLatLngInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLatLngInternal_2 = v; return CLS.fld_$$fn$$getLatLngInternal_2; };
  CLS.fld_$$fn$$getRadiusInternal_3 = null;
  m = c._$$fn$$getRadiusInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getRadiusInternal_3 = v; return CLS.fld_$$fn$$getRadiusInternal_3; };
  CLS.fld_$$fn$$setLatLngInternal_4 = null;
  m = c._$$fn$$setLatLngInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLatLngInternal_4 = v; return CLS.fld_$$fn$$setLatLngInternal_4; };
  CLS.fld_$$fn$$setRadiusInternal_5 = null;
  m = c._$$fn$$setRadiusInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setRadiusInternal_5 = v; return CLS.fld_$$fn$$setRadiusInternal_5; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2D = function(lcA1, lcD2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stD2 = lcD2;var stA3 = new vm.net_java_html_leaflet_PathOptions;
(refs_net_java_html_leaflet_PathOptions || (refs_net_java_html_leaflet_PathOptions = vm.net_java_html_leaflet_PathOptions(false))).constructor.cons__V.call(stA3);
c.constructor.cons__VLnet_java_html_leaflet_LatLng_2DLnet_java_html_leaflet_PathOptions_2.call(stA0, stA1, stD2, stA3);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2DLnet_java_html_leaflet_PathOptions_2 = function(lcA1, lcD2, lcA4) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stD2 = lcD2;var stA3 = lcA4.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2DLjava_lang_Object_2(stA1, stD2, stA3);
(refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2DLnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2DLjava_lang_Object_2 = function(latlng,radius,options) {

  latlng = vm.java_lang_Class(false).toJS(latlng);
  radius = vm.java_lang_Class(false).toJS(radius);
  options = vm.java_lang_Class(false).toJS(options);return L.circle(latlng, radius, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLatLng__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getLatLngInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getLatLng__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getRadius__D = function() {
  var  lcA0 = this;
var stD0 = c.getRadiusInternal__DLjava_lang_Object_2(c._jsObj.call(lcA0));
return stD0;

};
c['getRadius__D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLng__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setLatLngInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setLatLng__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setRadius__Lnet_java_html_leaflet_Circle_2D = function(lcD1) {
  var  lcA0 = this;
c.setRadiusInternal__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return lcA0;

};
c['setRadius__Lnet_java_html_leaflet_Circle_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLngInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLatLng();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getRadiusInternal__DLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getRadius();
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLngInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);jsObj.setLatLng(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setRadiusInternal__VLjava_lang_Object_2D = function(jsObj,radius) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  radius = vm.java_lang_Class(false).toJS(radius);jsObj.setIcon(radius);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bringToFront__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bringToBack__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).redraw__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['redraw__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).unbindPopup__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).openPopup__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).closePopup__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.closePopup__Lnet_java_html_leaflet_Circle_2(lcA0);
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.openPopup__Lnet_java_html_leaflet_Circle_2(lcA0);
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.unbindPopup__Lnet_java_html_leaflet_Circle_2(lcA0);
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA0,lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.redraw__Lnet_java_html_leaflet_Circle_2(lcA0);
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToBack__Lnet_java_html_leaflet_Circle_2(lcA0);
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToFront__Lnet_java_html_leaflet_Circle_2(lcA0);
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2(lcA0,lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.Circle";var stA1 = new vm.net_java_html_leaflet_Circle$1;
(refs_net_java_html_leaflet_Circle$1 || (refs_net_java_html_leaflet_Circle$1 = vm.net_java_html_leaflet_Circle$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_CirclefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Circle', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_CirclefillInstOf });
    net_java_html_leaflet_CirclefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Circle';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_Path;
    var refs_net_java_html_leaflet_PathOptions;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_Circle$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Circle'] = vm.net_java_html_leaflet_Circle;


vm.net_java_html_leaflet_PathOptions = function net_java_html_leaflet_PathOptions() {
  var m;
  var CLS = net_java_html_leaflet_PathOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_PathOptions_options = v; return this.fld_net_java_html_leaflet_PathOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStroke__Lnet_java_html_leaflet_PathOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "stroke";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setStroke__Lnet_java_html_leaflet_PathOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setColor__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("color", lcA1);
return lcA0;

};
c['setColor__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setWeight__Lnet_java_html_leaflet_PathOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "weight";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setWeight__Lnet_java_html_leaflet_PathOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOpacity__Lnet_java_html_leaflet_PathOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "opacity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setOpacity__Lnet_java_html_leaflet_PathOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFill__Lnet_java_html_leaflet_PathOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "fill";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setFill__Lnet_java_html_leaflet_PathOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFillColor__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("fillColor", lcA1);
return lcA0;

};
c['setFillColor__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFillOpacity__Lnet_java_html_leaflet_PathOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "fillOpacity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setFillOpacity__Lnet_java_html_leaflet_PathOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDashArray__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("dashArray", lcA1);
return lcA0;

};
c['setDashArray__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLineCap__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("lineCap", lcA1);
return lcA0;

};
c['setLineCap__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLineJoin__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("lineJoin", lcA1);
return lcA0;

};
c['setLineJoin__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClickable__Lnet_java_html_leaflet_PathOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "clickable";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setClickable__Lnet_java_html_leaflet_PathOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setPointerEvents__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("pointerEvents", lcA1);
return lcA0;

};
c['setPointerEvents__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClassName__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("className", lcA1);
return lcA0;

};
c['setClassName__Lnet_java_html_leaflet_PathOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PathOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_PathOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PathOptionsfillInstOf });
    net_java_html_leaflet_PathOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/PathOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Boolean;
    var refs_java_lang_Integer;
    var refs_java_lang_Double;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_PathOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_PathOptions'] = vm.net_java_html_leaflet_PathOptions;

vm.java_lang_Double = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Double;
  return link('java/lang/Double', function(f) { vm.java_lang_Double = f;})(instance);
}
vm.java_lang_Integer = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Integer;
  return link('java/lang/Integer', function(f) { vm.java_lang_Integer = f;})(instance);
}
vm.java_lang_Boolean = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Boolean;
  return link('java/lang/Boolean', function(f) { vm.java_lang_Boolean = f;})(instance);
}

vm.net_java_html_leaflet_Path = function net_java_html_leaflet_Path() {
  var m;
  var CLS = net_java_html_leaflet_Path;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$addToInternal_1 = null;
  m = c._$$fn$$addToInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addToInternal_1 = v; return CLS.fld_$$fn$$addToInternal_1; };
  CLS.fld_$$fn$$setStyleInternal_2 = null;
  m = c._$$fn$$setStyleInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setStyleInternal_2 = v; return CLS.fld_$$fn$$setStyleInternal_2; };
  CLS.fld_$$fn$$getBoundsInternal_3 = null;
  m = c._$$fn$$getBoundsInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getBoundsInternal_3 = v; return CLS.fld_$$fn$$getBoundsInternal_3; };
  CLS.fld_$$fn$$bringToFrontInternal_4 = null;
  m = c._$$fn$$bringToFrontInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bringToFrontInternal_4 = v; return CLS.fld_$$fn$$bringToFrontInternal_4; };
  CLS.fld_$$fn$$bringToBackInternal_5 = null;
  m = c._$$fn$$bringToBackInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bringToBackInternal_5 = v; return CLS.fld_$$fn$$bringToBackInternal_5; };
  CLS.fld_$$fn$$redrawInternal_6 = null;
  m = c._$$fn$$redrawInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$redrawInternal_6 = v; return CLS.fld_$$fn$$redrawInternal_6; };
  CLS.fld_$$fn$$bindPopup1sInternal_7 = null;
  m = c._$$fn$$bindPopup1sInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup1sInternal_7 = v; return CLS.fld_$$fn$$bindPopup1sInternal_7; };
  CLS.fld_$$fn$$bindPopup1pInternal_8 = null;
  m = c._$$fn$$bindPopup1pInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup1pInternal_8 = v; return CLS.fld_$$fn$$bindPopup1pInternal_8; };
  CLS.fld_$$fn$$bindPopup2Internal_9 = null;
  m = c._$$fn$$bindPopup2Internal_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup2Internal_9 = v; return CLS.fld_$$fn$$bindPopup2Internal_9; };
  CLS.fld_$$fn$$unbindPopupInternal_10 = null;
  m = c._$$fn$$unbindPopupInternal_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$unbindPopupInternal_10 = v; return CLS.fld_$$fn$$unbindPopupInternal_10; };
  CLS.fld_$$fn$$openPopupInternal_11 = null;
  m = c._$$fn$$openPopupInternal_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopupInternal_11 = v; return CLS.fld_$$fn$$openPopupInternal_11; };
  CLS.fld_$$fn$$closePopupInternal_12 = null;
  m = c._$$fn$$closePopupInternal_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$closePopupInternal_12 = v; return CLS.fld_$$fn$$closePopupInternal_12; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.addMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addMouseListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addEventListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addEventListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addEventListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addPopupListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addPopupListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addPopupListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeMouseListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeEventListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeEventListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removePopupListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removePopupListener__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearAllEventListeners__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).clearAllEventListeners__VLjava_lang_Object_2(stA0);
return lcA0;

};
c['clearAllEventListeners__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setStyleInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getBounds__Lnet_java_html_leaflet_LatLngBounds_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLngBounds;
var stA1 = stA0;var stA2 = c.getBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLngBounds || (refs_net_java_html_leaflet_LatLngBounds = vm.net_java_html_leaflet_LatLngBounds(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getBounds__Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
c.bringToFrontInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
c.bringToBackInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
c.redrawInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['redraw__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,map) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  map = vm.java_lang_Class(false).toJS(map);jsObj.addTo(map);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setStyleInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  options = vm.java_lang_Class(false).toJS(options);jsObj.setStyle(options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getBounds();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bringToFrontInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.bringToFront();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bringToBackInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.bringToBack();
}

    m.access = 10;
    m.cls = CLS;
    m = c.redrawInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.redraw();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.bindPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.bindPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
c.bindPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
c.unbindPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
c.openPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
c.closePopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,html) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  html = vm.java_lang_Class(false).toJS(html);jsObj.bindPopup(html);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);jsObj.bindPopup(popup);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);
  options = vm.java_lang_Class(false).toJS(options);jsObj.bindPopup(popup, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.unbindPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.unbindPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.openPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.closePopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.closePopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PathfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Path', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PathfillInstOf });
    net_java_html_leaflet_PathfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Path';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 1057;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_EventMethodsHelper;
    var refs_net_java_html_leaflet_LatLngBounds;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Path'] = vm.net_java_html_leaflet_Path;


vm.net_java_html_leaflet_CircleMarker$1 = function net_java_html_leaflet_CircleMarker$1() {
  var m;
  var CLS = net_java_html_leaflet_CircleMarker$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_CircleMarker;
(refs_net_java_html_leaflet_CircleMarker || (refs_net_java_html_leaflet_CircleMarker = vm.net_java_html_leaflet_CircleMarker(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_CircleMarker$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_CircleMarker$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_CircleMarker$1fillInstOf });
    net_java_html_leaflet_CircleMarker$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/CircleMarker$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_CircleMarker;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_CircleMarker = function net_java_html_leaflet_CircleMarker() {
  var m;
  var CLS = net_java_html_leaflet_CircleMarker;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_Circle(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_PathOptions;
(refs_net_java_html_leaflet_PathOptions || (refs_net_java_html_leaflet_PathOptions = vm.net_java_html_leaflet_PathOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PathOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(latlng,options) {

  latlng = vm.java_lang_Class(false).toJS(latlng);
  options = vm.java_lang_Class(false).toJS(options);return L.circleMarker(latlng, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLng__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).setLatLng__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_LatLng_2.call(lcA0, lcA1);
return lcA0;

};
c['setLatLng__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setRadius__Lnet_java_html_leaflet_CircleMarker_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).setRadius__Lnet_java_html_leaflet_Circle_2D.call(lcA0, lcD1);
return lcA0;

};
c['setRadius__Lnet_java_html_leaflet_CircleMarker_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_CircleMarker_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).bringToFront__Lnet_java_html_leaflet_Circle_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_CircleMarker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_CircleMarker_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).bringToBack__Lnet_java_html_leaflet_Circle_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_CircleMarker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_CircleMarker_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).redraw__Lnet_java_html_leaflet_Circle_2.call(lcA0);
return lcA0;

};
c['redraw__Lnet_java_html_leaflet_CircleMarker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_CircleMarker_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_CircleMarker_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).unbindPopup__Lnet_java_html_leaflet_Circle_2.call(lcA0);
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_CircleMarker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_CircleMarker_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).openPopup__Lnet_java_html_leaflet_Circle_2.call(lcA0);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_CircleMarker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_CircleMarker_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Circle || (refs_net_java_html_leaflet_Circle = vm.net_java_html_leaflet_Circle(false))).closePopup__Lnet_java_html_leaflet_Circle_2.call(lcA0);
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_CircleMarker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.closePopup__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.openPopup__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.unbindPopup__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA0,lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.redraw__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToBack__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Circle_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToFront__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Circle_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setStyle__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_PathOptions_2(lcA0,lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setRadius__Lnet_java_html_leaflet_Circle_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = invoker.setRadius__Lnet_java_html_leaflet_CircleMarker_2D(lcA0,lcD1);
return stA0;

};
c['setRadius__Lnet_java_html_leaflet_Circle_2D'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setLatLng__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setLatLng__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_LatLng_2(lcA0,lcA1);
return stA0;

};
c['setLatLng__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.closePopup__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.openPopup__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.unbindPopup__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA0,lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.redraw__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToBack__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToFront__Lnet_java_html_leaflet_CircleMarker_2(lcA0);
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setStyle__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_PathOptions_2(lcA0,lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.CircleMarker";var stA1 = new vm.net_java_html_leaflet_CircleMarker$1;
(refs_net_java_html_leaflet_CircleMarker$1 || (refs_net_java_html_leaflet_CircleMarker$1 = vm.net_java_html_leaflet_CircleMarker$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_CircleMarkerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_CircleMarker', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_CircleMarkerfillInstOf });
    net_java_html_leaflet_CircleMarkerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/CircleMarker';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_Circle;
    var refs_net_java_html_leaflet_PathOptions;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_CircleMarker$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_CircleMarker'] = vm.net_java_html_leaflet_CircleMarker;


vm.net_java_html_leaflet_EPSG3395 = function net_java_html_leaflet_EPSG3395() {
  var m;
  var CLS = net_java_html_leaflet_EPSG3395;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ICRS(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getCRSInternal_1 = null;
  m = c._$$fn$$getCRSInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCRSInternal_1 = v; return CLS.fld_$$fn$$getCRSInternal_1; };
    m = c.get__Lnet_java_html_leaflet_EPSG3395_2 = function() {
return c._instance();

};
    m.access = 8;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getCRSInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getCRSInternal__Ljava_lang_Object_2 = function() {
return L.CRS.EPSG3395;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_EPSG3395;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).registerCRS__VLjava_lang_String_2Lnet_java_html_leaflet_ICRS_2("EPSG3395", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_EPSG3395fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_EPSG3395', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_EPSG3395fillInstOf });
    net_java_html_leaflet_EPSG3395fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/EPSG3395';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ICRS;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_ICRS = function net_java_html_leaflet_ICRS() {
  var m;
  var CLS = net_java_html_leaflet_ICRS;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_ICRS_jsObj = v; return this.fld_net_java_html_leaflet_ICRS_jsObj; };
  CLS.fld_registeredCRS = null;
  m = c._registeredCRS = function (v) {  if (arguments.length == 1) CLS.fld_registeredCRS = v; return CLS.fld_registeredCRS; };
  CLS.fld_$$fn$$checkEqual_1 = null;
  m = c._$$fn$$checkEqual_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$checkEqual_1 = v; return CLS.fld_$$fn$$checkEqual_1; };
  CLS.fld_$$fn$$latLngToPointInternal_2 = null;
  m = c._$$fn$$latLngToPointInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$latLngToPointInternal_2 = v; return CLS.fld_$$fn$$latLngToPointInternal_2; };
  CLS.fld_$$fn$$pointToLatLngInternal_3 = null;
  m = c._$$fn$$pointToLatLngInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$pointToLatLngInternal_3 = v; return CLS.fld_$$fn$$pointToLatLngInternal_3; };
  CLS.fld_$$fn$$projectInternal_4 = null;
  m = c._$$fn$$projectInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$projectInternal_4 = v; return CLS.fld_$$fn$$projectInternal_4; };
  CLS.fld_$$fn$$scaleInternal_5 = null;
  m = c._$$fn$$scaleInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$scaleInternal_5 = v; return CLS.fld_$$fn$$scaleInternal_5; };
  CLS.fld_$$fn$$getSizeInternal_6 = null;
  m = c._$$fn$$getSizeInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getSizeInternal_6 = v; return CLS.fld_$$fn$$getSizeInternal_6; };
  CLS.fld_$$fn$$getProjectionInternal_7 = null;
  m = c._$$fn$$getProjectionInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getProjectionInternal_7 = v; return CLS.fld_$$fn$$getProjectionInternal_7; };
  CLS.fld_$$fn$$getTransformationInternal_8 = null;
  m = c._$$fn$$getTransformationInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getTransformationInternal_8 = v; return CLS.fld_$$fn$$getTransformationInternal_8; };
  CLS.fld_$$fn$$getCodeInternal_9 = null;
  m = c._$$fn$$getCodeInternal_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCodeInternal_9 = v; return CLS.fld_$$fn$$getCodeInternal_9; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = c.registerCRS__VLjava_lang_String_2Lnet_java_html_leaflet_ICRS_2 = function(lcA0, lcA1) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = invoker.containsKey__ZLjava_lang_Object_2(c._registeredCRS(),lcA0);
if ((stI0) != 0) { gt = 19; break IF; }
var stA0 = invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(c._registeredCRS(),lcA0, lcA1);
    }
    X_19: for (;;) { IF: if (gt <= 19) {
return;

    }
}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.unregisterCRS__VLjava_lang_String_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = invoker.containsKey__ZLjava_lang_Object_2(c._registeredCRS(),lcA0);
if ((stI0) == 0) { gt = 18; break IF; }
var stA0 = invoker.remove__Ljava_lang_Object_2Ljava_lang_Object_2(c._registeredCRS(),lcA0);
    }
    X_18: for (;;) { IF: if (gt <= 18) {
return;

    }
}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.checkEqual__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObjA,jsObjB) {

  jsObjA = vm.java_lang_Class(false).toJS(jsObjA);
  jsObjB = vm.java_lang_Class(false).toJS(jsObjB);return jsObj == jsObjB;
}

    m.access = 10;
    m.cls = CLS;
    m = c.createCRS__Lnet_java_html_leaflet_ICRS_2Ljava_lang_Object_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.values__Ljava_util_Collection_2(c._registeredCRS());
var stA0 = invoker.iterator__Ljava_util_Iterator_2(stA0);
var lcA1 = stA0;
    }
    X_12: for (;;) { IF: if (gt <= 12) {

var stI0 = invoker.hasNext__Z(lcA1);
if ((stI0) == 0) { gt = 47; break IF; }
var stA0 = invoker.next__Ljava_lang_Object_2(lcA1);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_ICRS']) vm.java_lang_Class(false).castEx();
var lcA2 = stA0;
var stA0 = lcA0;var stA1 = lcA2.getJSObj__Ljava_lang_Object_2();
var stI0 = c.checkEqual__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
if ((stI0) == 0) { gt = 44; break IF; }
return lcA2;
    }
    X_44: for (;;) { IF: if (gt <= 44) {
{ gt = 0; continue X_12; }
    }
    X_47: for (;;) { IF: if (gt <= 47) {

return null;

    }
}}}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.getEPSG3857__Lnet_java_html_leaflet_ICRS_2 = function() {
var stA0 = (refs_net_java_html_leaflet_EPSG3857 || (refs_net_java_html_leaflet_EPSG3857 = vm.net_java_html_leaflet_EPSG3857(false))).get__Lnet_java_html_leaflet_EPSG3857_2();
return stA0;

};
c['getEPSG3857__Lnet_java_html_leaflet_ICRS_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.getSimple__Lnet_java_html_leaflet_ICRS_2 = function() {
var stA0 = (refs_net_java_html_leaflet_SimpleCRS || (refs_net_java_html_leaflet_SimpleCRS = vm.net_java_html_leaflet_SimpleCRS(false))).get__Lnet_java_html_leaflet_SimpleCRS_2();
return stA0;

};
c['getSimple__Lnet_java_html_leaflet_ICRS_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.getEPSG3395__Lnet_java_html_leaflet_ICRS_2 = function() {
var stA0 = (refs_net_java_html_leaflet_EPSG3395 || (refs_net_java_html_leaflet_EPSG3395 = vm.net_java_html_leaflet_EPSG3395(false))).get__Lnet_java_html_leaflet_EPSG3395_2();
return stA0;

};
c['getEPSG3395__Lnet_java_html_leaflet_ICRS_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.getEPSG4326__Lnet_java_html_leaflet_ICRS_2 = function() {
var stA0 = (refs_net_java_html_leaflet_EPSG4326 || (refs_net_java_html_leaflet_EPSG4326 = vm.net_java_html_leaflet_EPSG4326(false))).get__Lnet_java_html_leaflet_EPSG4326_2();
return stA0;

};
c['getEPSG4326__Lnet_java_html_leaflet_ICRS_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.latLngToPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.latLngToPointInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I(stA2, stA3, lcI2);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['latLngToPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.pointToLatLng__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.pointToLatLngInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I(stA2, stA3, lcI2);
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['pointToLatLng__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.projectInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.scale__DI = function(lcI1) {
  var  lcA0 = this;
var stD0 = c.scaleInternal__DLjava_lang_Object_2I(c._jsObj.call(lcA0), lcI1);
return stD0;

};
c['scale__DI'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSize__Lnet_java_html_leaflet_Point_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stD2 = c.getSizeInternal__DLjava_lang_Object_2I(c._jsObj.call(lcA0), lcI1);
var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](stD2);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getSize__Lnet_java_html_leaflet_Point_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.latLngToPointInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I = function(jsObj,latlng,zoom) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);
  zoom = vm.java_lang_Class(false).toJS(zoom);return jsObj.latLngToPoint(latlng, zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.pointToLatLngInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I = function(jsObj,point,zoom) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);
  zoom = vm.java_lang_Class(false).toJS(zoom);return jsObj.pointToLatLng(point, zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.projectInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);return jsObj.project(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.scaleInternal__DLjava_lang_Object_2I = function(jsObj,zoom) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  zoom = vm.java_lang_Class(false).toJS(zoom);return jsObj.project(zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getSizeInternal__DLjava_lang_Object_2I = function(jsObj,zoom) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  zoom = vm.java_lang_Class(false).toJS(zoom);return jsObj.getSize(zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getProjection__Lnet_java_html_leaflet_IProjection_2 = function() {
  var  lcA0 = this;
var stA0 = c.getProjectionInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
var stA0 = (refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).createProjection__Lnet_java_html_leaflet_IProjection_2Ljava_lang_Object_2(stA0);
return stA0;

};
c['getProjection__Lnet_java_html_leaflet_IProjection_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getTransformation__Lnet_java_html_leaflet_Transformation_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Transformation;
var stA1 = stA0;var stA2 = c.getTransformationInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Transformation || (refs_net_java_html_leaflet_Transformation = vm.net_java_html_leaflet_Transformation(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getTransformation__Lnet_java_html_leaflet_Transformation_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getCode__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = c.getCodeInternal__Ljava_lang_String_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
return stA0;

};
c['getCode__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getProjectionInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.projection;
}

    m.access = 10;
    m.cls = CLS;
    m = c.getTransformationInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.transformation;
}

    m.access = 10;
    m.cls = CLS;
    m = c.getCodeInternal__Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.code;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = new vm.java_util_HashMap;
(refs_java_util_HashMap || (refs_java_util_HashMap = vm.java_util_HashMap(false))).constructor['cons__V'].call(stA0);
c._registeredCRS(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ICRSfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ICRS', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ICRSfillInstOf });
    net_java_html_leaflet_ICRSfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ICRS';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 1057;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_EPSG3857;
    var refs_net_java_html_leaflet_SimpleCRS;
    var refs_net_java_html_leaflet_EPSG3395;
    var refs_net_java_html_leaflet_EPSG4326;
    var refs_net_java_html_leaflet_Point;
    var refs_net_java_html_leaflet_LatLng;
    var refs_java_lang_Double;
    var refs_net_java_html_leaflet_IProjection;
    var refs_net_java_html_leaflet_Transformation;
    var refs_net_java_html_leaflet_Options;
    var refs_java_util_HashMap;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_ICRS_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_ICRS'] = vm.net_java_html_leaflet_ICRS;


vm.net_java_html_leaflet_Transformation = function net_java_html_leaflet_Transformation() {
  var m;
  var CLS = net_java_html_leaflet_Transformation;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_Transformation_jsObj = v; return this.fld_net_java_html_leaflet_Transformation_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$transform1Internal_2 = null;
  m = c._$$fn$$transform1Internal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$transform1Internal_2 = v; return CLS.fld_$$fn$$transform1Internal_2; };
  CLS.fld_$$fn$$transform2Internal_3 = null;
  m = c._$$fn$$transform2Internal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$transform2Internal_3 = v; return CLS.fld_$$fn$$transform2Internal_3; };
  CLS.fld_$$fn$$untransform1Internal_4 = null;
  m = c._$$fn$$untransform1Internal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$untransform1Internal_4 = v; return CLS.fld_$$fn$$untransform1Internal_4; };
  CLS.fld_$$fn$$untransform2Internal_5 = null;
  m = c._$$fn$$untransform2Internal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$untransform2Internal_5 = v; return CLS.fld_$$fn$$untransform2Internal_5; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VDDDD = function(lcD1, lcD3, lcD5, lcD7) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = c.create__Ljava_lang_Object_2DDDD(lcD1, lcD3, lcD5, lcD7);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VDDDD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.transform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.transform1Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['transform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.transform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2D = function(lcA1, lcD2) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.transform2Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2D(stA2, stA3, lcD2);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['transform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.untransform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.untransform1Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['untransform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.untransform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2D = function(lcA1, lcD2) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.untransform2Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2D(stA2, stA3, lcD2);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['untransform__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2DDDD = function(a,b,c,d) {

  a = vm.java_lang_Class(false).toJS(a);
  b = vm.java_lang_Class(false).toJS(b);
  c = vm.java_lang_Class(false).toJS(c);
  d = vm.java_lang_Class(false).toJS(d);return new L.Transformation(a, b, c, d);
}

    m.access = 10;
    m.cls = CLS;
    m = c.transform1Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,point) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);return jsObj.transform(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.transform2Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2D = function(jsObj,point,scale) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);
  scale = vm.java_lang_Class(false).toJS(scale);return jsObj.transform(point, scale);
}

    m.access = 10;
    m.cls = CLS;
    m = c.untransform1Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,point) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);return jsObj.untransform(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.untransform2Internal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2D = function(jsObj,point,scale) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);
  scale = vm.java_lang_Class(false).toJS(scale);return jsObj.untransform(point, scale);
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TransformationfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Transformation', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TransformationfillInstOf });
    net_java_html_leaflet_TransformationfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Transformation';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Point;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_Transformation_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Transformation'] = vm.net_java_html_leaflet_Transformation;


vm.net_java_html_leaflet_IProjection = function net_java_html_leaflet_IProjection() {
  var m;
  var CLS = net_java_html_leaflet_IProjection;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_IProjection_jsObj = v; return this.fld_net_java_html_leaflet_IProjection_jsObj; };
  CLS.fld_registeredProjections = null;
  m = c._registeredProjections = function (v) {  if (arguments.length == 1) CLS.fld_registeredProjections = v; return CLS.fld_registeredProjections; };
  CLS.fld_$$fn$$checkEqual_1 = null;
  m = c._$$fn$$checkEqual_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$checkEqual_1 = v; return CLS.fld_$$fn$$checkEqual_1; };
  CLS.fld_$$fn$$projectInternal_2 = null;
  m = c._$$fn$$projectInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$projectInternal_2 = v; return CLS.fld_$$fn$$projectInternal_2; };
  CLS.fld_$$fn$$unprojectInternal_3 = null;
  m = c._$$fn$$unprojectInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$unprojectInternal_3 = v; return CLS.fld_$$fn$$unprojectInternal_3; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = c.registerProjection__VLjava_lang_String_2Lnet_java_html_leaflet_IProjection_2 = function(lcA0, lcA1) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stI0 = invoker.containsKey__ZLjava_lang_Object_2(c._registeredProjections(),lcA0);
if ((stI0) != 0) { gt = 19; break IF; }
var stA0 = invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(c._registeredProjections(),lcA0, lcA1);
    }
    X_19: for (;;) { IF: if (gt <= 19) {
return;

    }
}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.unregisterProjection__VLjava_lang_String_2 = function(lcA0) {
var stA0 = invoker.remove__Ljava_lang_Object_2Ljava_lang_Object_2(c._registeredProjections(),lcA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    m = c.checkEqual__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObjA,jsObjB) {

  jsObjA = vm.java_lang_Class(false).toJS(jsObjA);
  jsObjB = vm.java_lang_Class(false).toJS(jsObjB);return jsObj == jsObjB;
}

    m.access = 10;
    m.cls = CLS;
    m = c.createProjection__Lnet_java_html_leaflet_IProjection_2Ljava_lang_Object_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = invoker.values__Ljava_util_Collection_2(c._registeredProjections());
var stA0 = invoker.iterator__Ljava_util_Iterator_2(stA0);
var lcA1 = stA0;
    }
    X_12: for (;;) { IF: if (gt <= 12) {

var stI0 = invoker.hasNext__Z(lcA1);
if ((stI0) == 0) { gt = 47; break IF; }
var stA0 = invoker.next__Ljava_lang_Object_2(lcA1);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_IProjection']) vm.java_lang_Class(false).castEx();
var lcA2 = stA0;
var stA0 = lcA0;var stA1 = lcA2.getJSObj__Ljava_lang_Object_2();
var stI0 = c.checkEqual__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
if ((stI0) == 0) { gt = 44; break IF; }
return lcA2;
    }
    X_44: for (;;) { IF: if (gt <= 44) {
{ gt = 0; continue X_12; }
    }
    X_47: for (;;) { IF: if (gt <= 47) {

return null;

    }
}}}}
};
    m.access = 8;
    m.cls = CLS;
    m = c.project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.projectInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unproject__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c._jsObj.call(lcA0);var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.unprojectInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['unproject__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.projectInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);return jsObj.project(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.unprojectInternal__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,point) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  point = vm.java_lang_Class(false).toJS(point);return jsObj.unproject(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = new vm.java_util_HashMap;
(refs_java_util_HashMap || (refs_java_util_HashMap = vm.java_util_HashMap(false))).constructor['cons__V'].call(stA0);
c._registeredProjections(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_IProjectionfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_IProjection', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_IProjectionfillInstOf });
    net_java_html_leaflet_IProjectionfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/IProjection';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 1057;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Point;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
    var refs_java_util_HashMap;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_IProjection_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_IProjection'] = vm.net_java_html_leaflet_IProjection;


vm.net_java_html_leaflet_EPSG4326 = function net_java_html_leaflet_EPSG4326() {
  var m;
  var CLS = net_java_html_leaflet_EPSG4326;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ICRS(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getCRSInternal_1 = null;
  m = c._$$fn$$getCRSInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCRSInternal_1 = v; return CLS.fld_$$fn$$getCRSInternal_1; };
    m = c.get__Lnet_java_html_leaflet_EPSG4326_2 = function() {
return c._instance();

};
    m.access = 8;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getCRSInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getCRSInternal__Ljava_lang_Object_2 = function() {
return L.CRS.EPSG4326;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_EPSG4326;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).registerCRS__VLjava_lang_String_2Lnet_java_html_leaflet_ICRS_2("EPSG4326", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_EPSG4326fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_EPSG4326', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_EPSG4326fillInstOf });
    net_java_html_leaflet_EPSG4326fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/EPSG4326';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ICRS;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_SimpleCRS = function net_java_html_leaflet_SimpleCRS() {
  var m;
  var CLS = net_java_html_leaflet_SimpleCRS;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ICRS(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getCRSInternal_1 = null;
  m = c._$$fn$$getCRSInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCRSInternal_1 = v; return CLS.fld_$$fn$$getCRSInternal_1; };
    m = c.get__Lnet_java_html_leaflet_SimpleCRS_2 = function() {
return c._instance();

};
    m.access = 8;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getCRSInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getCRSInternal__Ljava_lang_Object_2 = function() {
return L.CRS.Simple;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_SimpleCRS;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).registerCRS__VLjava_lang_String_2Lnet_java_html_leaflet_ICRS_2("SimpleCRS", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_SimpleCRSfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_SimpleCRS', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_SimpleCRSfillInstOf });
    net_java_html_leaflet_SimpleCRSfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/SimpleCRS';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ICRS;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_EPSG3857 = function net_java_html_leaflet_EPSG3857() {
  var m;
  var CLS = net_java_html_leaflet_EPSG3857;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ICRS(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getCRSInternal_1 = null;
  m = c._$$fn$$getCRSInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCRSInternal_1 = v; return CLS.fld_$$fn$$getCRSInternal_1; };
    m = c.get__Lnet_java_html_leaflet_EPSG3857_2 = function() {
return c._instance();

};
    m.access = 8;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getCRSInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getCRSInternal__Ljava_lang_Object_2 = function() {
return L.CRS.EPSG3857;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_EPSG3857;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_ICRS || (refs_net_java_html_leaflet_ICRS = vm.net_java_html_leaflet_ICRS(false))).registerCRS__VLjava_lang_String_2Lnet_java_html_leaflet_ICRS_2("EPSG3857", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_EPSG3857fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_EPSG3857', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_EPSG3857fillInstOf });
    net_java_html_leaflet_EPSG3857fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/EPSG3857';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ICRS;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_FeatureGroup$1 = function net_java_html_leaflet_FeatureGroup$1() {
  var m;
  var CLS = net_java_html_leaflet_FeatureGroup$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_FeatureGroup;
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_FeatureGroup$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_FeatureGroup$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_FeatureGroup$1fillInstOf });
    net_java_html_leaflet_FeatureGroup$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/FeatureGroup$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_FeatureGroup;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_FeatureGroup = function net_java_html_leaflet_FeatureGroup() {
  var m;
  var CLS = net_java_html_leaflet_FeatureGroup;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_LayerGroup(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$bindPopupInternal_2 = null;
  m = c._$$fn$$bindPopupInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopupInternal_2 = v; return CLS.fld_$$fn$$bindPopupInternal_2; };
  CLS.fld_$$fn$$setStyleInternal_3 = null;
  m = c._$$fn$$setStyleInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setStyleInternal_3 = v; return CLS.fld_$$fn$$setStyleInternal_3; };
  CLS.fld_$$fn$$getBoundsInternal_4 = null;
  m = c._$$fn$$getBoundsInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getBoundsInternal_4 = v; return CLS.fld_$$fn$$getBoundsInternal_4; };
  CLS.fld_$$fn$$bringToFrontInternal_5 = null;
  m = c._$$fn$$bringToFrontInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bringToFrontInternal_5 = v; return CLS.fld_$$fn$$bringToFrontInternal_5; };
  CLS.fld_$$fn$$bringToBackInternal_6 = null;
  m = c._$$fn$$bringToBackInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bringToBackInternal_6 = v; return CLS.fld_$$fn$$bringToBackInternal_6; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_ILayer_2(lcA1);
(refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_ILayer_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA1).length)) { gt = 29; break IF; }
var stA0 = lcA1;var stI1 = lcI2;var stA2 = Array.at(lcA0, lcI2).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

var stA0 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2(lcA0);
return stA0;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(layers) {

  layers = vm.java_lang_Class(false).toJS(layers);return L.featureGroup(layers);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addMouseListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addMouseListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addMouseListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayerListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addLayerListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addLayerListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeMouseListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeMouseListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayerListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeLayerListener__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearAllEventListeners__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).clearAllEventListeners__VLjava_lang_Object_2(stA0);
return lcA0;

};
c['clearAllEventListeners__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_PopupOptions;
(refs_net_java_html_leaflet_PopupOptions || (refs_net_java_html_leaflet_PopupOptions = vm.net_java_html_leaflet_PopupOptions(false))).constructor.cons__V.call(stA2);
var stA2 = stA2.getJSObj__Ljava_lang_Object_2();
c.bindPopupInternal__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
c.bindPopupInternal__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setStyleInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getBounds__Lnet_java_html_leaflet_LatLngBounds_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLngBounds;
var stA1 = stA0;var stA2 = c.getBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLngBounds || (refs_net_java_html_leaflet_LatLngBounds = vm.net_java_html_leaflet_LatLngBounds(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getBounds__Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
c.bringToFrontInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
c.bringToBackInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopupInternal__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj,html,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  html = vm.java_lang_Class(false).toJS(html);
  options = vm.java_lang_Class(false).toJS(options);jsObj.bindPopup(html, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setStyleInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  options = vm.java_lang_Class(false).toJS(options);jsObj.setStyle(options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getBounds();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bringToFrontInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.bringToFront();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bringToBackInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.bringToBack();
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2.call(lcA0, lcA1);
return lcA0;

};
c['addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2.call(lcA0, lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).clearLayers__Lnet_java_html_leaflet_LayerGroup_2.call(lcA0);
return lcA0;

};
c['clearLayers__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_LayerGroup_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.clearLayers__Lnet_java_html_leaflet_FeatureGroup_2(lcA0);
return stA0;

};
c['clearLayers__Lnet_java_html_leaflet_LayerGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2(lcA0,lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2(lcA0,lcA1);
return stA0;

};
c['addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.FeatureGroup";var stA1 = new vm.net_java_html_leaflet_FeatureGroup$1;
(refs_net_java_html_leaflet_FeatureGroup$1 || (refs_net_java_html_leaflet_FeatureGroup$1 = vm.net_java_html_leaflet_FeatureGroup$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_FeatureGroupfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_FeatureGroup', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_FeatureGroupfillInstOf });
    net_java_html_leaflet_FeatureGroupfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/FeatureGroup';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_LayerGroup;
    var refs_net_java_html_leaflet_EventMethodsHelper;
    var refs_net_java_html_leaflet_PopupOptions;
    var refs_net_java_html_leaflet_LatLngBounds;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_FeatureGroup$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_FeatureGroup'] = vm.net_java_html_leaflet_FeatureGroup;


vm.net_java_html_leaflet_PopupOptions = function net_java_html_leaflet_PopupOptions() {
  var m;
  var CLS = net_java_html_leaflet_PopupOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_PopupOptions_options = v; return this.fld_net_java_html_leaflet_PopupOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxWidth__Lnet_java_html_leaflet_PopupOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxWidth";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxWidth__Lnet_java_html_leaflet_PopupOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMinWidth__Lnet_java_html_leaflet_PopupOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "minWidth";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMinWidth__Lnet_java_html_leaflet_PopupOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxHeight__Lnet_java_html_leaflet_PopupOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxHeight";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxHeight__Lnet_java_html_leaflet_PopupOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAutoPan__Lnet_java_html_leaflet_PopupOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "autoPan";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAutoPan__Lnet_java_html_leaflet_PopupOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setKeepInView__Lnet_java_html_leaflet_PopupOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "keepInView";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setKeepInView__Lnet_java_html_leaflet_PopupOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setCloseButton__Lnet_java_html_leaflet_PopupOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "closeButton";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setCloseButton__Lnet_java_html_leaflet_PopupOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOffset__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "offset";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setOffset__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAutoPanPaddingTopLeft__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "autoPanPaddingTopLeft";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAutoPanPaddingTopLeft__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAutoPanPaddingBottomRight__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "autoPanPaddingBottomRight";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAutoPanPaddingBottomRight__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAutoPanPadding__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "autoPanPadding";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAutoPanPadding__Lnet_java_html_leaflet_PopupOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomAnimation__Lnet_java_html_leaflet_PopupOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomAnimation";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomAnimation__Lnet_java_html_leaflet_PopupOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setCloseOnClick__Lnet_java_html_leaflet_PopupOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "closeOnClick";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setCloseOnClick__Lnet_java_html_leaflet_PopupOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClassName__Lnet_java_html_leaflet_PopupOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("className", lcA1);
return lcA0;

};
c['setClassName__Lnet_java_html_leaflet_PopupOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PopupOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_PopupOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PopupOptionsfillInstOf });
    net_java_html_leaflet_PopupOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/PopupOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Integer;
    var refs_java_lang_Boolean;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_PopupOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_PopupOptions'] = vm.net_java_html_leaflet_PopupOptions;


vm.net_java_html_leaflet_LayerGroup = function net_java_html_leaflet_LayerGroup() {
  var m;
  var CLS = net_java_html_leaflet_LayerGroup;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$addToInternal_2 = null;
  m = c._$$fn$$addToInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addToInternal_2 = v; return CLS.fld_$$fn$$addToInternal_2; };
  CLS.fld_$$fn$$addLayerInternal_3 = null;
  m = c._$$fn$$addLayerInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addLayerInternal_3 = v; return CLS.fld_$$fn$$addLayerInternal_3; };
  CLS.fld_$$fn$$removeLayerInternal_4 = null;
  m = c._$$fn$$removeLayerInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$removeLayerInternal_4 = v; return CLS.fld_$$fn$$removeLayerInternal_4; };
  CLS.fld_$$fn$$removeLayerByIdInternal_5 = null;
  m = c._$$fn$$removeLayerByIdInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$removeLayerByIdInternal_5 = v; return CLS.fld_$$fn$$removeLayerByIdInternal_5; };
  CLS.fld_$$fn$$hasLayerInternal_6 = null;
  m = c._$$fn$$hasLayerInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$hasLayerInternal_6 = v; return CLS.fld_$$fn$$hasLayerInternal_6; };
  CLS.fld_$$fn$$getLayersInternal_7 = null;
  m = c._$$fn$$getLayersInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLayersInternal_7 = v; return CLS.fld_$$fn$$getLayersInternal_7; };
  CLS.fld_$$fn$$clearLayersInternal_8 = null;
  m = c._$$fn$$clearLayersInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$clearLayersInternal_8 = v; return CLS.fld_$$fn$$clearLayersInternal_8; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_ILayer_2(lcA1);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_ILayer_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA1).length)) { gt = 29; break IF; }
var stA0 = lcA1;var stI1 = lcI2;var stA2 = Array.at(lcA0, lcI2).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

var stA0 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2(lcA0);
return stA0;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(layers) {

  layers = vm.java_lang_Class(false).toJS(layers);return L.layerGroup(layers);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.removeLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.removeLayerByIdInternal__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.hasLayer__ZLnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.hasLayerInternal__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['hasLayer__ZLnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLayers___3Lnet_java_html_leaflet_ILayer_2 = function() {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = c.getLayersInternal___3Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
var lcA1 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/ILayer;', vm.net_java_html_leaflet_ILayer, (lcA1).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_16: for (;;) { IF: if (gt <= 16) {

if ((lcI3) >= ((lcA2).length)) { gt = 37; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = (refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).createLayer__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(Array.at(lcA1, lcI3));
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_16; }
    }
    X_37: for (;;) { IF: if (gt <= 37) {

return lcA2;

    }
}}}
};
c['getLayers___3Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_LayerGroup_2 = function() {
  var  lcA0 = this;
c.clearLayersInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['clearLayers__Lnet_java_html_leaflet_LayerGroup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,map) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  map = vm.java_lang_Class(false).toJS(map);jsObj.addTo(map);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,layer) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layer = vm.java_lang_Class(false).toJS(layer);jsObj.addLayer(layer);
}

    m.access = 10;
    m.cls = CLS;
    m = c.removeLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,layer) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layer = vm.java_lang_Class(false).toJS(layer);jsObj.removeLayer(layer);
}

    m.access = 10;
    m.cls = CLS;
    m = c.removeLayerByIdInternal__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,layerId) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layerId = vm.java_lang_Class(false).toJS(layerId);jsObj.removeLayer(layerId);
}

    m.access = 10;
    m.cls = CLS;
    m = c.hasLayerInternal__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,layer) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layer = vm.java_lang_Class(false).toJS(layer);return jsObj.hasLayer(layer);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLayersInternal___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLayers();
}

    m.access = 10;
    m.cls = CLS;
    m = c.clearLayersInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.clearLayers();
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.LayerGroup";var stA1 = new vm.net_java_html_leaflet_LayerGroup$1;
(refs_net_java_html_leaflet_LayerGroup$1 || (refs_net_java_html_leaflet_LayerGroup$1 = vm.net_java_html_leaflet_LayerGroup$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_LayerGroupfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_LayerGroup', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_LayerGroupfillInstOf });
    net_java_html_leaflet_LayerGroupfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/LayerGroup';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_LayerGroup$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_LayerGroup'] = vm.net_java_html_leaflet_LayerGroup;


vm.net_java_html_leaflet_LayerGroup$1 = function net_java_html_leaflet_LayerGroup$1() {
  var m;
  var CLS = net_java_html_leaflet_LayerGroup$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LayerGroup;
(refs_net_java_html_leaflet_LayerGroup || (refs_net_java_html_leaflet_LayerGroup = vm.net_java_html_leaflet_LayerGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_LayerGroup$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_LayerGroup$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_LayerGroup$1fillInstOf });
    net_java_html_leaflet_LayerGroup$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/LayerGroup$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_LayerGroup;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_Icon = function net_java_html_leaflet_Icon() {
  var m;
  var CLS = net_java_html_leaflet_Icon;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_Icon_jsObj = v; return this.fld_net_java_html_leaflet_Icon_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_IconOptions_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2(stA1);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_IconOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2 = function(options) {

  options = vm.java_lang_Class(false).toJS(options);return L.icon(options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_IconfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Icon', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_IconfillInstOf });
    net_java_html_leaflet_IconfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Icon';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_Icon_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Icon'] = vm.net_java_html_leaflet_Icon;


vm.net_java_html_leaflet_IconOptions = function net_java_html_leaflet_IconOptions() {
  var m;
  var CLS = net_java_html_leaflet_IconOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_IconOptions_options = v; return this.fld_net_java_html_leaflet_IconOptions_options; };
    m = CLS.cons__VLjava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("iconUrl", lcA1);
return;

};
CLS['cons__VLjava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = c.setIconRetinaUrl__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("iconRetinaUrl", lcA1);
return lcA0;

};
c['setIconRetinaUrl__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setIconSize__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "iconSize";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setIconSize__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setIconAnchor__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "iconAnchor";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setIconAnchor__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setShadowUrl__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("shadowUrl", lcA1);
return lcA0;

};
c['setShadowUrl__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setShadowRetinaUrl__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("shadowRetinaUrl", lcA1);
return lcA0;

};
c['setShadowRetinaUrl__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setShadowSize__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "shadowSize";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setShadowSize__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setShadowAnchor__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "shadowAnchor";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setShadowAnchor__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setPopupAnchor__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "popupAnchor";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setPopupAnchor__Lnet_java_html_leaflet_IconOptions_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClassName__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("className", lcA1);
return lcA0;

};
c['setClassName__Lnet_java_html_leaflet_IconOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_IconOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_IconOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_IconOptionsfillInstOf });
    net_java_html_leaflet_IconOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/IconOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_IconOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_IconOptions'] = vm.net_java_html_leaflet_IconOptions;


vm.net_java_html_leaflet_ImageOverlay = function net_java_html_leaflet_ImageOverlay() {
  var m;
  var CLS = net_java_html_leaflet_ImageOverlay;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$addToInternal_2 = null;
  m = c._$$fn$$addToInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addToInternal_2 = v; return CLS.fld_$$fn$$addToInternal_2; };
  CLS.fld_$$fn$$setOpacityInternal_3 = null;
  m = c._$$fn$$setOpacityInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setOpacityInternal_3 = v; return CLS.fld_$$fn$$setOpacityInternal_3; };
  CLS.fld_$$fn$$setUrlInternal_4 = null;
  m = c._$$fn$$setUrlInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setUrlInternal_4 = v; return CLS.fld_$$fn$$setUrlInternal_4; };
  CLS.fld_$$fn$$bringToFrontInternal_5 = null;
  m = c._$$fn$$bringToFrontInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bringToFrontInternal_5 = v; return CLS.fld_$$fn$$bringToFrontInternal_5; };
  CLS.fld_$$fn$$bringToBackInternal_6 = null;
  m = c._$$fn$$bringToBackInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bringToBackInternal_6 = v; return CLS.fld_$$fn$$bringToBackInternal_6; };
  CLS.fld_$$fn$$bindPopup1sInternal_7 = null;
  m = c._$$fn$$bindPopup1sInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup1sInternal_7 = v; return CLS.fld_$$fn$$bindPopup1sInternal_7; };
  CLS.fld_$$fn$$bindPopup1pInternal_8 = null;
  m = c._$$fn$$bindPopup1pInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup1pInternal_8 = v; return CLS.fld_$$fn$$bindPopup1pInternal_8; };
  CLS.fld_$$fn$$bindPopup2Internal_9 = null;
  m = c._$$fn$$bindPopup2Internal_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup2Internal_9 = v; return CLS.fld_$$fn$$bindPopup2Internal_9; };
  CLS.fld_$$fn$$unbindPopupInternal_10 = null;
  m = c._$$fn$$unbindPopupInternal_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$unbindPopupInternal_10 = v; return CLS.fld_$$fn$$unbindPopupInternal_10; };
  CLS.fld_$$fn$$openPopupInternal_11 = null;
  m = c._$$fn$$openPopupInternal_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopupInternal_11 = v; return CLS.fld_$$fn$$openPopupInternal_11; };
  CLS.fld_$$fn$$closePopupInternal_12 = null;
  m = c._$$fn$$closePopupInternal_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$closePopupInternal_12 = v; return CLS.fld_$$fn$$closePopupInternal_12; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2Lnet_java_html_leaflet_LatLngBounds_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA3 = new vm.net_java_html_leaflet_ImageOverlayOptions;
(refs_net_java_html_leaflet_ImageOverlayOptions || (refs_net_java_html_leaflet_ImageOverlayOptions = vm.net_java_html_leaflet_ImageOverlayOptions(false))).constructor.cons__V.call(stA3);
var stA3 = stA3.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2, stA3);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLjava_lang_String_2Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2Lnet_java_html_leaflet_LatLngBounds_2Lnet_java_html_leaflet_ImageOverlayOptions_2 = function(lcA1, lcA2, lcA3) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA3.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2, stA3);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLjava_lang_String_2Lnet_java_html_leaflet_LatLngBounds_2Lnet_java_html_leaflet_ImageOverlayOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(imageUrl,bounds,options) {

  imageUrl = vm.java_lang_Class(false).toJS(imageUrl);
  bounds = vm.java_lang_Class(false).toJS(bounds);
  options = vm.java_lang_Class(false).toJS(options);return L.tileLayer(imageUrl, bounds, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_ImageOverlay_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_ImageOverlay_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOpacity__Lnet_java_html_leaflet_ImageOverlay_2D = function(lcD1) {
  var  lcA0 = this;
c.setOpacityInternal__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return lcA0;

};
c['setOpacity__Lnet_java_html_leaflet_ImageOverlay_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setUrl__Lnet_java_html_leaflet_ImageOverlay_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.setUrlInternal__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['setUrl__Lnet_java_html_leaflet_ImageOverlay_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_ImageOverlay_2 = function() {
  var  lcA0 = this;
c.bringToFrontInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_ImageOverlay_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_ImageOverlay_2 = function() {
  var  lcA0 = this;
c.bringToBackInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_ImageOverlay_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,map) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  map = vm.java_lang_Class(false).toJS(map);jsObj.addTo(map);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setOpacityInternal__VLjava_lang_Object_2D = function(jsObj,opacity) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  opacity = vm.java_lang_Class(false).toJS(opacity);jsObj.setOpacity(opacity);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setUrlInternal__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,imageUrl) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  imageUrl = vm.java_lang_Class(false).toJS(imageUrl);jsObj.setUrl(imageUrl);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bringToFrontInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.bringToFront();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bringToBackInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.bringToBack();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_ImageOverlay_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.bindPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_ImageOverlay_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_ImageOverlay_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.bindPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_ImageOverlay_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_ImageOverlay_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
c.bindPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_ImageOverlay_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_ImageOverlay_2 = function() {
  var  lcA0 = this;
c.unbindPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_ImageOverlay_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_ImageOverlay_2 = function() {
  var  lcA0 = this;
c.openPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_ImageOverlay_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_ImageOverlay_2 = function() {
  var  lcA0 = this;
c.closePopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_ImageOverlay_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,html) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  html = vm.java_lang_Class(false).toJS(html);jsObj.bindPopup(html);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);jsObj.bindPopup(popup);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);
  options = vm.java_lang_Class(false).toJS(options);jsObj.bindPopup(popup, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.unbindPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.unbindPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.openPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.closePopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.closePopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ImageOverlayfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ImageOverlay', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ImageOverlayfillInstOf });
    net_java_html_leaflet_ImageOverlayfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ImageOverlay';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_ImageOverlayOptions;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_ImageOverlay'] = vm.net_java_html_leaflet_ImageOverlay;


vm.net_java_html_leaflet_ImageOverlayOptions = function net_java_html_leaflet_ImageOverlayOptions() {
  var m;
  var CLS = net_java_html_leaflet_ImageOverlayOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_ImageOverlayOptions_options = v; return this.fld_net_java_html_leaflet_ImageOverlayOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOpacity__Lnet_java_html_leaflet_ImageOverlayOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "opacity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setOpacity__Lnet_java_html_leaflet_ImageOverlayOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAttribution__Lnet_java_html_leaflet_ImageOverlayOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("attribution", lcA1);
return lcA0;

};
c['setAttribution__Lnet_java_html_leaflet_ImageOverlayOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ImageOverlayOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ImageOverlayOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ImageOverlayOptionsfillInstOf });
    net_java_html_leaflet_ImageOverlayOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ImageOverlayOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Double;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_ImageOverlayOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_ImageOverlayOptions'] = vm.net_java_html_leaflet_ImageOverlayOptions;


vm.net_java_html_leaflet_LonLatProjection = function net_java_html_leaflet_LonLatProjection() {
  var m;
  var CLS = net_java_html_leaflet_LonLatProjection;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_IProjection(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getProjectionInternal_1 = null;
  m = c._$$fn$$getProjectionInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getProjectionInternal_1 = v; return CLS.fld_$$fn$$getProjectionInternal_1; };
    m = c.get__Lnet_java_html_leaflet_LonLatProjection_2 = function() {
  var  lcA0 = this;
return c._instance();

};
c['get__Lnet_java_html_leaflet_LonLatProjection_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getProjectionInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getProjectionInternal__Ljava_lang_Object_2 = function() {
return L.Projection.LonLat;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_LonLatProjection;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).registerProjection__VLjava_lang_String_2Lnet_java_html_leaflet_IProjection_2("LonLatProjection", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_LonLatProjectionfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_LonLatProjection', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_LonLatProjectionfillInstOf });
    net_java_html_leaflet_LonLatProjectionfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/LonLatProjection';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_IProjection;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_LonLatProjection'] = vm.net_java_html_leaflet_LonLatProjection;


vm.net_java_html_leaflet_Map = function net_java_html_leaflet_Map() {
  var m;
  var CLS = net_java_html_leaflet_Map;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._jsObj = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_Map_jsObj = v; return this.fld_net_java_html_leaflet_Map_jsObj; };
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$setView1_2 = null;
  m = c._$$fn$$setView1_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setView1_2 = v; return CLS.fld_$$fn$$setView1_2; };
  CLS.fld_$$fn$$setView2_3 = null;
  m = c._$$fn$$setView2_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setView2_3 = v; return CLS.fld_$$fn$$setView2_3; };
  CLS.fld_$$fn$$setView3_4 = null;
  m = c._$$fn$$setView3_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setView3_4 = v; return CLS.fld_$$fn$$setView3_4; };
  CLS.fld_$$fn$$addLayerInternal_5 = null;
  m = c._$$fn$$addLayerInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addLayerInternal_5 = v; return CLS.fld_$$fn$$addLayerInternal_5; };
  CLS.fld_$$fn$$removeLayerInternal_6 = null;
  m = c._$$fn$$removeLayerInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$removeLayerInternal_6 = v; return CLS.fld_$$fn$$removeLayerInternal_6; };
  CLS.fld_$$fn$$hasLayerInternal_7 = null;
  m = c._$$fn$$hasLayerInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$hasLayerInternal_7 = v; return CLS.fld_$$fn$$hasLayerInternal_7; };
  CLS.fld_$$fn$$eachLayerInternal_8 = null;
  m = c._$$fn$$eachLayerInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$eachLayerInternal_8 = v; return CLS.fld_$$fn$$eachLayerInternal_8; };
  CLS.fld_$$fn$$openPopup1sInternal_9 = null;
  m = c._$$fn$$openPopup1sInternal_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopup1sInternal_9 = v; return CLS.fld_$$fn$$openPopup1sInternal_9; };
  CLS.fld_$$fn$$openPopup1pInternal_10 = null;
  m = c._$$fn$$openPopup1pInternal_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopup1pInternal_10 = v; return CLS.fld_$$fn$$openPopup1pInternal_10; };
  CLS.fld_$$fn$$openPopup2Internal_11 = null;
  m = c._$$fn$$openPopup2Internal_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopup2Internal_11 = v; return CLS.fld_$$fn$$openPopup2Internal_11; };
  CLS.fld_$$fn$$closePopup0Internal_12 = null;
  m = c._$$fn$$closePopup0Internal_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$closePopup0Internal_12 = v; return CLS.fld_$$fn$$closePopup0Internal_12; };
  CLS.fld_$$fn$$closePopup1Internal_13 = null;
  m = c._$$fn$$closePopup1Internal_13 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$closePopup1Internal_13 = v; return CLS.fld_$$fn$$closePopup1Internal_13; };
  CLS.fld_$$fn$$getCenterInternal_14 = null;
  m = c._$$fn$$getCenterInternal_14 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getCenterInternal_14 = v; return CLS.fld_$$fn$$getCenterInternal_14; };
  CLS.fld_$$fn$$getZoomInternal_15 = null;
  m = c._$$fn$$getZoomInternal_15 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getZoomInternal_15 = v; return CLS.fld_$$fn$$getZoomInternal_15; };
  CLS.fld_$$fn$$getMinZoomInternal_16 = null;
  m = c._$$fn$$getMinZoomInternal_16 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getMinZoomInternal_16 = v; return CLS.fld_$$fn$$getMinZoomInternal_16; };
  CLS.fld_$$fn$$getMaxZoomInternal_17 = null;
  m = c._$$fn$$getMaxZoomInternal_17 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getMaxZoomInternal_17 = v; return CLS.fld_$$fn$$getMaxZoomInternal_17; };
  CLS.fld_$$fn$$getBoundsInternal_18 = null;
  m = c._$$fn$$getBoundsInternal_18 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getBoundsInternal_18 = v; return CLS.fld_$$fn$$getBoundsInternal_18; };
  CLS.fld_$$fn$$getBoundsZoom1Internal_19 = null;
  m = c._$$fn$$getBoundsZoom1Internal_19 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getBoundsZoom1Internal_19 = v; return CLS.fld_$$fn$$getBoundsZoom1Internal_19; };
  CLS.fld_$$fn$$getBoundsZoom2Internal_20 = null;
  m = c._$$fn$$getBoundsZoom2Internal_20 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getBoundsZoom2Internal_20 = v; return CLS.fld_$$fn$$getBoundsZoom2Internal_20; };
  CLS.fld_$$fn$$getSizeInternal_21 = null;
  m = c._$$fn$$getSizeInternal_21 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getSizeInternal_21 = v; return CLS.fld_$$fn$$getSizeInternal_21; };
  CLS.fld_$$fn$$getPixelBoundsInternal_22 = null;
  m = c._$$fn$$getPixelBoundsInternal_22 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getPixelBoundsInternal_22 = v; return CLS.fld_$$fn$$getPixelBoundsInternal_22; };
  CLS.fld_$$fn$$getPixelOriginInternal_23 = null;
  m = c._$$fn$$getPixelOriginInternal_23 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getPixelOriginInternal_23 = v; return CLS.fld_$$fn$$getPixelOriginInternal_23; };
  CLS.fld_$$fn$$latLngToLayerPoint_24 = null;
  m = c._$$fn$$latLngToLayerPoint_24 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$latLngToLayerPoint_24 = v; return CLS.fld_$$fn$$latLngToLayerPoint_24; };
  CLS.fld_$$fn$$layerPointToLatLng_25 = null;
  m = c._$$fn$$layerPointToLatLng_25 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$layerPointToLatLng_25 = v; return CLS.fld_$$fn$$layerPointToLatLng_25; };
  CLS.fld_$$fn$$containerPointToLayerPoint_26 = null;
  m = c._$$fn$$containerPointToLayerPoint_26 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$containerPointToLayerPoint_26 = v; return CLS.fld_$$fn$$containerPointToLayerPoint_26; };
  CLS.fld_$$fn$$layerPointToContainerPoint_27 = null;
  m = c._$$fn$$layerPointToContainerPoint_27 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$layerPointToContainerPoint_27 = v; return CLS.fld_$$fn$$layerPointToContainerPoint_27; };
  CLS.fld_$$fn$$latLngToContainerPoint_28 = null;
  m = c._$$fn$$latLngToContainerPoint_28 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$latLngToContainerPoint_28 = v; return CLS.fld_$$fn$$latLngToContainerPoint_28; };
  CLS.fld_$$fn$$containerPointToLatLng_29 = null;
  m = c._$$fn$$containerPointToLatLng_29 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$containerPointToLatLng_29 = v; return CLS.fld_$$fn$$containerPointToLatLng_29; };
  CLS.fld_$$fn$$project_30 = null;
  m = c._$$fn$$project_30 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$project_30 = v; return CLS.fld_$$fn$$project_30; };
  CLS.fld_$$fn$$project_31 = null;
  m = c._$$fn$$project_31 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$project_31 = v; return CLS.fld_$$fn$$project_31; };
  CLS.fld_$$fn$$unproject_32 = null;
  m = c._$$fn$$unproject_32 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$unproject_32 = v; return CLS.fld_$$fn$$unproject_32; };
  CLS.fld_$$fn$$unproject_33 = null;
  m = c._$$fn$$unproject_33 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$unproject_33 = v; return CLS.fld_$$fn$$unproject_33; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
return c._jsObj.call(lcA0);

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_MapOptions;
(refs_net_java_html_leaflet_MapOptions || (refs_net_java_html_leaflet_MapOptions = vm.net_java_html_leaflet_MapOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__VLjava_lang_String_2Lnet_java_html_leaflet_MapOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__VLjava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2Lnet_java_html_leaflet_MapOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
c._jsObj.call(stA0, stA1);
return;

};
CLS['cons__VLjava_lang_String_2Lnet_java_html_leaflet_MapOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
c._jsObj.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.setView__VLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setView1__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['setView__VLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setView__VLnet_java_html_leaflet_LatLng_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setView2__VLjava_lang_Object_2Ljava_lang_Object_2I(stA0, stA1, lcI2);
return;

};
c['setView__VLnet_java_html_leaflet_LatLng_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setView__VLnet_java_html_leaflet_LatLng_2ILnet_java_html_leaflet_ZoomPanOptions_2 = function(lcA1, lcI2, lcA3) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI2 = lcI2;var stA3 = lcA3.getJSObj__Ljava_lang_Object_2();
c.setView3__VLjava_lang_Object_2Ljava_lang_Object_2ILjava_lang_Object_2(stA0, stA1, stI2, stA3);
return;

};
c['setView__VLnet_java_html_leaflet_LatLng_2ILnet_java_html_leaflet_ZoomPanOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(id,options) {

  id = vm.java_lang_Class(false).toJS(id);
  options = vm.java_lang_Class(false).toJS(options);return L.map(id, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setView1__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,center) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  center = vm.java_lang_Class(false).toJS(center);jsObj.setView(center);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setView2__VLjava_lang_Object_2Ljava_lang_Object_2I = function(jsObj,center,zoom) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  center = vm.java_lang_Class(false).toJS(center);
  zoom = vm.java_lang_Class(false).toJS(zoom);jsObj.setView(center, zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setView3__VLjava_lang_Object_2Ljava_lang_Object_2ILjava_lang_Object_2 = function(jsObj,center,zoom,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  center = vm.java_lang_Class(false).toJS(center);
  zoom = vm.java_lang_Class(false).toJS(zoom);
  options = vm.java_lang_Class(false).toJS(options);jsObj.setView(center, zoom, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.removeLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.hasLayer__ZLnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.hasLayerInternal__ZLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['hasLayer__ZLnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLayers___3Lnet_java_html_leaflet_ILayer_2 = function() {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = c.eachLayerInternal___3Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
var lcA1 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/ILayer;', vm.net_java_html_leaflet_ILayer, (lcA1).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_16: for (;;) { IF: if (gt <= 16) {

if ((lcI3) >= ((lcA2).length)) { gt = 37; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = (refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).createLayer__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(Array.at(lcA1, lcI3));
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_16; }
    }
    X_37: for (;;) { IF: if (gt <= 37) {

return lcA2;

    }
}}}
};
c['getLayers___3Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,layer) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layer = vm.java_lang_Class(false).toJS(layer);jsObj.addLayer(layer);
}

    m.access = 10;
    m.cls = CLS;
    m = c.removeLayerInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,layer) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layer = vm.java_lang_Class(false).toJS(layer);jsObj.removeLayer(layer);
}

    m.access = 10;
    m.cls = CLS;
    m = c.hasLayerInternal__ZLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,layer) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  layer = vm.java_lang_Class(false).toJS(layer);return jsObj.hasLayer(layer);
}

    m.access = 10;
    m.cls = CLS;
    m = c.eachLayerInternal___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);var arr = []; jsObj.eachLayer(function(layer) {arr.push(layer);}); return arr;
}

    m.access = 10;
    m.cls = CLS;
    m = c.addMouseListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addMouseListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addMouseListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addEventListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addEventListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addEventListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addDragEndListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addDragEndListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addDragEndListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addResizeListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ResizeEvent$Type_2Lnet_java_html_leaflet_event_ResizeListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addResizeListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_ResizeEvent$Type_2Lnet_java_html_leaflet_event_ResizeListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addResizeListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ResizeEvent$Type_2Lnet_java_html_leaflet_event_ResizeListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayerListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addLayerListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addLayerListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLocationListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LocationEvent$Type_2Lnet_java_html_leaflet_event_LocationListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addLocationListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_LocationEvent$Type_2Lnet_java_html_leaflet_event_LocationListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addLocationListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LocationEvent$Type_2Lnet_java_html_leaflet_event_LocationListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addErrorListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ErrorEvent$Type_2Lnet_java_html_leaflet_event_ErrorListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addErrorListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_ErrorEvent$Type_2Lnet_java_html_leaflet_event_ErrorListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addErrorListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ErrorEvent$Type_2Lnet_java_html_leaflet_event_ErrorListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addPopupListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addPopupListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addPopupListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeMouseListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeMouseListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeEventListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeEventListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeDragEndListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeDragEndListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeResizeListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ResizeEvent$Type_2Lnet_java_html_leaflet_event_ResizeListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeResizeListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ResizeEvent$Type_2Lnet_java_html_leaflet_event_ResizeListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayerListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeLayerListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LayerEvent$Type_2Lnet_java_html_leaflet_event_LayerListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLocationListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LocationEvent$Type_2Lnet_java_html_leaflet_event_LocationListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeLocationListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_LocationEvent$Type_2Lnet_java_html_leaflet_event_LocationListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeErrorListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ErrorEvent$Type_2Lnet_java_html_leaflet_event_ErrorListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeErrorListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_ErrorEvent$Type_2Lnet_java_html_leaflet_event_ErrorListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removePopupListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removePopupListener__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearAllEventListeners__Lnet_java_html_leaflet_Map_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).clearAllEventListeners__VLjava_lang_Object_2(stA0);
return lcA0;

};
c['clearAllEventListeners__Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Map_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
c.openPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Map_2Ljava_lang_String_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
c.openPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2, lcA3) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA3.getJSObj__Ljava_lang_Object_2();
c.openPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1, stA2, stA3);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Map_2 = function() {
  var  lcA0 = this;
c.closePopup0Internal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.closePopup1Internal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Map_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(jsObj,html,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  html = vm.java_lang_Class(false).toJS(html);
  latlng = vm.java_lang_Class(false).toJS(latlng);jsObj.openPopup(html, latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);
  latlng = vm.java_lang_Class(false).toJS(latlng);jsObj.openPopup(popup, latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup,latlng,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);
  latlng = vm.java_lang_Class(false).toJS(latlng);
  options = vm.java_lang_Class(false).toJS(options);jsObj.openPopup(popup, latlng, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.closePopup0Internal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.closePopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.closePopup1Internal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);jsObj.closePopup(popup);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getCenter__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getCenterInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getCenter__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getZoom__I = function() {
  var  lcA0 = this;
var stI0 = c.getZoomInternal__ILjava_lang_Object_2(c._jsObj.call(lcA0));
return stI0;

};
c['getZoom__I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getMinZoom__I = function() {
  var  lcA0 = this;
var stI0 = c.getMinZoomInternal__ILjava_lang_Object_2(c._jsObj.call(lcA0));
return stI0;

};
c['getMinZoom__I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getMaxZoom__I = function() {
  var  lcA0 = this;
var stI0 = c.getMaxZoomInternal__ILjava_lang_Object_2(c._jsObj.call(lcA0));
return stI0;

};
c['getMaxZoom__I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getBounds__Lnet_java_html_leaflet_LatLngBounds_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLngBounds;
var stA1 = stA0;var stA2 = c.getBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLngBounds || (refs_net_java_html_leaflet_LatLngBounds = vm.net_java_html_leaflet_LatLngBounds(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getBounds__Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getBoundsZoom__ILnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.getBoundsZoom1Internal__ILjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stI0;

};
c['getBoundsZoom__ILnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getBoundsZoom__ILnet_java_html_leaflet_LatLngBounds_2Z = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stI0 = c.getBoundsZoom2Internal__ILjava_lang_Object_2Ljava_lang_Object_2Z(stA0, stA1, lcI2);
return stI0;

};
c['getBoundsZoom__ILnet_java_html_leaflet_LatLngBounds_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getSize__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.getSizeInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getSize__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getPixelBounds__Lnet_java_html_leaflet_Bounds_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Bounds;
var stA1 = stA0;var stA2 = c.getPixelBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Bounds || (refs_net_java_html_leaflet_Bounds = vm.net_java_html_leaflet_Bounds(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getPixelBounds__Lnet_java_html_leaflet_Bounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getPixelOrigin__Lnet_java_html_leaflet_Point_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = c.getPixelOriginInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getPixelOrigin__Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getCenterInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getCenter();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getZoomInternal__ILjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getZoom();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getMinZoomInternal__ILjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getMinZoom();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getMaxZoomInternal__ILjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getMaxZoom();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getBounds();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getBoundsZoom1Internal__ILjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,bounds) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  bounds = vm.java_lang_Class(false).toJS(bounds);jsObj.getBoundsZoom(bounds);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getBoundsZoom2Internal__ILjava_lang_Object_2Ljava_lang_Object_2Z = function(jsObj,bounds,inside) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  bounds = vm.java_lang_Class(false).toJS(bounds);
  inside = vm.java_lang_Class(false).toJS(inside);jsObj.getBoundsZoom(bounds, inside);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getSizeInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getSize();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getPixelBoundsInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getPixelBounds();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getPixelOriginInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.getPixelOrigin();
}

    m.access = 10;
    m.cls = CLS;
    m = c.latLngToLayerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.latLngToLayerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['latLngToLayerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.layerPointToLatLng__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.layerPointToLatLng__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['layerPointToLatLng__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.containerPointToLayerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.containerPointToLayerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['containerPointToLayerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.layerPointToContainerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.layerPointToContainerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['layerPointToContainerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.latLngToContainerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.latLngToContainerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['latLngToContainerPoint__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.containerPointToLatLng__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.containerPointToLatLng__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['containerPointToLatLng__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.project__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Point;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.project__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I(stA2, stA3, lcI2);
(refs_net_java_html_leaflet_Point || (refs_net_java_html_leaflet_Point = vm.net_java_html_leaflet_Point(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['project__Lnet_java_html_leaflet_Point_2Lnet_java_html_leaflet_LatLng_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unproject__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.unproject__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA2, stA3);
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['unproject__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unproject__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA3 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = c.unproject__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I(stA2, stA3, lcI2);
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['unproject__Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_Point_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.latLngToLayerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,latlng) {

  map = vm.java_lang_Class(false).toJS(map);
  latlng = vm.java_lang_Class(false).toJS(latlng);return map.latLngToLayerPoint(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.layerPointToLatLng__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,point) {

  map = vm.java_lang_Class(false).toJS(map);
  point = vm.java_lang_Class(false).toJS(point);return map.layerPointToLatLng(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.containerPointToLayerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,point) {

  map = vm.java_lang_Class(false).toJS(map);
  point = vm.java_lang_Class(false).toJS(point);return map.containerPointToLayerPoint(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.layerPointToContainerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,point) {

  map = vm.java_lang_Class(false).toJS(map);
  point = vm.java_lang_Class(false).toJS(point);return map.layerPointToContainerPoint(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.latLngToContainerPoint__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,latlng) {

  map = vm.java_lang_Class(false).toJS(map);
  latlng = vm.java_lang_Class(false).toJS(latlng);return map.latLngToContainerPoint(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.containerPointToLatLng__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,point) {

  map = vm.java_lang_Class(false).toJS(map);
  point = vm.java_lang_Class(false).toJS(point);return map.containerPointToLatLng(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.project__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,latlng) {

  map = vm.java_lang_Class(false).toJS(map);
  latlng = vm.java_lang_Class(false).toJS(latlng);return map.project(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.project__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I = function(map,latlng,zoom) {

  map = vm.java_lang_Class(false).toJS(map);
  latlng = vm.java_lang_Class(false).toJS(latlng);
  zoom = vm.java_lang_Class(false).toJS(zoom);return map.project(latlng, zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.unproject__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(map,point) {

  map = vm.java_lang_Class(false).toJS(map);
  point = vm.java_lang_Class(false).toJS(point);return map.unproject(point);
}

    m.access = 10;
    m.cls = CLS;
    m = c.unproject__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2I = function(map,point,zoom) {

  map = vm.java_lang_Class(false).toJS(map);
  point = vm.java_lang_Class(false).toJS(point);
  zoom = vm.java_lang_Class(false).toJS(zoom);return map.unproject(point, zoom);
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MapfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Map', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MapfillInstOf });
    net_java_html_leaflet_MapfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Map';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_MapOptions;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_EventMethodsHelper;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_LatLngBounds;
    var refs_net_java_html_leaflet_Point;
    var refs_net_java_html_leaflet_Bounds;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_Map_jsObj = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Map'] = vm.net_java_html_leaflet_Map;


vm.net_java_html_leaflet_MapOptions = function net_java_html_leaflet_MapOptions() {
  var m;
  var CLS = net_java_html_leaflet_MapOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_MapOptions_options = v; return this.fld_net_java_html_leaflet_MapOptions_options; };
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = c.setCenter__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "center";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setCenter__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoom__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoom__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLayers__Lnet_java_html_leaflet_MapOptions_2_3Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA1).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI3) >= ((lcA1).length)) { gt = 29; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = Array.at(lcA1, lcI3).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("layers", lcA2);
return lcA0;

    }
}}}
};
c['setLayers__Lnet_java_html_leaflet_MapOptions_2_3Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMinZoom__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "minZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMinZoom__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxZoom__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxZoom__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxBounds__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxBounds";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxBounds__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setCRS__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_ICRS_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "crs";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setCRS__Lnet_java_html_leaflet_MapOptions_2Lnet_java_html_leaflet_ICRS_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDragging__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "dragging";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setDragging__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTouchZoom__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "touchZoom";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTouchZoom__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setScrollWheelZoom__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "scrollWheelZoom";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setScrollWheelZoom__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDoubleClickZoom__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "doubleClickZoom";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setDoubleClickZoom__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setBoxZoom__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "boxZoom";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setBoxZoom__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTap__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "tap";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTap__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTapTolerance__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "tapTolerance";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTapTolerance__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTrackResize__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "trackResize";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTrackResize__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setWorldCopyJump__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "worldCopyJump";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setWorldCopyJump__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClosePopupOnClick__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "closePopupOnClick";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setClosePopupOnClick__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setBounceAtZoomLimits__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "bounceAtZoomLimits";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setBounceAtZoomLimits__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setKeyboard__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "keyboard";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setKeyboard__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setKeyboardPanOffset__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "keyboardPanOffset";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setKeyboardPanOffset__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setKeyboardZoomOffset__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "keyboardZoomOffset";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setKeyboardZoomOffset__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setInertia__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "inertia";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setInertia__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setInertiaDeceleration__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "inertiaDeceleration";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setInertiaDeceleration__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setInertiaMaxSpeed__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "inertiaMaxSpeed";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setInertiaMaxSpeed__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setInertiaThreshold__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "inertiaThreshold";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setInertiaThreshold__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomControl__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomControl";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomControl__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAttributionControl__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "attributionControl";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAttributionControl__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFadeAnimation__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "fadeAnimation";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setFadeAnimation__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomAnimation__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomAnimation";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomAnimation__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomAnimationThreshold__Lnet_java_html_leaflet_MapOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomAnimationThreshold";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomAnimationThreshold__Lnet_java_html_leaflet_MapOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMarkerZoomAnimation__Lnet_java_html_leaflet_MapOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "markerZoomAnimation";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMarkerZoomAnimation__Lnet_java_html_leaflet_MapOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MapOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MapOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MapOptionsfillInstOf });
    net_java_html_leaflet_MapOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MapOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Integer;
    var refs_java_lang_Boolean;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_MapOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_MapOptions'] = vm.net_java_html_leaflet_MapOptions;


vm.net_java_html_leaflet_Marker$1 = function net_java_html_leaflet_Marker$1() {
  var m;
  var CLS = net_java_html_leaflet_Marker$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Marker;
(refs_net_java_html_leaflet_Marker || (refs_net_java_html_leaflet_Marker = vm.net_java_html_leaflet_Marker(false))).constructor.cons__VLjava_lang_Object_2Lnet_java_html_leaflet_Marker$1_2.call(stA0, lcA1, null);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_Marker$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Marker$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_Marker$1fillInstOf });
    net_java_html_leaflet_Marker$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Marker$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Marker;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_Marker = function net_java_html_leaflet_Marker() {
  var m;
  var CLS = net_java_html_leaflet_Marker;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$addToInternal_2 = null;
  m = c._$$fn$$addToInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addToInternal_2 = v; return CLS.fld_$$fn$$addToInternal_2; };
  CLS.fld_$$fn$$getLatLngInternal_3 = null;
  m = c._$$fn$$getLatLngInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLatLngInternal_3 = v; return CLS.fld_$$fn$$getLatLngInternal_3; };
  CLS.fld_$$fn$$setLatLngInternal_4 = null;
  m = c._$$fn$$setLatLngInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLatLngInternal_4 = v; return CLS.fld_$$fn$$setLatLngInternal_4; };
  CLS.fld_$$fn$$setIconInternal_5 = null;
  m = c._$$fn$$setIconInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setIconInternal_5 = v; return CLS.fld_$$fn$$setIconInternal_5; };
  CLS.fld_$$fn$$setZIndexOffsetInternal_6 = null;
  m = c._$$fn$$setZIndexOffsetInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setZIndexOffsetInternal_6 = v; return CLS.fld_$$fn$$setZIndexOffsetInternal_6; };
  CLS.fld_$$fn$$setOpacityInternal_7 = null;
  m = c._$$fn$$setOpacityInternal_7 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setOpacityInternal_7 = v; return CLS.fld_$$fn$$setOpacityInternal_7; };
  CLS.fld_$$fn$$updateInternal_8 = null;
  m = c._$$fn$$updateInternal_8 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$updateInternal_8 = v; return CLS.fld_$$fn$$updateInternal_8; };
  CLS.fld_$$fn$$bindPopup1sInternal_9 = null;
  m = c._$$fn$$bindPopup1sInternal_9 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup1sInternal_9 = v; return CLS.fld_$$fn$$bindPopup1sInternal_9; };
  CLS.fld_$$fn$$bindPopup1pInternal_10 = null;
  m = c._$$fn$$bindPopup1pInternal_10 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup1pInternal_10 = v; return CLS.fld_$$fn$$bindPopup1pInternal_10; };
  CLS.fld_$$fn$$bindPopup2Internal_11 = null;
  m = c._$$fn$$bindPopup2Internal_11 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$bindPopup2Internal_11 = v; return CLS.fld_$$fn$$bindPopup2Internal_11; };
  CLS.fld_$$fn$$unbindPopupInternal_12 = null;
  m = c._$$fn$$unbindPopupInternal_12 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$unbindPopupInternal_12 = v; return CLS.fld_$$fn$$unbindPopupInternal_12; };
  CLS.fld_$$fn$$openPopupInternal_13 = null;
  m = c._$$fn$$openPopupInternal_13 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopupInternal_13 = v; return CLS.fld_$$fn$$openPopupInternal_13; };
  CLS.fld_$$fn$$getPopupInternal_14 = null;
  m = c._$$fn$$getPopupInternal_14 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getPopupInternal_14 = v; return CLS.fld_$$fn$$getPopupInternal_14; };
  CLS.fld_$$fn$$closePopupInternal_15 = null;
  m = c._$$fn$$closePopupInternal_15 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$closePopupInternal_15 = v; return CLS.fld_$$fn$$closePopupInternal_15; };
  CLS.fld_$$fn$$togglePopupInternal_16 = null;
  m = c._$$fn$$togglePopupInternal_16 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$togglePopupInternal_16 = v; return CLS.fld_$$fn$$togglePopupInternal_16; };
  CLS.fld_$$fn$$setPopupContentInternal_17 = null;
  m = c._$$fn$$setPopupContentInternal_17 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setPopupContentInternal_17 = v; return CLS.fld_$$fn$$setPopupContentInternal_17; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_MarkerOptions;
(refs_net_java_html_leaflet_MarkerOptions || (refs_net_java_html_leaflet_MarkerOptions = vm.net_java_html_leaflet_MarkerOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_MarkerOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_MarkerOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_MarkerOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(latLng,options) {

  latLng = vm.java_lang_Class(false).toJS(latLng);
  options = vm.java_lang_Class(false).toJS(options);return L.marker(latLng, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addMouseListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addMouseListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addMouseListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addEventListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addEventListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addEventListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addDragEndListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addDragEndListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addDragEndListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addPopupListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addPopupListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addPopupListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeMouseListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeMouseListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_MouseEvent$Type_2Lnet_java_html_leaflet_event_MouseListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeEventListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeEventListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeDragEndListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeDragEndListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_DragEndEvent$Type_2Lnet_java_html_leaflet_event_DragEndListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removePopupListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removePopupListener__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_event_PopupEvent$Type_2Lnet_java_html_leaflet_event_PopupListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearAllEventListeners__Lnet_java_html_leaflet_Marker_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).clearAllEventListeners__VLjava_lang_Object_2(stA0);
return lcA0;

};
c['clearAllEventListeners__Lnet_java_html_leaflet_Marker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__VLnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['addTo__VLnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLng__Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_LatLng;
var stA1 = stA0;var stA2 = c.getLatLngInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getLatLng__Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLng__VLnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setLatLngInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['setLatLng__VLnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setIcon__VLnet_java_html_leaflet_Icon_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setIconInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return;

};
c['setIcon__VLnet_java_html_leaflet_Icon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZIndexOffset__VD = function(lcD1) {
  var  lcA0 = this;
c.setZIndexOffsetInternal__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return;

};
c['setZIndexOffset__VD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOpacity__VD = function(lcD1) {
  var  lcA0 = this;
c.setOpacityInternal__VLjava_lang_Object_2D(c._jsObj.call(lcA0), lcD1);
return;

};
c['setOpacity__VD'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.update__V = function() {
  var  lcA0 = this;
c.updateInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return;

};
c['update__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addToInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,map) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  map = vm.java_lang_Class(false).toJS(map);jsObj.addTo(map);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLatLngInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLatLng();
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLngInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);jsObj.setLatLng(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setIconInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,icon) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  icon = vm.java_lang_Class(false).toJS(icon);jsObj.setIcon(icon);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setZIndexOffsetInternal__VLjava_lang_Object_2D = function(jsObj,zIndexOffset) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  zIndexOffset = vm.java_lang_Class(false).toJS(zIndexOffset);jsObj.setZIndexOffset(zIndexOffset);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setOpacityInternal__VLjava_lang_Object_2D = function(jsObj,opacity) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  opacity = vm.java_lang_Class(false).toJS(opacity);jsObj.setOpacity(opacity);
}

    m.access = 10;
    m.cls = CLS;
    m = c.updateInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.update();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Marker_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.bindPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Marker_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.bindPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
c.bindPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1, stA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Marker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Marker_2 = function() {
  var  lcA0 = this;
c.unbindPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Marker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Marker_2 = function() {
  var  lcA0 = this;
c.openPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Marker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getPopup__Lnet_java_html_leaflet_Popup_2 = function() {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Popup;
var stA1 = stA0;var stA2 = c.getPopupInternal__Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
(refs_net_java_html_leaflet_Popup || (refs_net_java_html_leaflet_Popup = vm.net_java_html_leaflet_Popup(false))).constructor.cons__VLjava_lang_Object_2.call(stA1, stA2);
return stA0;

};
c['getPopup__Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Marker_2 = function() {
  var  lcA0 = this;
c.closePopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Marker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.togglePopup__Lnet_java_html_leaflet_Marker_2 = function() {
  var  lcA0 = this;
c.togglePopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['togglePopup__Lnet_java_html_leaflet_Marker_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setPopupContent__Lnet_java_html_leaflet_Marker_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c.setPopupContentInternal__VLjava_lang_Object_2Ljava_lang_String_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

};
c['setPopupContent__Lnet_java_html_leaflet_Marker_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup1sInternal__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,html) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  html = vm.java_lang_Class(false).toJS(html);jsObj.bindPopup(html);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup1pInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);jsObj.bindPopup(popup);
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup2Internal__VLjava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,popup,options) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  popup = vm.java_lang_Class(false).toJS(popup);
  options = vm.java_lang_Class(false).toJS(options);jsObj.bindPopup(popup, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.unbindPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.unbindPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.openPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.getPopupInternal__Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.closePopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.closePopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.togglePopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.togglePopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.setPopupContentInternal__VLjava_lang_Object_2Ljava_lang_String_2 = function(jsObj,html) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  html = vm.java_lang_Class(false).toJS(html);jsObj.setPopupContent(html);
}

    m.access = 10;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_Object_2Lnet_java_html_leaflet_Marker$1_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
c.constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 4096;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.Marker";var stA1 = new vm.net_java_html_leaflet_Marker$1;
(refs_net_java_html_leaflet_Marker$1 || (refs_net_java_html_leaflet_Marker$1 = vm.net_java_html_leaflet_Marker$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MarkerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Marker', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MarkerfillInstOf });
    net_java_html_leaflet_MarkerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Marker';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_MarkerOptions;
    var refs_net_java_html_leaflet_EventMethodsHelper;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Popup;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_Marker$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Marker'] = vm.net_java_html_leaflet_Marker;


vm.net_java_html_leaflet_MarkerOptions = function net_java_html_leaflet_MarkerOptions() {
  var m;
  var CLS = net_java_html_leaflet_MarkerOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_MarkerOptions_options = v; return this.fld_net_java_html_leaflet_MarkerOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setIcon__Lnet_java_html_leaflet_MarkerOptions_2Lnet_java_html_leaflet_Icon_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "icon";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setIcon__Lnet_java_html_leaflet_MarkerOptions_2Lnet_java_html_leaflet_Icon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClickable__Lnet_java_html_leaflet_MarkerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "clickable";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setClickable__Lnet_java_html_leaflet_MarkerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDraggable__Lnet_java_html_leaflet_MarkerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "draggable";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setDraggable__Lnet_java_html_leaflet_MarkerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setKeyboard__Lnet_java_html_leaflet_MarkerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "keyboard";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setKeyboard__Lnet_java_html_leaflet_MarkerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTitle__Lnet_java_html_leaflet_MarkerOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("title", lcA1);
return lcA0;

};
c['setTitle__Lnet_java_html_leaflet_MarkerOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAlt__Lnet_java_html_leaflet_MarkerOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("alt", lcA1);
return lcA0;

};
c['setAlt__Lnet_java_html_leaflet_MarkerOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZIndexOffset__Lnet_java_html_leaflet_MarkerOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zIndexOffset";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZIndexOffset__Lnet_java_html_leaflet_MarkerOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOpacity__Lnet_java_html_leaflet_MarkerOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "opacity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setOpacity__Lnet_java_html_leaflet_MarkerOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setRiseOnHover__Lnet_java_html_leaflet_MarkerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "riseOnHover";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setRiseOnHover__Lnet_java_html_leaflet_MarkerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setRiseOffset__Lnet_java_html_leaflet_MarkerOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "riseOffset";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setRiseOffset__Lnet_java_html_leaflet_MarkerOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MarkerOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MarkerOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MarkerOptionsfillInstOf });
    net_java_html_leaflet_MarkerOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MarkerOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Boolean;
    var refs_java_lang_Double;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_MarkerOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_MarkerOptions'] = vm.net_java_html_leaflet_MarkerOptions;


vm.net_java_html_leaflet_MercatorProjection = function net_java_html_leaflet_MercatorProjection() {
  var m;
  var CLS = net_java_html_leaflet_MercatorProjection;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_IProjection(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getProjectionInternal_1 = null;
  m = c._$$fn$$getProjectionInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getProjectionInternal_1 = v; return CLS.fld_$$fn$$getProjectionInternal_1; };
    m = c.get__Lnet_java_html_leaflet_MercatorProjection_2 = function() {
  var  lcA0 = this;
return c._instance();

};
c['get__Lnet_java_html_leaflet_MercatorProjection_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getProjectionInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getProjectionInternal__Ljava_lang_Object_2 = function() {
return L.Projection.Mercator;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_MercatorProjection;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).registerProjection__VLjava_lang_String_2Lnet_java_html_leaflet_IProjection_2("MercatorProjection", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MercatorProjectionfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MercatorProjection', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MercatorProjectionfillInstOf });
    net_java_html_leaflet_MercatorProjectionfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MercatorProjection';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_IProjection;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_MercatorProjection'] = vm.net_java_html_leaflet_MercatorProjection;


vm.net_java_html_leaflet_MultiPolygon$1 = function net_java_html_leaflet_MultiPolygon$1() {
  var m;
  var CLS = net_java_html_leaflet_MultiPolygon$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_MultiPolygon;
(refs_net_java_html_leaflet_MultiPolygon || (refs_net_java_html_leaflet_MultiPolygon = vm.net_java_html_leaflet_MultiPolygon(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MultiPolygon$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MultiPolygon$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MultiPolygon$1fillInstOf });
    net_java_html_leaflet_MultiPolygon$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MultiPolygon$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_MultiPolygon;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_MultiPolygon = function net_java_html_leaflet_MultiPolygon() {
  var m;
  var CLS = net_java_html_leaflet_MultiPolygon;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_FeatureGroup(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$createJSArray_1 = null;
  m = c._$$fn$$createJSArray_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$createJSArray_1 = v; return CLS.fld_$$fn$$createJSArray_1; };
  CLS.fld_$$fn$$parseJSArray_2 = null;
  m = c._$$fn$$parseJSArray_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$parseJSArray_2 = v; return CLS.fld_$$fn$$parseJSArray_2; };
  CLS.fld_$$fn$$create_3 = null;
  m = c._$$fn$$create_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_3 = v; return CLS.fld_$$fn$$create_3; };
  CLS.fld_$$fn$$setLatLngsInternal_4 = null;
  m = c._$$fn$$setLatLngsInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLatLngsInternal_4 = v; return CLS.fld_$$fn$$setLatLngsInternal_4; };
  CLS.fld_$$fn$$getLatLngsInternal_5 = null;
  m = c._$$fn$$getLatLngsInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLatLngsInternal_5 = v; return CLS.fld_$$fn$$getLatLngsInternal_5; };
  CLS.fld_$$fn$$openPopupInternal_6 = null;
  m = c._$$fn$$openPopupInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopupInternal_6 = v; return CLS.fld_$$fn$$openPopupInternal_6; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
var stA2 = new vm.net_java_html_leaflet_PolyLineOptions;
(refs_net_java_html_leaflet_PolyLineOptions || (refs_net_java_html_leaflet_PolyLineOptions = vm.net_java_html_leaflet_PolyLineOptions(false))).constructor.cons__V.call(stA2);
var stA2 = stA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA1).length)) { gt = 64; break IF; }
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (Array.at(lcA0, lcI2)).length);
var lcA3 = stA0;
var lcI4 = 0;
    }
    X_25: for (;;) { IF: if (gt <= 25) {

if ((lcI4) >= ((lcA3).length)) { gt = 51; break IF; }
var stA0 = lcA3;var stI1 = lcI4;var stA2 = Array.at(Array.at(lcA0, lcI2), lcI4).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI4++;
{ gt = 0; continue X_25; }
    }
    X_51: for (;;) { IF: if (gt <= 51) {

var stA0 = lcA1;var stI1 = lcI2;var stA2 = c.createJSArray__Ljava_lang_Object_2_3Ljava_lang_Object_2(lcA3);
Array.at(stA0, stI1, stA2);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_64: for (;;) { IF: if (gt <= 64) {

return lcA1;

    }
}}}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.parseHelper___3Lnet_java_html_leaflet_LatLng_2_3Ljava_lang_Object_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[[Lnet/java/html/leaflet/LatLng;', null, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA0).length)) { gt = 72; break IF; }
var stA0 = c.parseJSArray___3Ljava_lang_Object_2Ljava_lang_Object_2(Array.at(lcA0, lcI2));
var lcA3 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/LatLng;', vm.net_java_html_leaflet_LatLng, (lcA3).length);
var lcA4 = stA0;
var lcI5 = 0;
    }
    X_31: for (;;) { IF: if (gt <= 31) {

if ((lcI5) >= ((lcA4).length)) { gt = 61; break IF; }
var stA0 = lcA4;var stI1 = lcI5;var stA2 = new vm.net_java_html_leaflet_LatLng;
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA2, Array.at(lcA3, lcI5));
Array.at(stA0, stI1, stA2);
lcI5++;
{ gt = 0; continue X_31; }
    }
    X_61: for (;;) { IF: if (gt <= 61) {

Array.at(lcA1, lcI2, lcA4);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_72: for (;;) { IF: if (gt <= 72) {

return lcA1;

    }
}}}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.createJSArray__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(elems) {

  elems = vm.java_lang_Class(false).toJS(elems);return elems;
}

    m.access = 10;
    m.cls = CLS;
    m = c.parseJSArray___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(elems) {

  elems = vm.java_lang_Class(false).toJS(elems);return elems;
}

    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2 = function(latlngs,options) {

  latlngs = vm.java_lang_Class(false).toJS(latlngs);
  options = vm.java_lang_Class(false).toJS(options);return L.multiPolygon(latlngs, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_MultiPolygon_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
c.setLatLngsInternal__VLjava_lang_Object_2_3Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setLatLngs__Lnet_java_html_leaflet_MultiPolygon_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLngs___3Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = c.getLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
var stA0 = c.parseHelper___3Lnet_java_html_leaflet_LatLng_2_3Ljava_lang_Object_2(stA0);
return stA0;

};
c['getLatLngs___3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_MultiPolygon_2 = function() {
  var  lcA0 = this;
c.openPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_MultiPolygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLngsInternal__VLjava_lang_Object_2_3Ljava_lang_Object_2 = function(jsObj,latlngs) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlngs = vm.java_lang_Class(false).toJS(latlngs);jsObj.setLatLngs(latlngs);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLatLngs();
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.openPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_MultiPolygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bringToFront__Lnet_java_html_leaflet_FeatureGroup_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_MultiPolygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_MultiPolygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bringToBack__Lnet_java_html_leaflet_FeatureGroup_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_MultiPolygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2.call(lcA0, lcA1);
return lcA0;

};
c['addLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2.call(lcA0, lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_MultiPolygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).clearLayers__Lnet_java_html_leaflet_FeatureGroup_2.call(lcA0);
return lcA0;

};
c['clearLayers__Lnet_java_html_leaflet_MultiPolygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.clearLayers__Lnet_java_html_leaflet_MultiPolygon_2();
return stA0;

};
c['clearLayers__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToBack__Lnet_java_html_leaflet_MultiPolygon_2();
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToFront__Lnet_java_html_leaflet_MultiPolygon_2();
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setStyle__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_PathOptions_2(lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2(lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_LayerGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.clearLayers__Lnet_java_html_leaflet_MultiPolygon_2();
return stA0;

};
c['clearLayers__Lnet_java_html_leaflet_LayerGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addLayer__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_MultiPolygon_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.MultiPolygon";var stA1 = new vm.net_java_html_leaflet_MultiPolygon$1;
(refs_net_java_html_leaflet_MultiPolygon$1 || (refs_net_java_html_leaflet_MultiPolygon$1 = vm.net_java_html_leaflet_MultiPolygon$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MultiPolygonfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MultiPolygon', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MultiPolygonfillInstOf });
    net_java_html_leaflet_MultiPolygonfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MultiPolygon';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_FeatureGroup;
    var refs_net_java_html_leaflet_PolyLineOptions;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_MultiPolygon$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_MultiPolygon'] = vm.net_java_html_leaflet_MultiPolygon;


vm.net_java_html_leaflet_PolyLineOptions = function net_java_html_leaflet_PolyLineOptions() {
  var m;
  var CLS = net_java_html_leaflet_PolyLineOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_PolyLineOptions_options = v; return this.fld_net_java_html_leaflet_PolyLineOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setSmoothFactor__Lnet_java_html_leaflet_PolyLineOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "smoothFactor";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setSmoothFactor__Lnet_java_html_leaflet_PolyLineOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setNoClip__Lnet_java_html_leaflet_PolyLineOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "noClip";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setNoClip__Lnet_java_html_leaflet_PolyLineOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStroke__Lnet_java_html_leaflet_PolyLineOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "stroke";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setStroke__Lnet_java_html_leaflet_PolyLineOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setColor__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("color", lcA1);
return lcA0;

};
c['setColor__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setWeight__Lnet_java_html_leaflet_PolyLineOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "weight";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setWeight__Lnet_java_html_leaflet_PolyLineOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setOpacity__Lnet_java_html_leaflet_PolyLineOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "opacity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setOpacity__Lnet_java_html_leaflet_PolyLineOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFill__Lnet_java_html_leaflet_PolyLineOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "fill";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setFill__Lnet_java_html_leaflet_PolyLineOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFillColor__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("fillColor", lcA1);
return lcA0;

};
c['setFillColor__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFillOpacity__Lnet_java_html_leaflet_PolyLineOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "fillOpacity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setFillOpacity__Lnet_java_html_leaflet_PolyLineOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDashArray__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("dashArray", lcA1);
return lcA0;

};
c['setDashArray__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLineCap__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("lineCap", lcA1);
return lcA0;

};
c['setLineCap__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLineJoin__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("lineJoin", lcA1);
return lcA0;

};
c['setLineJoin__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClickable__Lnet_java_html_leaflet_PolyLineOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "clickable";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setClickable__Lnet_java_html_leaflet_PolyLineOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setPointerEvents__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("pointerEvents", lcA1);
return lcA0;

};
c['setPointerEvents__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setClassName__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("className", lcA1);
return lcA0;

};
c['setClassName__Lnet_java_html_leaflet_PolyLineOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PolyLineOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_PolyLineOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PolyLineOptionsfillInstOf });
    net_java_html_leaflet_PolyLineOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/PolyLineOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Double;
    var refs_java_lang_Boolean;
    var refs_java_lang_Integer;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_PolyLineOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_PolyLineOptions'] = vm.net_java_html_leaflet_PolyLineOptions;


vm.net_java_html_leaflet_MultiPolyline$1 = function net_java_html_leaflet_MultiPolyline$1() {
  var m;
  var CLS = net_java_html_leaflet_MultiPolyline$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_MultiPolyline;
(refs_net_java_html_leaflet_MultiPolyline || (refs_net_java_html_leaflet_MultiPolyline = vm.net_java_html_leaflet_MultiPolyline(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MultiPolyline$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MultiPolyline$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MultiPolyline$1fillInstOf });
    net_java_html_leaflet_MultiPolyline$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MultiPolyline$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_MultiPolyline;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_MultiPolyline = function net_java_html_leaflet_MultiPolyline() {
  var m;
  var CLS = net_java_html_leaflet_MultiPolyline;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_FeatureGroup(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$createJSArray_1 = null;
  m = c._$$fn$$createJSArray_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$createJSArray_1 = v; return CLS.fld_$$fn$$createJSArray_1; };
  CLS.fld_$$fn$$parseJSArray_2 = null;
  m = c._$$fn$$parseJSArray_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$parseJSArray_2 = v; return CLS.fld_$$fn$$parseJSArray_2; };
  CLS.fld_$$fn$$create_3 = null;
  m = c._$$fn$$create_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_3 = v; return CLS.fld_$$fn$$create_3; };
  CLS.fld_$$fn$$setLatLngsInternal_4 = null;
  m = c._$$fn$$setLatLngsInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLatLngsInternal_4 = v; return CLS.fld_$$fn$$setLatLngsInternal_4; };
  CLS.fld_$$fn$$getLatLngsInternal_5 = null;
  m = c._$$fn$$getLatLngsInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLatLngsInternal_5 = v; return CLS.fld_$$fn$$getLatLngsInternal_5; };
  CLS.fld_$$fn$$openPopupInternal_6 = null;
  m = c._$$fn$$openPopupInternal_6 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$openPopupInternal_6 = v; return CLS.fld_$$fn$$openPopupInternal_6; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
var stA2 = new vm.net_java_html_leaflet_PolyLineOptions;
(refs_net_java_html_leaflet_PolyLineOptions || (refs_net_java_html_leaflet_PolyLineOptions = vm.net_java_html_leaflet_PolyLineOptions(false))).constructor.cons__V.call(stA2);
var stA2 = stA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA1).length)) { gt = 64; break IF; }
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (Array.at(lcA0, lcI2)).length);
var lcA3 = stA0;
var lcI4 = 0;
    }
    X_25: for (;;) { IF: if (gt <= 25) {

if ((lcI4) >= ((lcA3).length)) { gt = 51; break IF; }
var stA0 = lcA3;var stI1 = lcI4;var stA2 = Array.at(Array.at(lcA0, lcI2), lcI4).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI4++;
{ gt = 0; continue X_25; }
    }
    X_51: for (;;) { IF: if (gt <= 51) {

var stA0 = lcA1;var stI1 = lcI2;var stA2 = c.createJSArray__Ljava_lang_Object_2_3Ljava_lang_Object_2(lcA3);
Array.at(stA0, stI1, stA2);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_64: for (;;) { IF: if (gt <= 64) {

return lcA1;

    }
}}}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.parseHelper___3Lnet_java_html_leaflet_LatLng_2_3Ljava_lang_Object_2 = function(lcA0) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[[Lnet/java/html/leaflet/LatLng;', null, (lcA0).length);
var lcA1 = stA0;
var lcI2 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI2) >= ((lcA0).length)) { gt = 72; break IF; }
var stA0 = c.parseJSArray___3Ljava_lang_Object_2Ljava_lang_Object_2(Array.at(lcA0, lcI2));
var lcA3 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/LatLng;', vm.net_java_html_leaflet_LatLng, (lcA3).length);
var lcA4 = stA0;
var lcI5 = 0;
    }
    X_31: for (;;) { IF: if (gt <= 31) {

if ((lcI5) >= ((lcA4).length)) { gt = 61; break IF; }
var stA0 = lcA4;var stI1 = lcI5;var stA2 = new vm.net_java_html_leaflet_LatLng;
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA2, Array.at(lcA3, lcI5));
Array.at(stA0, stI1, stA2);
lcI5++;
{ gt = 0; continue X_31; }
    }
    X_61: for (;;) { IF: if (gt <= 61) {

Array.at(lcA1, lcI2, lcA4);
lcI2++;
{ gt = 0; continue X_8; }
    }
    X_72: for (;;) { IF: if (gt <= 72) {

return lcA1;

    }
}}}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.createJSArray__Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(elems) {

  elems = vm.java_lang_Class(false).toJS(elems);return elems;
}

    m.access = 10;
    m.cls = CLS;
    m = c.parseJSArray___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(elems) {

  elems = vm.java_lang_Class(false).toJS(elems);return elems;
}

    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2 = function(latlngs,options) {

  latlngs = vm.java_lang_Class(false).toJS(latlngs);
  options = vm.java_lang_Class(false).toJS(options);return L.multiPolyline(latlngs, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_MultiPolyline_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = c.createHelper___3Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
c.setLatLngsInternal__VLjava_lang_Object_2_3Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setLatLngs__Lnet_java_html_leaflet_MultiPolyline_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLngs___3Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;
var stA0 = c.getLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
var stA0 = c.parseHelper___3Lnet_java_html_leaflet_LatLng_2_3Ljava_lang_Object_2(stA0);
return stA0;

};
c['getLatLngs___3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_MultiPolyline_2 = function() {
  var  lcA0 = this;
c.openPopupInternal__VLjava_lang_Object_2(c._jsObj.call(lcA0));
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_MultiPolyline_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLngsInternal__VLjava_lang_Object_2_3Ljava_lang_Object_2 = function(jsObj,latlngs) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlngs = vm.java_lang_Class(false).toJS(latlngs);jsObj.setLatLngs(latlngs);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLatLngs();
}

    m.access = 10;
    m.cls = CLS;
    m = c.openPopupInternal__VLjava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);jsObj.openPopup();
}

    m.access = 10;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_MultiPolyline_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bringToFront__Lnet_java_html_leaflet_FeatureGroup_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_MultiPolyline_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_MultiPolyline_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).bringToBack__Lnet_java_html_leaflet_FeatureGroup_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_MultiPolyline_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2.call(lcA0, lcA1);
return lcA0;

};
c['addLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2.call(lcA0, lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_MultiPolyline_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_FeatureGroup || (refs_net_java_html_leaflet_FeatureGroup = vm.net_java_html_leaflet_FeatureGroup(false))).clearLayers__Lnet_java_html_leaflet_FeatureGroup_2.call(lcA0);
return lcA0;

};
c['clearLayers__Lnet_java_html_leaflet_MultiPolyline_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.clearLayers__Lnet_java_html_leaflet_MultiPolyline_2();
return stA0;

};
c['clearLayers__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToBack__Lnet_java_html_leaflet_MultiPolyline_2();
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_FeatureGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToFront__Lnet_java_html_leaflet_MultiPolyline_2();
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_FeatureGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setStyle__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_PathOptions_2(lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2(lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.clearLayers__Lnet_java_html_leaflet_LayerGroup_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.clearLayers__Lnet_java_html_leaflet_MultiPolyline_2();
return stA0;

};
c['clearLayers__Lnet_java_html_leaflet_LayerGroup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.removeLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['removeLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addLayer__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_ILayer_2(lcA1);
return stA0;

};
c['addLayer__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_ILayer_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_MultiPolyline_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_LayerGroup_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.MultiPolyline";var stA1 = new vm.net_java_html_leaflet_MultiPolyline$1;
(refs_net_java_html_leaflet_MultiPolyline$1 || (refs_net_java_html_leaflet_MultiPolyline$1 = vm.net_java_html_leaflet_MultiPolyline$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_MultiPolylinefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_MultiPolyline', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_MultiPolylinefillInstOf });
    net_java_html_leaflet_MultiPolylinefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/MultiPolyline';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_FeatureGroup;
    var refs_net_java_html_leaflet_PolyLineOptions;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_MultiPolyline$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_MultiPolyline'] = vm.net_java_html_leaflet_MultiPolyline;


vm.net_java_html_leaflet_PanOptions = function net_java_html_leaflet_PanOptions() {
  var m;
  var CLS = net_java_html_leaflet_PanOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_PanOptions_options = v; return this.fld_net_java_html_leaflet_PanOptions_options; };
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = c.setAnimate__Lnet_java_html_leaflet_PanOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "animate";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAnimate__Lnet_java_html_leaflet_PanOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDuration__Lnet_java_html_leaflet_PanOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "duration";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setDuration__Lnet_java_html_leaflet_PanOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setEaseLinearity__Lnet_java_html_leaflet_PanOptions_2D = function(lcD1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "easeLinearity";var stA2 = (refs_java_lang_Double || (refs_java_lang_Double = vm.java_lang_Double(false)))['valueOf__Ljava_lang_Double_2D'](lcD1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setEaseLinearity__Lnet_java_html_leaflet_PanOptions_2D'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setNoMoveStart__Lnet_java_html_leaflet_PanOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "noMoveStart";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setNoMoveStart__Lnet_java_html_leaflet_PanOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PanOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_PanOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PanOptionsfillInstOf });
    net_java_html_leaflet_PanOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/PanOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Boolean;
    var refs_java_lang_Double;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_PanOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_PanOptions'] = vm.net_java_html_leaflet_PanOptions;


vm.net_java_html_leaflet_PolyLine$1 = function net_java_html_leaflet_PolyLine$1() {
  var m;
  var CLS = net_java_html_leaflet_PolyLine$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_PolyLine;
(refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PolyLine$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_PolyLine$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PolyLine$1fillInstOf });
    net_java_html_leaflet_PolyLine$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/PolyLine$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_PolyLine;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_PolyLine = function net_java_html_leaflet_PolyLine() {
  var m;
  var CLS = net_java_html_leaflet_PolyLine;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_Path(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$addLatLngInternal_2 = null;
  m = c._$$fn$$addLatLngInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$addLatLngInternal_2 = v; return CLS.fld_$$fn$$addLatLngInternal_2; };
  CLS.fld_$$fn$$getLatLngsInternal_3 = null;
  m = c._$$fn$$getLatLngsInternal_3 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getLatLngsInternal_3 = v; return CLS.fld_$$fn$$getLatLngsInternal_3; };
  CLS.fld_$$fn$$setLatLngsInternal_4 = null;
  m = c._$$fn$$setLatLngsInternal_4 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setLatLngsInternal_4 = v; return CLS.fld_$$fn$$setLatLngsInternal_4; };
  CLS.fld_$$fn$$spliceLatLngsInternal_5 = null;
  m = c._$$fn$$spliceLatLngsInternal_5 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$spliceLatLngsInternal_5 = v; return CLS.fld_$$fn$$spliceLatLngsInternal_5; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_PolyLineOptions;
(refs_net_java_html_leaflet_PolyLineOptions || (refs_net_java_html_leaflet_PolyLineOptions = vm.net_java_html_leaflet_PolyLineOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2(lcA1, lcA2);
(refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA0, lcA1) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI3) >= ((lcA2).length)) { gt = 29; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = Array.at(lcA0, lcI3).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

var stA0 = lcA2;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA0 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stA0;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2 = function(latlngs,options) {

  latlngs = vm.java_lang_Class(false).toJS(latlngs);
  options = vm.java_lang_Class(false).toJS(options);return L.polyline(latlngs, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.addLatLngInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getLatLngs___3Lnet_java_html_leaflet_LatLng_2 = function() {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = c.getLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2(c._jsObj.call(lcA0));
var lcA1 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/LatLng;', vm.net_java_html_leaflet_LatLng, (lcA1).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_16: for (;;) { IF: if (gt <= 16) {

if ((lcI3) >= ((lcA2).length)) { gt = 41; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = new vm.net_java_html_leaflet_LatLng;
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA2, Array.at(lcA1, lcI3));
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_16; }
    }
    X_41: for (;;) { IF: if (gt <= 41) {

return lcA2;

    }
}}}
};
c['getLatLngs___3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA1).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI3) >= ((lcA2).length)) { gt = 29; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = Array.at(lcA1, lcI3).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

c.setLatLngsInternal__VLjava_lang_Object_2_3Ljava_lang_Object_2(c._jsObj.call(lcA0), lcA1);
return lcA0;

    }
}}}
};
c['setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.spliceLatLngs___3Lnet_java_html_leaflet_LatLng_2II_3Lnet_java_html_leaflet_LatLng_2 = function(lcI1, lcI2, lcA3) {
  var  lcA0 = this;

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA3).length);
var lcA4 = stA0;
var lcI5 = 0;
    }
    X_10: for (;;) { IF: if (gt <= 10) {

if ((lcI5) >= ((lcA4).length)) { gt = 36; break IF; }
var stA0 = lcA4;var stI1 = lcI5;var stA2 = Array.at(lcA3, lcI5).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI5++;
{ gt = 0; continue X_10; }
    }
    X_36: for (;;) { IF: if (gt <= 36) {

var stA0 = c.spliceLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2II_3Ljava_lang_Object_2(c._jsObj.call(lcA0), lcI1, lcI2, lcA4);
var lcA4 = stA0;
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/LatLng;', vm.net_java_html_leaflet_LatLng, (lcA4).length);
var lcA5 = stA0;
var lcI6 = 0;
    }
    X_60: for (;;) { IF: if (gt <= 60) {

if ((lcI6) >= ((lcA4).length)) { gt = 91; break IF; }
var stA0 = lcA5;var stI1 = lcI6;var stA2 = new vm.net_java_html_leaflet_LatLng;
(refs_net_java_html_leaflet_LatLng || (refs_net_java_html_leaflet_LatLng = vm.net_java_html_leaflet_LatLng(false))).constructor.cons__VLjava_lang_Object_2.call(stA2, Array.at(lcA4, lcI6));
Array.at(stA0, stI1, stA2);
lcI6++;
{ gt = 0; continue X_60; }
    }
    X_91: for (;;) { IF: if (gt <= 91) {

return lcA5;

    }
}}}}}
};
c['spliceLatLngs___3Lnet_java_html_leaflet_LatLng_2II_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 129;
    m.cls = CLS;
    m = c.addLatLngInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,latlng) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlng = vm.java_lang_Class(false).toJS(latlng);jsObj.addLatLng(latlng);
}

    m.access = 10;
    m.cls = CLS;
    m = c.getLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2 = function(jsObj) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);return jsObj.getLatLngs();
}

    m.access = 10;
    m.cls = CLS;
    m = c.setLatLngsInternal__VLjava_lang_Object_2_3Ljava_lang_Object_2 = function(jsObj,latlngs) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  latlngs = vm.java_lang_Class(false).toJS(latlngs);jsObj.setLatLngs(latlngs);
}

    m.access = 10;
    m.cls = CLS;
    m = c.spliceLatLngsInternal___3Ljava_lang_Object_2Ljava_lang_Object_2II_3Ljava_lang_Object_2 = function(jsObj,index,pointsToRemove,latlngs) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  index = vm.java_lang_Class(false).toJS(index);
  pointsToRemove = vm.java_lang_Class(false).toJS(pointsToRemove);
  latlngs = vm.java_lang_Class(false).toJS(latlngs);var args = [index, pointsToRemove].concat(latlngs); return apply(jsObj.spliceLatLngs, args);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bringToFront__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bringToBack__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).redraw__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['redraw__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).unbindPopup__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).openPopup__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Path || (refs_net_java_html_leaflet_Path = vm.net_java_html_leaflet_Path(false))).closePopup__Lnet_java_html_leaflet_Path_2.call(lcA0);
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.closePopup__Lnet_java_html_leaflet_PolyLine_2(lcA0);
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.openPopup__Lnet_java_html_leaflet_PolyLine_2(lcA0);
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.unbindPopup__Lnet_java_html_leaflet_PolyLine_2(lcA0);
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA0,lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.redraw__Lnet_java_html_leaflet_PolyLine_2(lcA0);
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToBack__Lnet_java_html_leaflet_PolyLine_2(lcA0);
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToFront__Lnet_java_html_leaflet_PolyLine_2(lcA0);
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2(lcA0,lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.Polyline";var stA1 = new vm.net_java_html_leaflet_PolyLine$1;
(refs_net_java_html_leaflet_PolyLine$1 || (refs_net_java_html_leaflet_PolyLine$1 = vm.net_java_html_leaflet_PolyLine$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PolyLinefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_PolyLine', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PolyLinefillInstOf });
    net_java_html_leaflet_PolyLinefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/PolyLine';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_Path;
    var refs_net_java_html_leaflet_PolyLineOptions;
    var refs_net_java_html_leaflet_LatLng;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_PolyLine$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_PolyLine'] = vm.net_java_html_leaflet_PolyLine;


vm.net_java_html_leaflet_Polygon$1 = function net_java_html_leaflet_Polygon$1() {
  var m;
  var CLS = net_java_html_leaflet_Polygon$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Polygon;
(refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_Polygon$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Polygon$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_Polygon$1fillInstOf });
    net_java_html_leaflet_Polygon$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Polygon$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Polygon;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_Polygon = function net_java_html_leaflet_Polygon() {
  var m;
  var CLS = net_java_html_leaflet_Polygon;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_PolyLine(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_PolyLineOptions;
(refs_net_java_html_leaflet_PolyLineOptions || (refs_net_java_html_leaflet_PolyLineOptions = vm.net_java_html_leaflet_PolyLineOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2(lcA1, lcA2);
(refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__V_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.createHelper__Ljava_lang_Object_2_3Lnet_java_html_leaflet_LatLng_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA0, lcA1) {

  var gt = 0;
    X_0: for (;;) { IF: if (gt <= 0) {

var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Ljava/lang/Object;', vm.java_lang_Object, (lcA0).length);
var lcA2 = stA0;
var lcI3 = 0;
    }
    X_8: for (;;) { IF: if (gt <= 8) {

if ((lcI3) >= ((lcA2).length)) { gt = 29; break IF; }
var stA0 = lcA2;var stI1 = lcI3;var stA2 = Array.at(lcA0, lcI3).getJSObj__Ljava_lang_Object_2();
Array.at(stA0, stI1, stA2);
lcI3++;
{ gt = 0; continue X_8; }
    }
    X_29: for (;;) { IF: if (gt <= 29) {

var stA0 = lcA2;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA0 = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return stA0;

    }
}}}
};
    m.access = 10;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2_3Ljava_lang_Object_2Ljava_lang_Object_2 = function(latlngs,options) {

  latlngs = vm.java_lang_Class(false).toJS(latlngs);
  options = vm.java_lang_Class(false).toJS(options);return L.polygon(latlngs, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2.call(lcA0, lcA1);
return lcA0;

};
c['addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2.call(lcA0, lcA1);
return lcA0;

};
c['setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).bringToFront__Lnet_java_html_leaflet_PolyLine_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).bringToBack__Lnet_java_html_leaflet_PolyLine_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).redraw__Lnet_java_html_leaflet_PolyLine_2.call(lcA0);
return lcA0;

};
c['redraw__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).unbindPopup__Lnet_java_html_leaflet_PolyLine_2.call(lcA0);
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).openPopup__Lnet_java_html_leaflet_PolyLine_2.call(lcA0);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_PolyLine || (refs_net_java_html_leaflet_PolyLine = vm.net_java_html_leaflet_PolyLine(false))).closePopup__Lnet_java_html_leaflet_PolyLine_2.call(lcA0);
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.closePopup__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.openPopup__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.unbindPopup__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA0,lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.redraw__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['redraw__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToBack__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToFront__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2(lcA0,lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2(lcA0,lcA1);
return stA0;

};
c['setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2(lcA0,lcA1);
return stA0;

};
c['addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.closePopup__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.openPopup__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.unbindPopup__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA0,lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2(lcA0,lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.redraw__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToBack__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = invoker.bringToFront__Lnet_java_html_leaflet_Polygon_2(lcA0);
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2(lcA0,lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = invoker.addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2(lcA0,lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.Polygon";var stA1 = new vm.net_java_html_leaflet_Polygon$1;
(refs_net_java_html_leaflet_Polygon$1 || (refs_net_java_html_leaflet_Polygon$1 = vm.net_java_html_leaflet_Polygon$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_PolygonfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Polygon', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_PolygonfillInstOf });
    net_java_html_leaflet_PolygonfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Polygon';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_PolyLine;
    var refs_net_java_html_leaflet_PolyLineOptions;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_Polygon$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Polygon'] = vm.net_java_html_leaflet_Polygon;


vm.net_java_html_leaflet_Rectangle$1 = function net_java_html_leaflet_Rectangle$1() {
  var m;
  var CLS = net_java_html_leaflet_Rectangle$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_Rectangle;
(refs_net_java_html_leaflet_Rectangle || (refs_net_java_html_leaflet_Rectangle = vm.net_java_html_leaflet_Rectangle(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_Rectangle$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Rectangle$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_Rectangle$1fillInstOf });
    net_java_html_leaflet_Rectangle$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Rectangle$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Rectangle;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_Rectangle = function net_java_html_leaflet_Rectangle() {
  var m;
  var CLS = net_java_html_leaflet_Rectangle;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_Polygon(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$setBoundsInternal_2 = null;
  m = c._$$fn$$setBoundsInternal_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setBoundsInternal_2 = v; return CLS.fld_$$fn$$setBoundsInternal_2; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_PolyLineOptions;
(refs_net_java_html_leaflet_PolyLineOptions || (refs_net_java_html_leaflet_PolyLineOptions = vm.net_java_html_leaflet_PolyLineOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__VLnet_java_html_leaflet_LatLngBounds_2Lnet_java_html_leaflet_PolyLineOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLnet_java_html_leaflet_LatLngBounds_2Lnet_java_html_leaflet_PolyLineOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2(stA1, lcA2);
(refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLnet_java_html_leaflet_LatLngBounds_2Lnet_java_html_leaflet_PolyLineOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(bounds,options) {

  bounds = vm.java_lang_Class(false).toJS(bounds);
  options = vm.java_lang_Class(false).toJS(options);return L.rectangle(bounds, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setBounds__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setBoundsInternal__VLjava_lang_Object_2Ljava_lang_Object_2(stA0, stA1);
return lcA0;

};
c['setBounds__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setBoundsInternal__VLjava_lang_Object_2Ljava_lang_Object_2 = function(jsObj,bounds) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  bounds = vm.java_lang_Class(false).toJS(bounds);return jsObj.setBounds(bounds);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addLatLng__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2.call(lcA0, lcA1);
return lcA0;

};
c['addLatLng__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_Rectangle_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2.call(lcA0, lcA1);
return lcA0;

};
c['setLatLngs__Lnet_java_html_leaflet_Rectangle_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2.call(lcA0, lcA1);
return lcA0;

};
c['addTo__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2.call(lcA0, lcA1);
return lcA0;

};
c['setStyle__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Rectangle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).bringToFront__Lnet_java_html_leaflet_Polygon_2.call(lcA0);
return lcA0;

};
c['bringToFront__Lnet_java_html_leaflet_Rectangle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Rectangle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).bringToBack__Lnet_java_html_leaflet_Polygon_2.call(lcA0);
return lcA0;

};
c['bringToBack__Lnet_java_html_leaflet_Rectangle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Rectangle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).redraw__Lnet_java_html_leaflet_Polygon_2.call(lcA0);
return lcA0;

};
c['redraw__Lnet_java_html_leaflet_Rectangle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Rectangle_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Rectangle_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2.call(lcA0, lcA1);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2.call(lcA0, lcA1, lcA2);
return lcA0;

};
c['bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Rectangle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).unbindPopup__Lnet_java_html_leaflet_Polygon_2.call(lcA0);
return lcA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Rectangle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Rectangle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).openPopup__Lnet_java_html_leaflet_Polygon_2.call(lcA0);
return lcA0;

};
c['openPopup__Lnet_java_html_leaflet_Rectangle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Rectangle_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_net_java_html_leaflet_Polygon || (refs_net_java_html_leaflet_Polygon = vm.net_java_html_leaflet_Polygon(false))).closePopup__Lnet_java_html_leaflet_Polygon_2.call(lcA0);
return lcA0;

};
c['closePopup__Lnet_java_html_leaflet_Rectangle_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.closePopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.openPopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.unbindPopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.redraw__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToBack__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Polygon_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToFront__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Polygon_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setStyle__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_PathOptions_2(lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setLatLngs__Lnet_java_html_leaflet_Rectangle_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
return stA0;

};
c['setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addLatLng__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_LatLng_2(lcA1);
return stA0;

};
c['addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.closePopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.openPopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.unbindPopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.redraw__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['redraw__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToBack__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_PolyLine_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToFront__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_PolyLine_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setStyle__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_PathOptions_2(lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setLatLngs__Lnet_java_html_leaflet_Rectangle_2_3Lnet_java_html_leaflet_LatLng_2(lcA1);
return stA0;

};
c['setLatLngs__Lnet_java_html_leaflet_PolyLine_2_3Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addLatLng__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_LatLng_2(lcA1);
return stA0;

};
c['addLatLng__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_LatLng_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.closePopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.closePopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['closePopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.openPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.openPopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['openPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.unbindPopup__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.unbindPopup__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['unbindPopup__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2(lcA1, lcA2);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Popup_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Popup_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.bindPopup__Lnet_java_html_leaflet_Rectangle_2Ljava_lang_String_2(lcA1);
return stA0;

};
c['bindPopup__Lnet_java_html_leaflet_Path_2Ljava_lang_String_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.redraw__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.redraw__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['redraw__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToBack__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToBack__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['bringToBack__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.bringToFront__Lnet_java_html_leaflet_Path_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.bringToFront__Lnet_java_html_leaflet_Rectangle_2();
return stA0;

};
c['bringToFront__Lnet_java_html_leaflet_Path_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.setStyle__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_PathOptions_2(lcA1);
return stA0;

};
c['setStyle__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_PathOptions_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.addTo__Lnet_java_html_leaflet_Rectangle_2Lnet_java_html_leaflet_Map_2(lcA1);
return stA0;

};
c['addTo__Lnet_java_html_leaflet_Path_2Lnet_java_html_leaflet_Map_2'] = m;

    m.access = 4161;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.Rectangle";var stA1 = new vm.net_java_html_leaflet_Rectangle$1;
(refs_net_java_html_leaflet_Rectangle$1 || (refs_net_java_html_leaflet_Rectangle$1 = vm.net_java_html_leaflet_Rectangle$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_RectanglefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_Rectangle', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_RectanglefillInstOf });
    net_java_html_leaflet_RectanglefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/Rectangle';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_Polygon;
    var refs_net_java_html_leaflet_PolyLineOptions;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_Rectangle$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_Rectangle'] = vm.net_java_html_leaflet_Rectangle;


vm.net_java_html_leaflet_SphericalMercatorProjection = function net_java_html_leaflet_SphericalMercatorProjection() {
  var m;
  var CLS = net_java_html_leaflet_SphericalMercatorProjection;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_IProjection(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_instance = null;
  m = c._instance = function (v) {  if (arguments.length == 1) CLS.fld_instance = v; return CLS.fld_instance; };
  CLS.fld_$$fn$$getProjectionInternal_1 = null;
  m = c._$$fn$$getProjectionInternal_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$getProjectionInternal_1 = v; return CLS.fld_$$fn$$getProjectionInternal_1; };
    m = c.get__Lnet_java_html_leaflet_SphericalMercatorProjection_2 = function() {
  var  lcA0 = this;
return c._instance();

};
c['get__Lnet_java_html_leaflet_SphericalMercatorProjection_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = c.getProjectionInternal__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.getProjectionInternal__Ljava_lang_Object_2 = function() {
return L.Projection.SphericalMercator;
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_SphericalMercatorProjection;
c.constructor.cons__V.call(stA0);
c._instance(stA0);
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
(refs_net_java_html_leaflet_IProjection || (refs_net_java_html_leaflet_IProjection = vm.net_java_html_leaflet_IProjection(false))).registerProjection__VLjava_lang_String_2Lnet_java_html_leaflet_IProjection_2("SphericalMercatorProjection", c._instance());
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_SphericalMercatorProjectionfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_SphericalMercatorProjection', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_SphericalMercatorProjectionfillInstOf });
    net_java_html_leaflet_SphericalMercatorProjectionfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/SphericalMercatorProjection';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_IProjection;
    var refs_net_java_html_leaflet_Options;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_SphericalMercatorProjection'] = vm.net_java_html_leaflet_SphericalMercatorProjection;


vm.net_java_html_leaflet_TileLayer$1 = function net_java_html_leaflet_TileLayer$1() {
  var m;
  var CLS = net_java_html_leaflet_TileLayer$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_TileLayer;
(refs_net_java_html_leaflet_TileLayer || (refs_net_java_html_leaflet_TileLayer = vm.net_java_html_leaflet_TileLayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TileLayer$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_TileLayer$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TileLayer$1fillInstOf });
    net_java_html_leaflet_TileLayer$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/TileLayer$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_TileLayer;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_TileLayer = function net_java_html_leaflet_TileLayer() {
  var m;
  var CLS = net_java_html_leaflet_TileLayer;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_ILayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = new vm.net_java_html_leaflet_TileLayerOptions;
(refs_net_java_html_leaflet_TileLayerOptions || (refs_net_java_html_leaflet_TileLayerOptions = vm.net_java_html_leaflet_TileLayerOptions(false))).constructor.cons__V.call(stA2);
c.constructor.cons__VLjava_lang_String_2Lnet_java_html_leaflet_TileLayerOptions_2.call(stA0, stA1, stA2);
return;

};
CLS['cons__VLjava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2Lnet_java_html_leaflet_TileLayerOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_ILayer || (refs_net_java_html_leaflet_ILayer = vm.net_java_html_leaflet_ILayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLjava_lang_String_2Lnet_java_html_leaflet_TileLayerOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(urlTemplate,options) {

  urlTemplate = vm.java_lang_Class(false).toJS(urlTemplate);
  options = vm.java_lang_Class(false).toJS(options);return L.tileLayer(urlTemplate, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.addTileListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_TileEvent$Type_2Lnet_java_html_leaflet_event_TileListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addTileListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_TileEvent$Type_2Lnet_java_html_leaflet_event_TileListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addTileListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_TileEvent$Type_2Lnet_java_html_leaflet_event_TileListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.addEventListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).addEventListener__VLjava_lang_Object_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2(stA0, lcA1, lcA2);
return lcA0;

};
c['addEventListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeTileListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_TileEvent$Type_2Lnet_java_html_leaflet_event_TileListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeTileListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_TileEvent$Type_2Lnet_java_html_leaflet_event_TileListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.removeEventListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
var stA1 = lcA1.toString__Ljava_lang_String_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).removeEventListener__VLjava_lang_Object_2Ljava_lang_String_2Lnet_java_html_leaflet_event_EventListener_2(stA0, stA1, lcA2);
return lcA0;

};
c['removeEventListener__Lnet_java_html_leaflet_TileLayer_2Lnet_java_html_leaflet_event_Event$Type_2Lnet_java_html_leaflet_event_EventListener_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.clearAllEventListeners__Lnet_java_html_leaflet_TileLayer_2 = function() {
  var  lcA0 = this;
var stA0 = lcA0.getJSObj__Ljava_lang_Object_2();
(refs_net_java_html_leaflet_EventMethodsHelper || (refs_net_java_html_leaflet_EventMethodsHelper = vm.net_java_html_leaflet_EventMethodsHelper(false))).clearAllEventListeners__VLjava_lang_Object_2(stA0);
return lcA0;

};
c['clearAllEventListeners__Lnet_java_html_leaflet_TileLayer_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.TileLayer";var stA1 = new vm.net_java_html_leaflet_TileLayer$1;
(refs_net_java_html_leaflet_TileLayer$1 || (refs_net_java_html_leaflet_TileLayer$1 = vm.net_java_html_leaflet_TileLayer$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TileLayerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_TileLayer', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TileLayerfillInstOf });
    net_java_html_leaflet_TileLayerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/TileLayer';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 33;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_ILayer;
    var refs_net_java_html_leaflet_TileLayerOptions;
    var refs_net_java_html_leaflet_EventMethodsHelper;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_TileLayer$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_TileLayer'] = vm.net_java_html_leaflet_TileLayer;


vm.net_java_html_leaflet_TileLayerOptions = function net_java_html_leaflet_TileLayerOptions() {
  var m;
  var CLS = net_java_html_leaflet_TileLayerOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_TileLayerOptions_options = v; return this.fld_net_java_html_leaflet_TileLayerOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMinZoom__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "minZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMinZoom__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxZoom__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxZoom__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxNativeZoom__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxNativeZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxNativeZoom__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTileSize__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "tileSize";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTileSize__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setSubdomains__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("subdomains", lcA1);
return lcA0;

};
c['setSubdomains__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setSubdomains__Lnet_java_html_leaflet_TileLayerOptions_2_3Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("subdomains", lcA1);
return lcA0;

};
c['setSubdomains__Lnet_java_html_leaflet_TileLayerOptions_2_3Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setErrorTileUrl__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("errorTileUrl", lcA1);
return lcA0;

};
c['setErrorTileUrl__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAttribution__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("attribution", lcA1);
return lcA0;

};
c['setAttribution__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTms__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "tms";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTms__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setContinuousWorld__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "continuousWorld";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setContinuousWorld__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setNoWrap__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "noWrap";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setNoWrap__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomOffset__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomOffset";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomOffset__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomReverse__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomReverse";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomReverse__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setopacity__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "opacity";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setopacity__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZIndex__Lnet_java_html_leaflet_TileLayerOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zIndex";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZIndex__Lnet_java_html_leaflet_TileLayerOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setUnloadInvisibleTiles__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "unloadInvisibleTiles";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setUnloadInvisibleTiles__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setUpdateWhenIdle__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "updateWhenIdle";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setUpdateWhenIdle__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDetectRetina__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "detectRetina";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setDetectRetina__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setReuseTiles__Lnet_java_html_leaflet_TileLayerOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "reuseTiles";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setReuseTiles__Lnet_java_html_leaflet_TileLayerOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setBounds__Lnet_java_html_leaflet_TileLayerOptions_2Lnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "bounds";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setBounds__Lnet_java_html_leaflet_TileLayerOptions_2Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setId__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("id", lcA1);
return lcA0;

};
c['setId__Lnet_java_html_leaflet_TileLayerOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TileLayerOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_TileLayerOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TileLayerOptionsfillInstOf });
    net_java_html_leaflet_TileLayerOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/TileLayerOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Integer;
    var refs_java_lang_Boolean;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_TileLayerOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_TileLayerOptions'] = vm.net_java_html_leaflet_TileLayerOptions;


vm.net_java_html_leaflet_TileLayerWMS$1 = function net_java_html_leaflet_TileLayerWMS$1() {
  var m;
  var CLS = net_java_html_leaflet_TileLayerWMS$1;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = c.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = new vm.net_java_html_leaflet_TileLayerWMS;
(refs_net_java_html_leaflet_TileLayerWMS || (refs_net_java_html_leaflet_TileLayerWMS = vm.net_java_html_leaflet_TileLayerWMS(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, lcA1);
return stA0;

};
    m.access = 1;
    m.cls = CLS;
    m = c.apply__Ljava_lang_Object_2Ljava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = lcA0.apply__Lnet_java_html_leaflet_ILayer_2Ljava_lang_Object_2(lcA1);
return stA0;

};
    m.access = 4161;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TileLayerWMS$1fillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_TileLayerWMS$1', { value : true });
      vm.net_java_html_leaflet_Function(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TileLayerWMS$1fillInstOf });
    net_java_html_leaflet_TileLayerWMS$1fillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/TileLayerWMS$1';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_Function(false).constructor.$class
    ]; };
    CLS.$class.access = 48;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_TileLayerWMS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};

vm.net_java_html_leaflet_TileLayerWMS = function net_java_html_leaflet_TileLayerWMS() {
  var m;
  var CLS = net_java_html_leaflet_TileLayerWMS;
  if (!CLS.$class) {
    var pp = vm.net_java_html_leaflet_TileLayer(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_$$fn$$create_1 = null;
  m = c._$$fn$$create_1 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$create_1 = v; return CLS.fld_$$fn$$create_1; };
  CLS.fld_$$fn$$setParamsInteral_2 = null;
  m = c._$$fn$$setParamsInteral_2 = function (v) {  if (arguments.length == 1) CLS.fld_$$fn$$setParamsInteral_2 = v; return CLS.fld_$$fn$$setParamsInteral_2; };
    m = CLS.cons__VLjava_lang_Object_2 = function(lcA1) {
  var  lcA0 = this;
(refs_net_java_html_leaflet_TileLayer || (refs_net_java_html_leaflet_TileLayer = vm.net_java_html_leaflet_TileLayer(false))).constructor.cons__VLjava_lang_Object_2.call(lcA0, lcA1);
return;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2Lnet_java_html_leaflet_TileLayerWMSOptions_2 = function(lcA1, lcA2) {
  var  lcA0 = this;
var stA0 = lcA0;var stA1 = lcA1;var stA2 = lcA2.getJSObj__Ljava_lang_Object_2();
var stA1 = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
(refs_net_java_html_leaflet_TileLayer || (refs_net_java_html_leaflet_TileLayer = vm.net_java_html_leaflet_TileLayer(false))).constructor.cons__VLjava_lang_Object_2.call(stA0, stA1);
return;

};
CLS['cons__VLjava_lang_String_2Lnet_java_html_leaflet_TileLayerWMSOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.create__Ljava_lang_Object_2Ljava_lang_String_2Ljava_lang_Object_2 = function(urlTemplate,options) {

  urlTemplate = vm.java_lang_Class(false).toJS(urlTemplate);
  options = vm.java_lang_Class(false).toJS(options);return L.tileLayer.wms(urlTemplate, options);
}

    m.access = 10;
    m.cls = CLS;
    m = c.setParams__VLnet_java_html_leaflet_TileLayerWMSOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setParamsInteral__VLjava_lang_Object_2Ljava_lang_Object_2Z(stA0, stA1, 0);
return;

};
c['setParams__VLnet_java_html_leaflet_TileLayerWMSOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setParams__VLnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcA1, lcI2) {
  var  lcA0 = this;
var stA0 = c._jsObj.call(lcA0);var stA1 = lcA1.getJSObj__Ljava_lang_Object_2();
c.setParamsInteral__VLjava_lang_Object_2Ljava_lang_Object_2Z(stA0, stA1, lcI2);
return;

};
c['setParams__VLnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setParamsInteral__VLjava_lang_Object_2Ljava_lang_Object_2Z = function(jsObj,options,noRedraw) {

  jsObj = vm.java_lang_Class(false).toJS(jsObj);
  options = vm.java_lang_Class(false).toJS(options);
  noRedraw = vm.java_lang_Class(false).toJS(noRedraw);return jsObj.setParams(options, noRedraw);
}

    m.access = 10;
    m.cls = CLS;
    m = c.class__V = function() {
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).initJS__V();
var stA0 = "L.TileLayer.WMS";var stA1 = new vm.net_java_html_leaflet_TileLayerWMS$1;
(refs_net_java_html_leaflet_TileLayerWMS$1 || (refs_net_java_html_leaflet_TileLayerWMS$1 = vm.net_java_html_leaflet_TileLayerWMS$1(false))).constructor.cons__V.call(stA1);
c.registerLayerType__VLjava_lang_String_2Lnet_java_html_leaflet_Function_2(stA0, stA1);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TileLayerWMSfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_TileLayerWMS', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TileLayerWMSfillInstOf });
    net_java_html_leaflet_TileLayerWMSfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/TileLayerWMS';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_net_java_html_leaflet_TileLayer;
    var refs_net_java_html_leaflet_Options;
    var refs_net_java_html_leaflet_TileLayerWMS$1;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_TileLayerWMS'] = vm.net_java_html_leaflet_TileLayerWMS;


vm.net_java_html_leaflet_TileLayerWMSOptions = function net_java_html_leaflet_TileLayerWMSOptions() {
  var m;
  var CLS = net_java_html_leaflet_TileLayerWMSOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_TileLayerWMSOptions_options = v; return this.fld_net_java_html_leaflet_TileLayerWMSOptions_options; };
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("layers", lcA1);
return;

};
CLS['cons__VLjava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMinZoom__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "minZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMinZoom__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxZoom__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxZoom__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setMaxNativeZoom__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "maxNativeZoom";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setMaxNativeZoom__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTileSize__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "tileSize";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTileSize__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setSubdomains__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("subdomains", lcA1);
return lcA0;

};
c['setSubdomains__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setSubdomains__Lnet_java_html_leaflet_TileLayerWMSOptions_2_3Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("subdomains", lcA1);
return lcA0;

};
c['setSubdomains__Lnet_java_html_leaflet_TileLayerWMSOptions_2_3Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setErrorTileUrl__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("errorTileUrl", lcA1);
return lcA0;

};
c['setErrorTileUrl__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAttribution__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("attribution", lcA1);
return lcA0;

};
c['setAttribution__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTms__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "tms";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTms__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setContinuousWorld__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "continuousWorld";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setContinuousWorld__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setNoWrap__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "noWrap";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setNoWrap__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomOffset__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomOffset";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomOffset__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoomReverse__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoomReverse";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoomReverse__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setopacity__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "opacity";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setopacity__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZIndex__Lnet_java_html_leaflet_TileLayerWMSOptions_2I = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zIndex";var stA2 = (refs_java_lang_Integer || (refs_java_lang_Integer = vm.java_lang_Integer(false)))['valueOf__Ljava_lang_Integer_2I'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZIndex__Lnet_java_html_leaflet_TileLayerWMSOptions_2I'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setUnloadInvisibleTiles__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "unloadInvisibleTiles";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setUnloadInvisibleTiles__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setUpdateWhenIdle__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "updateWhenIdle";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setUpdateWhenIdle__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setDetectRetina__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "detectRetina";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setDetectRetina__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setReuseTiles__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "reuseTiles";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setReuseTiles__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setBounds__Lnet_java_html_leaflet_TileLayerWMSOptions_2Lnet_java_html_leaflet_LatLngBounds_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "bounds";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setBounds__Lnet_java_html_leaflet_TileLayerWMSOptions_2Lnet_java_html_leaflet_LatLngBounds_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setId__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("id", lcA1);
return lcA0;

};
c['setId__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setStyles__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("styles", lcA1);
return lcA0;

};
c['setStyles__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setFormat__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("format", lcA1);
return lcA0;

};
c['setFormat__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setTransparent__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "transparent";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setTransparent__Lnet_java_html_leaflet_TileLayerWMSOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setVersion__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("version", lcA1);
return lcA0;

};
c['setVersion__Lnet_java_html_leaflet_TileLayerWMSOptions_2Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setCRS__Lnet_java_html_leaflet_TileLayerWMSOptions_2Lnet_java_html_leaflet_ICRS_2 = function(lcA1) {
  var  lcA0 = this;
c._options.call(lcA0).setValue__VLjava_lang_String_2Ljava_lang_Object_2("crs", lcA1);
return lcA0;

};
c['setCRS__Lnet_java_html_leaflet_TileLayerWMSOptions_2Lnet_java_html_leaflet_ICRS_2'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_TileLayerWMSOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_TileLayerWMSOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_TileLayerWMSOptionsfillInstOf });
    net_java_html_leaflet_TileLayerWMSOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/TileLayerWMSOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Integer;
    var refs_java_lang_Boolean;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_TileLayerWMSOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_TileLayerWMSOptions'] = vm.net_java_html_leaflet_TileLayerWMSOptions;


vm.net_java_html_leaflet_ZoomOptions = function net_java_html_leaflet_ZoomOptions() {
  var m;
  var CLS = net_java_html_leaflet_ZoomOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_ZoomOptions_options = v; return this.fld_net_java_html_leaflet_ZoomOptions_options; };
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = c.setAnimate__Lnet_java_html_leaflet_ZoomOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "animate";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAnimate__Lnet_java_html_leaflet_ZoomOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ZoomOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ZoomOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ZoomOptionsfillInstOf });
    net_java_html_leaflet_ZoomOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ZoomOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Boolean;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_ZoomOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_ZoomOptions'] = vm.net_java_html_leaflet_ZoomOptions;


vm.net_java_html_leaflet_ZoomPanOptions = function net_java_html_leaflet_ZoomPanOptions() {
  var m;
  var CLS = net_java_html_leaflet_ZoomPanOptions;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  m = c._options = function (v) {  if (arguments.length == 1) this.fld_net_java_html_leaflet_ZoomPanOptions_options = v; return this.fld_net_java_html_leaflet_ZoomPanOptions_options; };
    m = CLS.cons__V = function() {
  var  lcA0 = this;
(refs_java_lang_Object || (refs_java_lang_Object = vm.java_lang_Object(false))).constructor['cons__V'].call(lcA0);
var stA0 = lcA0;var stA1 = new vm.net_java_html_leaflet_Options;
(refs_net_java_html_leaflet_Options || (refs_net_java_html_leaflet_Options = vm.net_java_html_leaflet_Options(false))).constructor.cons__V.call(stA1);
c._options.call(stA0, stA1);
return;

};
CLS['cons__V'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.getJSObj__Ljava_lang_Object_2 = function() {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0).createJSObj__Ljava_lang_Object_2();
return stA0;

};
    m.access = 0;
    m.cls = CLS;
    m = c.setReset__Lnet_java_html_leaflet_ZoomPanOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "reset";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setReset__Lnet_java_html_leaflet_ZoomPanOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setPan__Lnet_java_html_leaflet_ZoomPanOptions_2Lnet_java_html_leaflet_PanOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "pan";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setPan__Lnet_java_html_leaflet_ZoomPanOptions_2Lnet_java_html_leaflet_PanOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setZoom__Lnet_java_html_leaflet_ZoomPanOptions_2Lnet_java_html_leaflet_ZoomOptions_2 = function(lcA1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "zoom";var stA2 = lcA1.getJSObj__Ljava_lang_Object_2();
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setZoom__Lnet_java_html_leaflet_ZoomPanOptions_2Lnet_java_html_leaflet_ZoomOptions_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.setAnimate__Lnet_java_html_leaflet_ZoomPanOptions_2Z = function(lcI1) {
  var  lcA0 = this;
var stA0 = c._options.call(lcA0);var stA1 = "animate";var stA2 = (refs_java_lang_Boolean || (refs_java_lang_Boolean = vm.java_lang_Boolean(false)))['valueOf__Ljava_lang_Boolean_2Z'](lcI1);
stA0.setValue__VLjava_lang_String_2Ljava_lang_Object_2(stA1, stA2);
return lcA0;

};
c['setAnimate__Lnet_java_html_leaflet_ZoomPanOptions_2Z'] = m;

    m.access = 1;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_ZoomPanOptionsfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_ZoomPanOptions', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_ZoomPanOptionsfillInstOf });
    net_java_html_leaflet_ZoomPanOptionsfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/ZoomPanOptions';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 49;
    CLS.$class.cnstr = CLS;
    var refs_java_lang_Object;
    var refs_net_java_html_leaflet_Options;
    var refs_java_lang_Boolean;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    this.fld_net_java_html_leaflet_ZoomPanOptions_options = null;
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_ZoomPanOptions'] = vm.net_java_html_leaflet_ZoomPanOptions;


vm.net_java_html_leaflet_event_DragEndEvent$Type = function net_java_html_leaflet_event_DragEndEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_DragEndEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_DRAGEND = null;
  m = c._DRAGEND = function (v) {  if (arguments.length == 1) CLS.fld_DRAGEND = v; return CLS.fld_DRAGEND; };
c['_DRAGEND'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_DragEndEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_DragEndEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_DragEndEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_DragEndEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_DragEndEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_DragEndEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_DragEndEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "DRAGEND", 0);
c._DRAGEND(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/DragEndEvent$Type;', vm.net_java_html_leaflet_event_DragEndEvent$Type, 1);
Array.at(stA0, 0, c._DRAGEND());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_DragEndEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_DragEndEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_DragEndEvent$TypefillInstOf });
    net_java_html_leaflet_event_DragEndEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/DragEndEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_DragEndEvent$Type'] = vm.net_java_html_leaflet_event_DragEndEvent$Type;

vm.java_lang_Enum = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_lang_Enum;
  return link('java/lang/Enum', function(f) { vm.java_lang_Enum = f;})(instance);
}

vm.net_java_html_leaflet_event_DragEndListener = function net_java_html_leaflet_event_DragEndListener() {
  var m;
  var CLS = net_java_html_leaflet_event_DragEndListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_DragEndListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_DragEndListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_DragEndListenerfillInstOf });
    net_java_html_leaflet_event_DragEndListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/DragEndListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_DragEndListener'] = vm.net_java_html_leaflet_event_DragEndListener;


vm.net_java_html_leaflet_event_EventListener = function net_java_html_leaflet_event_EventListener() {
  var m;
  var CLS = net_java_html_leaflet_event_EventListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    m = c.onEvent__VLnet_java_html_leaflet_event_Event_2 = function(lcA1) {
  throw 'no code found for net/java/html/leaflet/event/EventListener.onEvent';
};
c['onEvent__VLnet_java_html_leaflet_event_Event_2'] = m;

    m.access = 1025;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_EventListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_EventListener', { value : true });
      vm.java_util_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_EventListenerfillInstOf });
    net_java_html_leaflet_event_EventListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/EventListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.java_util_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_EventListener'] = vm.net_java_html_leaflet_event_EventListener;

vm.java_util_EventListener = function() {
  var instance = arguments.length == 0 || arguments[0] === true;
  delete vm.java_util_EventListener;
  return link('java/util/EventListener', function(f) { vm.java_util_EventListener = f;})(instance);
}

vm.net_java_html_leaflet_event_ErrorEvent$Type = function net_java_html_leaflet_event_ErrorEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_ErrorEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_LOCATIONERROR = null;
  m = c._LOCATIONERROR = function (v) {  if (arguments.length == 1) CLS.fld_LOCATIONERROR = v; return CLS.fld_LOCATIONERROR; };
c['_LOCATIONERROR'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_ErrorEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_ErrorEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_ErrorEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_ErrorEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_ErrorEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_ErrorEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_ErrorEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "LOCATIONERROR", 0);
c._LOCATIONERROR(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/ErrorEvent$Type;', vm.net_java_html_leaflet_event_ErrorEvent$Type, 1);
Array.at(stA0, 0, c._LOCATIONERROR());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_ErrorEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_ErrorEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_ErrorEvent$TypefillInstOf });
    net_java_html_leaflet_event_ErrorEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/ErrorEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_ErrorEvent$Type'] = vm.net_java_html_leaflet_event_ErrorEvent$Type;


vm.net_java_html_leaflet_event_ErrorListener = function net_java_html_leaflet_event_ErrorListener() {
  var m;
  var CLS = net_java_html_leaflet_event_ErrorListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_ErrorListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_ErrorListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_ErrorListenerfillInstOf });
    net_java_html_leaflet_event_ErrorListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/ErrorListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_ErrorListener'] = vm.net_java_html_leaflet_event_ErrorListener;


vm.net_java_html_leaflet_event_Event$Type = function net_java_html_leaflet_event_Event$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_Event$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_FOCUS = null;
  m = c._FOCUS = function (v) {  if (arguments.length == 1) CLS.fld_FOCUS = v; return CLS.fld_FOCUS; };
c['_FOCUS'] = m;

  CLS.fld_BLUR = null;
  m = c._BLUR = function (v) {  if (arguments.length == 1) CLS.fld_BLUR = v; return CLS.fld_BLUR; };
c['_BLUR'] = m;

  CLS.fld_LOAD = null;
  m = c._LOAD = function (v) {  if (arguments.length == 1) CLS.fld_LOAD = v; return CLS.fld_LOAD; };
c['_LOAD'] = m;

  CLS.fld_UNLOAD = null;
  m = c._UNLOAD = function (v) {  if (arguments.length == 1) CLS.fld_UNLOAD = v; return CLS.fld_UNLOAD; };
c['_UNLOAD'] = m;

  CLS.fld_VIEWRESET = null;
  m = c._VIEWRESET = function (v) {  if (arguments.length == 1) CLS.fld_VIEWRESET = v; return CLS.fld_VIEWRESET; };
c['_VIEWRESET'] = m;

  CLS.fld_MOVESTART = null;
  m = c._MOVESTART = function (v) {  if (arguments.length == 1) CLS.fld_MOVESTART = v; return CLS.fld_MOVESTART; };
c['_MOVESTART'] = m;

  CLS.fld_MOVE = null;
  m = c._MOVE = function (v) {  if (arguments.length == 1) CLS.fld_MOVE = v; return CLS.fld_MOVE; };
c['_MOVE'] = m;

  CLS.fld_MOVEEND = null;
  m = c._MOVEEND = function (v) {  if (arguments.length == 1) CLS.fld_MOVEEND = v; return CLS.fld_MOVEEND; };
c['_MOVEEND'] = m;

  CLS.fld_DRAGSTART = null;
  m = c._DRAGSTART = function (v) {  if (arguments.length == 1) CLS.fld_DRAGSTART = v; return CLS.fld_DRAGSTART; };
c['_DRAGSTART'] = m;

  CLS.fld_DRAG = null;
  m = c._DRAG = function (v) {  if (arguments.length == 1) CLS.fld_DRAG = v; return CLS.fld_DRAG; };
c['_DRAG'] = m;

  CLS.fld_ZOOMSTART = null;
  m = c._ZOOMSTART = function (v) {  if (arguments.length == 1) CLS.fld_ZOOMSTART = v; return CLS.fld_ZOOMSTART; };
c['_ZOOMSTART'] = m;

  CLS.fld_ZOOMEND = null;
  m = c._ZOOMEND = function (v) {  if (arguments.length == 1) CLS.fld_ZOOMEND = v; return CLS.fld_ZOOMEND; };
c['_ZOOMEND'] = m;

  CLS.fld_ZOOMLEVELSCHANGE = null;
  m = c._ZOOMLEVELSCHANGE = function (v) {  if (arguments.length == 1) CLS.fld_ZOOMLEVELSCHANGE = v; return CLS.fld_ZOOMLEVELSCHANGE; };
c['_ZOOMLEVELSCHANGE'] = m;

  CLS.fld_AUTOPANSTART = null;
  m = c._AUTOPANSTART = function (v) {  if (arguments.length == 1) CLS.fld_AUTOPANSTART = v; return CLS.fld_AUTOPANSTART; };
c['_AUTOPANSTART'] = m;

  CLS.fld_ADD = null;
  m = c._ADD = function (v) {  if (arguments.length == 1) CLS.fld_ADD = v; return CLS.fld_ADD; };
c['_ADD'] = m;

  CLS.fld_REMOVE = null;
  m = c._REMOVE = function (v) {  if (arguments.length == 1) CLS.fld_REMOVE = v; return CLS.fld_REMOVE; };
c['_REMOVE'] = m;

  CLS.fld_LOADING = null;
  m = c._LOADING = function (v) {  if (arguments.length == 1) CLS.fld_LOADING = v; return CLS.fld_LOADING; };
c['_LOADING'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_Event$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_Event$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_Event$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_Event$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_Event$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_Event$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "FOCUS", 0);
c._FOCUS(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "BLUR", 1);
c._BLUR(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "LOAD", 2);
c._LOAD(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "UNLOAD", 3);
c._UNLOAD(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "VIEWRESET", 4);
c._VIEWRESET(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOVESTART", 5);
c._MOVESTART(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOVE", (6));
c._MOVE(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOVEEND", (7));
c._MOVEEND(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "DRAGSTART", (8));
c._DRAGSTART(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "DRAG", (9));
c._DRAG(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "ZOOMSTART", (10));
c._ZOOMSTART(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "ZOOMEND", (11));
c._ZOOMEND(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "ZOOMLEVELSCHANGE", (12));
c._ZOOMLEVELSCHANGE(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "AUTOPANSTART", (13));
c._AUTOPANSTART(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "ADD", (14));
c._ADD(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "REMOVE", (15));
c._REMOVE(stA0);
var stA0 = new vm.net_java_html_leaflet_event_Event$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "LOADING", (16));
c._LOADING(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/Event$Type;', vm.net_java_html_leaflet_event_Event$Type, (17));
Array.at(stA0, 0, c._FOCUS());
Array.at(stA0, 1, c._BLUR());
Array.at(stA0, 2, c._LOAD());
Array.at(stA0, 3, c._UNLOAD());
Array.at(stA0, 4, c._VIEWRESET());
Array.at(stA0, 5, c._MOVESTART());
Array.at(stA0, (6), c._MOVE());
Array.at(stA0, (7), c._MOVEEND());
Array.at(stA0, (8), c._DRAGSTART());
Array.at(stA0, (9), c._DRAG());
Array.at(stA0, (10), c._ZOOMSTART());
Array.at(stA0, (11), c._ZOOMEND());
Array.at(stA0, (12), c._ZOOMLEVELSCHANGE());
Array.at(stA0, (13), c._AUTOPANSTART());
Array.at(stA0, (14), c._ADD());
Array.at(stA0, (15), c._REMOVE());
Array.at(stA0, (16), c._LOADING());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_Event$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_Event$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_Event$TypefillInstOf });
    net_java_html_leaflet_event_Event$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/Event$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_Event$Type'] = vm.net_java_html_leaflet_event_Event$Type;


vm.net_java_html_leaflet_event_LayerEvent$Type = function net_java_html_leaflet_event_LayerEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_LayerEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_LAYERADD = null;
  m = c._LAYERADD = function (v) {  if (arguments.length == 1) CLS.fld_LAYERADD = v; return CLS.fld_LAYERADD; };
c['_LAYERADD'] = m;

  CLS.fld_LAYERREMOVE = null;
  m = c._LAYERREMOVE = function (v) {  if (arguments.length == 1) CLS.fld_LAYERREMOVE = v; return CLS.fld_LAYERREMOVE; };
c['_LAYERREMOVE'] = m;

  CLS.fld_BASELAYERCHANGE = null;
  m = c._BASELAYERCHANGE = function (v) {  if (arguments.length == 1) CLS.fld_BASELAYERCHANGE = v; return CLS.fld_BASELAYERCHANGE; };
c['_BASELAYERCHANGE'] = m;

  CLS.fld_OVERLAYADD = null;
  m = c._OVERLAYADD = function (v) {  if (arguments.length == 1) CLS.fld_OVERLAYADD = v; return CLS.fld_OVERLAYADD; };
c['_OVERLAYADD'] = m;

  CLS.fld_OVERLAYREMOVE = null;
  m = c._OVERLAYREMOVE = function (v) {  if (arguments.length == 1) CLS.fld_OVERLAYREMOVE = v; return CLS.fld_OVERLAYREMOVE; };
c['_OVERLAYREMOVE'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_LayerEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_LayerEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_LayerEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_LayerEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_LayerEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_LayerEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_LayerEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "LAYERADD", 0);
c._LAYERADD(stA0);
var stA0 = new vm.net_java_html_leaflet_event_LayerEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "LAYERREMOVE", 1);
c._LAYERREMOVE(stA0);
var stA0 = new vm.net_java_html_leaflet_event_LayerEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "BASELAYERCHANGE", 2);
c._BASELAYERCHANGE(stA0);
var stA0 = new vm.net_java_html_leaflet_event_LayerEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "OVERLAYADD", 3);
c._OVERLAYADD(stA0);
var stA0 = new vm.net_java_html_leaflet_event_LayerEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "OVERLAYREMOVE", 4);
c._OVERLAYREMOVE(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/LayerEvent$Type;', vm.net_java_html_leaflet_event_LayerEvent$Type, 5);
Array.at(stA0, 0, c._LAYERADD());
Array.at(stA0, 1, c._LAYERREMOVE());
Array.at(stA0, 2, c._BASELAYERCHANGE());
Array.at(stA0, 3, c._OVERLAYADD());
Array.at(stA0, 4, c._OVERLAYREMOVE());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_LayerEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_LayerEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_LayerEvent$TypefillInstOf });
    net_java_html_leaflet_event_LayerEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/LayerEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_LayerEvent$Type'] = vm.net_java_html_leaflet_event_LayerEvent$Type;


vm.net_java_html_leaflet_event_LayerListener = function net_java_html_leaflet_event_LayerListener() {
  var m;
  var CLS = net_java_html_leaflet_event_LayerListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_LayerListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_LayerListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_LayerListenerfillInstOf });
    net_java_html_leaflet_event_LayerListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/LayerListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_LayerListener'] = vm.net_java_html_leaflet_event_LayerListener;


vm.net_java_html_leaflet_event_LocationEvent$Type = function net_java_html_leaflet_event_LocationEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_LocationEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_LOCATIONFOUND = null;
  m = c._LOCATIONFOUND = function (v) {  if (arguments.length == 1) CLS.fld_LOCATIONFOUND = v; return CLS.fld_LOCATIONFOUND; };
c['_LOCATIONFOUND'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_LocationEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_LocationEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_LocationEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_LocationEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_LocationEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_LocationEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_LocationEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "LOCATIONFOUND", 0);
c._LOCATIONFOUND(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/LocationEvent$Type;', vm.net_java_html_leaflet_event_LocationEvent$Type, 1);
Array.at(stA0, 0, c._LOCATIONFOUND());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_LocationEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_LocationEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_LocationEvent$TypefillInstOf });
    net_java_html_leaflet_event_LocationEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/LocationEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_LocationEvent$Type'] = vm.net_java_html_leaflet_event_LocationEvent$Type;


vm.net_java_html_leaflet_event_LocationListener = function net_java_html_leaflet_event_LocationListener() {
  var m;
  var CLS = net_java_html_leaflet_event_LocationListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_LocationListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_LocationListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_LocationListenerfillInstOf });
    net_java_html_leaflet_event_LocationListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/LocationListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_LocationListener'] = vm.net_java_html_leaflet_event_LocationListener;


vm.net_java_html_leaflet_event_MouseEvent$Type = function net_java_html_leaflet_event_MouseEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_MouseEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_CLICK = null;
  m = c._CLICK = function (v) {  if (arguments.length == 1) CLS.fld_CLICK = v; return CLS.fld_CLICK; };
c['_CLICK'] = m;

  CLS.fld_DBLCLICK = null;
  m = c._DBLCLICK = function (v) {  if (arguments.length == 1) CLS.fld_DBLCLICK = v; return CLS.fld_DBLCLICK; };
c['_DBLCLICK'] = m;

  CLS.fld_MOUSEDOWN = null;
  m = c._MOUSEDOWN = function (v) {  if (arguments.length == 1) CLS.fld_MOUSEDOWN = v; return CLS.fld_MOUSEDOWN; };
c['_MOUSEDOWN'] = m;

  CLS.fld_MOUSEUP = null;
  m = c._MOUSEUP = function (v) {  if (arguments.length == 1) CLS.fld_MOUSEUP = v; return CLS.fld_MOUSEUP; };
c['_MOUSEUP'] = m;

  CLS.fld_MOUSEOVER = null;
  m = c._MOUSEOVER = function (v) {  if (arguments.length == 1) CLS.fld_MOUSEOVER = v; return CLS.fld_MOUSEOVER; };
c['_MOUSEOVER'] = m;

  CLS.fld_MOUSEOUT = null;
  m = c._MOUSEOUT = function (v) {  if (arguments.length == 1) CLS.fld_MOUSEOUT = v; return CLS.fld_MOUSEOUT; };
c['_MOUSEOUT'] = m;

  CLS.fld_MOUSEMOVE = null;
  m = c._MOUSEMOVE = function (v) {  if (arguments.length == 1) CLS.fld_MOUSEMOVE = v; return CLS.fld_MOUSEMOVE; };
c['_MOUSEMOVE'] = m;

  CLS.fld_CONTEXTMENU = null;
  m = c._CONTEXTMENU = function (v) {  if (arguments.length == 1) CLS.fld_CONTEXTMENU = v; return CLS.fld_CONTEXTMENU; };
c['_CONTEXTMENU'] = m;

  CLS.fld_PRECLICK = null;
  m = c._PRECLICK = function (v) {  if (arguments.length == 1) CLS.fld_PRECLICK = v; return CLS.fld_PRECLICK; };
c['_PRECLICK'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_MouseEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_MouseEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_MouseEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_MouseEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_MouseEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_MouseEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "CLICK", 0);
c._CLICK(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "DBLCLICK", 1);
c._DBLCLICK(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOUSEDOWN", 2);
c._MOUSEDOWN(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOUSEUP", 3);
c._MOUSEUP(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOUSEOVER", 4);
c._MOUSEOVER(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOUSEOUT", 5);
c._MOUSEOUT(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "MOUSEMOVE", (6));
c._MOUSEMOVE(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "CONTEXTMENU", (7));
c._CONTEXTMENU(stA0);
var stA0 = new vm.net_java_html_leaflet_event_MouseEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "PRECLICK", (8));
c._PRECLICK(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/MouseEvent$Type;', vm.net_java_html_leaflet_event_MouseEvent$Type, (9));
Array.at(stA0, 0, c._CLICK());
Array.at(stA0, 1, c._DBLCLICK());
Array.at(stA0, 2, c._MOUSEDOWN());
Array.at(stA0, 3, c._MOUSEUP());
Array.at(stA0, 4, c._MOUSEOVER());
Array.at(stA0, 5, c._MOUSEOUT());
Array.at(stA0, (6), c._MOUSEMOVE());
Array.at(stA0, (7), c._CONTEXTMENU());
Array.at(stA0, (8), c._PRECLICK());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_MouseEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_MouseEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_MouseEvent$TypefillInstOf });
    net_java_html_leaflet_event_MouseEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/MouseEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_MouseEvent$Type'] = vm.net_java_html_leaflet_event_MouseEvent$Type;


vm.net_java_html_leaflet_event_MouseListener = function net_java_html_leaflet_event_MouseListener() {
  var m;
  var CLS = net_java_html_leaflet_event_MouseListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_MouseListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_MouseListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_MouseListenerfillInstOf });
    net_java_html_leaflet_event_MouseListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/MouseListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_MouseListener'] = vm.net_java_html_leaflet_event_MouseListener;


vm.net_java_html_leaflet_event_PopupEvent$Type = function net_java_html_leaflet_event_PopupEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_PopupEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_POPUPOPEN = null;
  m = c._POPUPOPEN = function (v) {  if (arguments.length == 1) CLS.fld_POPUPOPEN = v; return CLS.fld_POPUPOPEN; };
c['_POPUPOPEN'] = m;

  CLS.fld_POPUPCLOSE = null;
  m = c._POPUPCLOSE = function (v) {  if (arguments.length == 1) CLS.fld_POPUPCLOSE = v; return CLS.fld_POPUPCLOSE; };
c['_POPUPCLOSE'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_PopupEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_PopupEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_PopupEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_PopupEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_PopupEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_PopupEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_PopupEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "POPUPOPEN", 0);
c._POPUPOPEN(stA0);
var stA0 = new vm.net_java_html_leaflet_event_PopupEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "POPUPCLOSE", 1);
c._POPUPCLOSE(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/PopupEvent$Type;', vm.net_java_html_leaflet_event_PopupEvent$Type, 2);
Array.at(stA0, 0, c._POPUPOPEN());
Array.at(stA0, 1, c._POPUPCLOSE());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_PopupEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_PopupEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_PopupEvent$TypefillInstOf });
    net_java_html_leaflet_event_PopupEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/PopupEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_PopupEvent$Type'] = vm.net_java_html_leaflet_event_PopupEvent$Type;


vm.net_java_html_leaflet_event_PopupListener = function net_java_html_leaflet_event_PopupListener() {
  var m;
  var CLS = net_java_html_leaflet_event_PopupListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_PopupListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_PopupListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_PopupListenerfillInstOf });
    net_java_html_leaflet_event_PopupListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/PopupListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_PopupListener'] = vm.net_java_html_leaflet_event_PopupListener;


vm.net_java_html_leaflet_event_ResizeEvent$Type = function net_java_html_leaflet_event_ResizeEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_ResizeEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_RESIZE = null;
  m = c._RESIZE = function (v) {  if (arguments.length == 1) CLS.fld_RESIZE = v; return CLS.fld_RESIZE; };
c['_RESIZE'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_ResizeEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_ResizeEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_ResizeEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_ResizeEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_ResizeEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_ResizeEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_ResizeEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "RESIZE", 0);
c._RESIZE(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/ResizeEvent$Type;', vm.net_java_html_leaflet_event_ResizeEvent$Type, 1);
Array.at(stA0, 0, c._RESIZE());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_ResizeEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_ResizeEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_ResizeEvent$TypefillInstOf });
    net_java_html_leaflet_event_ResizeEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/ResizeEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_ResizeEvent$Type'] = vm.net_java_html_leaflet_event_ResizeEvent$Type;


vm.net_java_html_leaflet_event_ResizeListener = function net_java_html_leaflet_event_ResizeListener() {
  var m;
  var CLS = net_java_html_leaflet_event_ResizeListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_ResizeListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_ResizeListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_ResizeListenerfillInstOf });
    net_java_html_leaflet_event_ResizeListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/ResizeListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_ResizeListener'] = vm.net_java_html_leaflet_event_ResizeListener;


vm.net_java_html_leaflet_event_TileEvent$Type = function net_java_html_leaflet_event_TileEvent$Type() {
  var m;
  var CLS = net_java_html_leaflet_event_TileEvent$Type;
  if (!CLS.$class) {
    var pp = vm.java_lang_Enum(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
  CLS.fld_TILELOADSTART = null;
  m = c._TILELOADSTART = function (v) {  if (arguments.length == 1) CLS.fld_TILELOADSTART = v; return CLS.fld_TILELOADSTART; };
c['_TILELOADSTART'] = m;

  CLS.fld_TILELOAD = null;
  m = c._TILELOAD = function (v) {  if (arguments.length == 1) CLS.fld_TILELOAD = v; return CLS.fld_TILELOAD; };
c['_TILELOAD'] = m;

  CLS.fld_TILEUNLOAD = null;
  m = c._TILEUNLOAD = function (v) {  if (arguments.length == 1) CLS.fld_TILEUNLOAD = v; return CLS.fld_TILEUNLOAD; };
c['_TILEUNLOAD'] = m;

  CLS.fld_$VALUES = null;
  m = c._$VALUES = function (v) {  if (arguments.length == 1) CLS.fld_$VALUES = v; return CLS.fld_$VALUES; };
c['_$VALUES'] = m;

    m = c.values___3Lnet_java_html_leaflet_event_TileEvent$Type_2 = function() {
var stA0 = invoker.clone__Ljava_lang_Object_2(c._$VALUES());
if (stA0 !== null && !Array.prototype['isInstance__ZLjava_lang_Object_2ILjava_lang_Object_2'](stA0, 1, vm.net_java_html_leaflet_event_TileEvent$Type)) vm.java_lang_Class(false).castEx();
return stA0;

};
c['values___3Lnet_java_html_leaflet_event_TileEvent$Type_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = c.valueOf__Lnet_java_html_leaflet_event_TileEvent$Type_2Ljava_lang_String_2 = function(lcA0) {
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['valueOf__Ljava_lang_Enum_2Ljava_lang_Class_2Ljava_lang_String_2'](c.constructor.$class, lcA0);
if (stA0 !== null && !stA0['$instOf_net_java_html_leaflet_event_TileEvent$Type']) vm.java_lang_Class(false).castEx();
return stA0;

};
c['valueOf__Lnet_java_html_leaflet_event_TileEvent$Type_2Ljava_lang_String_2'] = m;

    m.access = 9;
    m.cls = CLS;
    m = CLS.cons__VLjava_lang_String_2I = function(lcA1, lcI2) {
  var  lcA0 = this;
(refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false))).constructor['cons__VLjava_lang_String_2I'].call(lcA0, lcA1, lcI2);
return;

};
    m.access = 2;
    m.cls = CLS;
    m = c.toString__Ljava_lang_String_2 = function() {
  var  lcA0 = this;
var stA0 = (refs_java_lang_Enum || (refs_java_lang_Enum = vm.java_lang_Enum(false)))['toString__Ljava_lang_String_2'].call(lcA0);
var stA0 = invoker.toLowerCase__Ljava_lang_String_2(stA0);
return stA0;

};
c['toString__Ljava_lang_String_2'] = m;

    m.access = 1;
    m.cls = CLS;
    m = c.class__V = function() {
var stA0 = new vm.net_java_html_leaflet_event_TileEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "TILELOADSTART", 0);
c._TILELOADSTART(stA0);
var stA0 = new vm.net_java_html_leaflet_event_TileEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "TILELOAD", 1);
c._TILELOAD(stA0);
var stA0 = new vm.net_java_html_leaflet_event_TileEvent$Type;
c.constructor.cons__VLjava_lang_String_2I.call(stA0, "TILEUNLOAD", 2);
c._TILEUNLOAD(stA0);
var stA0 = Array.prototype['newArray__Ljava_lang_Object_2ZLjava_lang_String_2Ljava_lang_Object_2I'](false, '[Lnet/java/html/leaflet/event/TileEvent$Type;', vm.net_java_html_leaflet_event_TileEvent$Type, 3);
Array.at(stA0, 0, c._TILELOADSTART());
Array.at(stA0, 1, c._TILELOAD());
Array.at(stA0, 2, c._TILEUNLOAD());
c._$VALUES(stA0);
return;

};
    m.access = 8;
    m.cls = CLS;
    c.constructor = CLS;
    function net_java_html_leaflet_event_TileEvent$TypefillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_TileEvent$Type', { value : true });
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_TileEvent$TypefillInstOf });
    net_java_html_leaflet_event_TileEvent$TypefillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/TileEvent$Type';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
    ]; };
    CLS.$class.access = 16433;
    CLS.$class.cnstr = CLS;
    c.class__V();
    var refs_java_lang_Enum;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_TileEvent$Type'] = vm.net_java_html_leaflet_event_TileEvent$Type;


vm.net_java_html_leaflet_event_TileListener = function net_java_html_leaflet_event_TileListener() {
  var m;
  var CLS = net_java_html_leaflet_event_TileListener;
  if (!CLS.$class) {
    var pp = vm.java_lang_Object(true);
    var p = CLS.prototype = pp;
    var c = p;
    var sprcls = pp.constructor.$class;
    c.constructor = CLS;
    function net_java_html_leaflet_event_TileListenerfillInstOf(x) {
        Object.defineProperty(x, '$instOf_net_java_html_leaflet_event_TileListener', { value : true });
      vm.net_java_html_leaflet_event_EventListener(false)['fillInstOf'](x);
    }
    if (!c.hasOwnProperty('fillInstOf')) Object.defineProperty(c, 'fillInstOf', { value: net_java_html_leaflet_event_TileListenerfillInstOf });
    net_java_html_leaflet_event_TileListenerfillInstOf(c);
    CLS.$class = 'temp';
    CLS.$class = vm.java_lang_Class(true);
    CLS.$class.jvmName = 'net/java/html/leaflet/event/TileListener';
    CLS.$class.superclass = sprcls;
    CLS.$class.interfaces = function() { return [
        vm.net_java_html_leaflet_event_EventListener(false).constructor.$class
    ]; };
    CLS.$class.access = 1537;
    CLS.$class.cnstr = CLS;
  }
  if (arguments.length === 0) {
    if (!(this instanceof CLS)) {
      return new CLS();
    }
    return this;
  }
  return arguments[0] ? new CLS() : CLS.prototype;
};
exports['net_java_html_leaflet_event_TileListener'] = vm.net_java_html_leaflet_event_TileListener;

  invoker.toJava__Ljava_lang_Object_2Ljava_lang_Object_2 = function(target, p0, p1) {
    return target['toJava__Ljava_lang_Object_2Ljava_lang_Object_2'](p0,p1);
  };
  invoker.close__V = function(target, p0) {
    return target['close__V'](p0);
  };
  invoker.addSuppressed__VLjava_lang_Throwable_2 = function(target, p0, p1) {
    return target['addSuppressed__VLjava_lang_Throwable_2'](p0,p1);
  };
  invoker.get__Ljava_lang_Object_2Ljava_lang_Object_2 = function(target, p0, p1) {
    return target['get__Ljava_lang_Object_2Ljava_lang_Object_2'](p0,p1);
  };
  invoker.put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2 = function(target, p0, p1, p2) {
    return target['put__Ljava_lang_Object_2Ljava_lang_Object_2Ljava_lang_Object_2'](p0,p1,p2);
  };
  invoker.remove__Ljava_lang_Object_2Ljava_lang_Object_2 = function(target, p0, p1) {
    return target['remove__Ljava_lang_Object_2Ljava_lang_Object_2'](p0,p1);
  };
  invoker.onEvent__VLnet_java_html_leaflet_event_Event_2 = function(target, p0, p1) {
    return target['onEvent__VLnet_java_html_leaflet_event_Event_2'](p0,p1);
  };
  invoker.getClass__Ljava_lang_Class_2 = function(target, p0) {
    return target['getClass__Ljava_lang_Class_2'](p0);
  };
  invoker.isArray__Z = function(target, p0) {
    return target['isArray__Z'](p0);
  };
  invoker.keySet__Ljava_util_Set_2 = function(target, p0) {
    return target['keySet__Ljava_util_Set_2'](p0);
  };
  invoker.size__I = function(target, p0) {
    return target['size__I'](p0);
  };
  invoker.toArray___3Ljava_lang_Object_2_3Ljava_lang_Object_2 = function(target, p0, p1) {
    return target['toArray___3Ljava_lang_Object_2_3Ljava_lang_Object_2'](p0,p1);
  };
  invoker.containsKey__ZLjava_lang_Object_2 = function(target, p0, p1) {
    return target['containsKey__ZLjava_lang_Object_2'](p0,p1);
  };
  invoker.iterator__Ljava_util_Iterator_2 = function(target, p0) {
    return target['iterator__Ljava_util_Iterator_2'](p0);
  };
  invoker.hasNext__Z = function(target, p0) {
    return target['hasNext__Z'](p0);
  };
  invoker.next__Ljava_lang_Object_2 = function(target, p0) {
    return target['next__Ljava_lang_Object_2'](p0);
  };
  invoker.add__ZLjava_lang_Object_2 = function(target, p0, p1) {
    return target['add__ZLjava_lang_Object_2'](p0,p1);
  };
  invoker.isEmpty__Z = function(target, p0) {
    return target['isEmpty__Z'](p0);
  };
  invoker.get__Ljava_lang_Object_2I = function(target, p0, p1) {
    return target['get__Ljava_lang_Object_2I'](p0,p1);
  };
  invoker.closePopup__Lnet_java_html_leaflet_Circle_2 = function(target, p0) {
    return target['closePopup__Lnet_java_html_leaflet_Circle_2'](p0);
  };
  invoker.openPopup__Lnet_java_html_leaflet_Circle_2 = function(target, p0) {
    return target['openPopup__Lnet_java_html_leaflet_Circle_2'](p0);
  };
  invoker.unbindPopup__Lnet_java_html_leaflet_Circle_2 = function(target, p0) {
    return target['unbindPopup__Lnet_java_html_leaflet_Circle_2'](p0);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(target, p0, p1, p2) {
    return target['bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'](p0,p1,p2);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Popup_2'](p0,p1);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_Circle_2Ljava_lang_String_2'](p0,p1);
  };
  invoker.redraw__Lnet_java_html_leaflet_Circle_2 = function(target, p0) {
    return target['redraw__Lnet_java_html_leaflet_Circle_2'](p0);
  };
  invoker.bringToBack__Lnet_java_html_leaflet_Circle_2 = function(target, p0) {
    return target['bringToBack__Lnet_java_html_leaflet_Circle_2'](p0);
  };
  invoker.bringToFront__Lnet_java_html_leaflet_Circle_2 = function(target, p0) {
    return target['bringToFront__Lnet_java_html_leaflet_Circle_2'](p0);
  };
  invoker.setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2 = function(target, p0, p1) {
    return target['setStyle__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_PathOptions_2'](p0,p1);
  };
  invoker.addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2 = function(target, p0, p1) {
    return target['addTo__Lnet_java_html_leaflet_Circle_2Lnet_java_html_leaflet_Map_2'](p0,p1);
  };
  invoker.closePopup__Lnet_java_html_leaflet_CircleMarker_2 = function(target, p0) {
    return target['closePopup__Lnet_java_html_leaflet_CircleMarker_2'](p0);
  };
  invoker.openPopup__Lnet_java_html_leaflet_CircleMarker_2 = function(target, p0) {
    return target['openPopup__Lnet_java_html_leaflet_CircleMarker_2'](p0);
  };
  invoker.unbindPopup__Lnet_java_html_leaflet_CircleMarker_2 = function(target, p0) {
    return target['unbindPopup__Lnet_java_html_leaflet_CircleMarker_2'](p0);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(target, p0, p1, p2) {
    return target['bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'](p0,p1,p2);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Popup_2'](p0,p1);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_CircleMarker_2Ljava_lang_String_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_CircleMarker_2Ljava_lang_String_2'](p0,p1);
  };
  invoker.redraw__Lnet_java_html_leaflet_CircleMarker_2 = function(target, p0) {
    return target['redraw__Lnet_java_html_leaflet_CircleMarker_2'](p0);
  };
  invoker.bringToBack__Lnet_java_html_leaflet_CircleMarker_2 = function(target, p0) {
    return target['bringToBack__Lnet_java_html_leaflet_CircleMarker_2'](p0);
  };
  invoker.bringToFront__Lnet_java_html_leaflet_CircleMarker_2 = function(target, p0) {
    return target['bringToFront__Lnet_java_html_leaflet_CircleMarker_2'](p0);
  };
  invoker.setStyle__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_PathOptions_2 = function(target, p0, p1) {
    return target['setStyle__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_PathOptions_2'](p0,p1);
  };
  invoker.addTo__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Map_2 = function(target, p0, p1) {
    return target['addTo__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_Map_2'](p0,p1);
  };
  invoker.setRadius__Lnet_java_html_leaflet_CircleMarker_2D = function(target, p0, p1) {
    return target['setRadius__Lnet_java_html_leaflet_CircleMarker_2D'](p0,p1);
  };
  invoker.setLatLng__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_LatLng_2 = function(target, p0, p1) {
    return target['setLatLng__Lnet_java_html_leaflet_CircleMarker_2Lnet_java_html_leaflet_LatLng_2'](p0,p1);
  };
  invoker.values__Ljava_util_Collection_2 = function(target, p0) {
    return target['values__Ljava_util_Collection_2'](p0);
  };
  invoker.clearLayers__Lnet_java_html_leaflet_FeatureGroup_2 = function(target, p0) {
    return target['clearLayers__Lnet_java_html_leaflet_FeatureGroup_2'](p0);
  };
  invoker.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2 = function(target, p0, p1) {
    return target['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Ljava_lang_String_2'](p0,p1);
  };
  invoker.removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(target, p0, p1) {
    return target['removeLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'](p0,p1);
  };
  invoker.addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2 = function(target, p0, p1) {
    return target['addLayer__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_ILayer_2'](p0,p1);
  };
  invoker.addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2 = function(target, p0, p1) {
    return target['addTo__Lnet_java_html_leaflet_FeatureGroup_2Lnet_java_html_leaflet_Map_2'](p0,p1);
  };
  invoker.closePopup__Lnet_java_html_leaflet_PolyLine_2 = function(target, p0) {
    return target['closePopup__Lnet_java_html_leaflet_PolyLine_2'](p0);
  };
  invoker.openPopup__Lnet_java_html_leaflet_PolyLine_2 = function(target, p0) {
    return target['openPopup__Lnet_java_html_leaflet_PolyLine_2'](p0);
  };
  invoker.unbindPopup__Lnet_java_html_leaflet_PolyLine_2 = function(target, p0) {
    return target['unbindPopup__Lnet_java_html_leaflet_PolyLine_2'](p0);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(target, p0, p1, p2) {
    return target['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'](p0,p1,p2);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Popup_2'](p0,p1);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_PolyLine_2Ljava_lang_String_2'](p0,p1);
  };
  invoker.redraw__Lnet_java_html_leaflet_PolyLine_2 = function(target, p0) {
    return target['redraw__Lnet_java_html_leaflet_PolyLine_2'](p0);
  };
  invoker.bringToBack__Lnet_java_html_leaflet_PolyLine_2 = function(target, p0) {
    return target['bringToBack__Lnet_java_html_leaflet_PolyLine_2'](p0);
  };
  invoker.bringToFront__Lnet_java_html_leaflet_PolyLine_2 = function(target, p0) {
    return target['bringToFront__Lnet_java_html_leaflet_PolyLine_2'](p0);
  };
  invoker.setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2 = function(target, p0, p1) {
    return target['setStyle__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_PathOptions_2'](p0,p1);
  };
  invoker.addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2 = function(target, p0, p1) {
    return target['addTo__Lnet_java_html_leaflet_PolyLine_2Lnet_java_html_leaflet_Map_2'](p0,p1);
  };
  invoker.closePopup__Lnet_java_html_leaflet_Polygon_2 = function(target, p0) {
    return target['closePopup__Lnet_java_html_leaflet_Polygon_2'](p0);
  };
  invoker.openPopup__Lnet_java_html_leaflet_Polygon_2 = function(target, p0) {
    return target['openPopup__Lnet_java_html_leaflet_Polygon_2'](p0);
  };
  invoker.unbindPopup__Lnet_java_html_leaflet_Polygon_2 = function(target, p0) {
    return target['unbindPopup__Lnet_java_html_leaflet_Polygon_2'](p0);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2 = function(target, p0, p1, p2) {
    return target['bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2Lnet_java_html_leaflet_PopupOptions_2'](p0,p1,p2);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Popup_2'](p0,p1);
  };
  invoker.bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2 = function(target, p0, p1) {
    return target['bindPopup__Lnet_java_html_leaflet_Polygon_2Ljava_lang_String_2'](p0,p1);
  };
  invoker.redraw__Lnet_java_html_leaflet_Polygon_2 = function(target, p0) {
    return target['redraw__Lnet_java_html_leaflet_Polygon_2'](p0);
  };
  invoker.bringToBack__Lnet_java_html_leaflet_Polygon_2 = function(target, p0) {
    return target['bringToBack__Lnet_java_html_leaflet_Polygon_2'](p0);
  };
  invoker.bringToFront__Lnet_java_html_leaflet_Polygon_2 = function(target, p0) {
    return target['bringToFront__Lnet_java_html_leaflet_Polygon_2'](p0);
  };
  invoker.setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2 = function(target, p0, p1) {
    return target['setStyle__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_PathOptions_2'](p0,p1);
  };
  invoker.addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2 = function(target, p0, p1) {
    return target['addTo__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_Map_2'](p0,p1);
  };
  invoker.setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2 = function(target, p0, p1) {
    return target['setLatLngs__Lnet_java_html_leaflet_Polygon_2_3Lnet_java_html_leaflet_LatLng_2'](p0,p1);
  };
  invoker.addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2 = function(target, p0, p1) {
    return target['addLatLng__Lnet_java_html_leaflet_Polygon_2Lnet_java_html_leaflet_LatLng_2'](p0,p1);
  };
  invoker.clone__Ljava_lang_Object_2 = function(target, p0) {
    return target['clone__Ljava_lang_Object_2'](p0);
  };
  invoker.toLowerCase__Ljava_lang_String_2 = function(target, p0) {
    return target['toLowerCase__Ljava_lang_String_2'](p0);
  };
  exports['registerResource']('META-INF/MANIFEST.MF', 'TWFuaWZlc3QtVmVyc2lvbjogMS4wDQpCbmQtTGFzdE1vZGlmaWVkOiAxNDMwOTM0Njk1NTM1DQpCdWlsZC1KZGs6IDEuOC4wXzQwDQpCdWlsdC1CeTogamFyZGENCkJ1bmRsZS1MaWNlbnNlOiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwDQpCdW5kbGUtTWFuaWZlc3RWZXJzaW9uOiAyDQpCdW5kbGUtTmFtZTogTGVhZmxldCBKYXZhIEFQSQ0KQnVuZGxlLVN5bWJvbGljTmFtZTogY29tLmR1a2VzY3JpcHQuYXBpLmxlYWZsZXQ0ag0KQnVuZGxlLVZlcnNpb246IDEuMC4wLlNOQVBTSE9UDQpDcmVhdGVkLUJ5OiBBcGFjaGUgTWF2ZW4gQnVuZGxlIFBsdWdpbg0KRXhwb3J0LVBhY2thZ2U6IG5ldC5qYXZhLmh0bWwubGVhZmxldDt1c2VzOj0ibmV0LmphdmEuaHRtbC5sZWFmbGV0LmV2ZW50DQogIjt2ZXJzaW9uPSIxLjAuMC5TTkFQU0hPVCIsbmV0LmphdmEuaHRtbC5sZWFmbGV0LmV2ZW50O3VzZXM6PSJuZXQuamF2YS4NCiBodG1sLmxlYWZsZXQiO3ZlcnNpb249IjEuMC4wLlNOQVBTSE9UIg0KSW1wb3J0LVBhY2thZ2U6IG9yZy5uZXRiZWFucy5odG1sLmJvb3Quc3BpO3ZlcnNpb249IlsxLjEsMikiDQpUb29sOiBCbmQtMi4xLjAuMjAxMzA0MjYtMTIyMjEzDQo=');
  exports['registerResource']('net/java/html/leaflet/leaflet-src.js', 'LyoNCiAqIFRoZSBNSVQgTGljZW5zZSAoTUlUKQ0KICoNCiAqIENvcHlyaWdodCAoQykgMjAxNCBKYXJvc2xhdiBUdWxhY2ggPGphcm9zbGF2LnR1bGFjaEBhcGlkZXNpZ24ub3JnPg0KICoNCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkNCiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsDQogKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzDQogKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsDQogKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMNCiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6DQogKg0KICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4NCiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLg0KICoNCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SDQogKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwNCiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQ0KICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUg0KICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwNCiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4NCiAqIFRIRSBTT0ZUV0FSRS4NCiAqLw0KLyoKIExlYWZsZXQsIGEgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBtb2JpbGUtZnJpZW5kbHkgaW50ZXJhY3RpdmUgbWFwcy4gaHR0cDovL2xlYWZsZXRqcy5jb20KIChjKSAyMDEwLTIwMTMsIFZsYWRpbWlyIEFnYWZvbmtpbgogKGMpIDIwMTAtMjAxMSwgQ2xvdWRNYWRlCiovCihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7DQp2YXIgb2xkTCA9IHdpbmRvdy5MLA0KICAgIEwgPSB7fTsNCg0KTC52ZXJzaW9uID0gJzAuNy4yJzsNCg0KLy8gZGVmaW5lIExlYWZsZXQgZm9yIE5vZGUgbW9kdWxlIHBhdHRlcm4gbG9hZGVycywgaW5jbHVkaW5nIEJyb3dzZXJpZnkNCmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7DQoJbW9kdWxlLmV4cG9ydHMgPSBMOw0KDQovLyBkZWZpbmUgTGVhZmxldCBhcyBhbiBBTUQgbW9kdWxlDQp9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgew0KCWRlZmluZShMKTsNCn0NCg0KLy8gZGVmaW5lIExlYWZsZXQgYXMgYSBnbG9iYWwgTCB2YXJpYWJsZSwgc2F2aW5nIHRoZSBvcmlnaW5hbCBMIHRvIHJlc3RvcmUgbGF0ZXIgaWYgbmVlZGVkDQoNCkwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHsNCgl3aW5kb3cuTCA9IG9sZEw7DQoJcmV0dXJuIHRoaXM7DQp9Ow0KDQp3aW5kb3cuTCA9IEw7DQoKCi8qDQogKiBMLlV0aWwgY29udGFpbnMgdmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyB1c2VkIHRocm91Z2hvdXQgTGVhZmxldCBjb2RlLg0KICovDQoNCkwuVXRpbCA9IHsNCglleHRlbmQ6IGZ1bmN0aW9uIChkZXN0KSB7IC8vIChPYmplY3RbLCBPYmplY3QsIC4uLl0pIC0+DQoJCXZhciBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwNCgkJICAgIGksIGosIGxlbiwgc3JjOw0KDQoJCWZvciAoaiA9IDAsIGxlbiA9IHNvdXJjZXMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHsNCgkJCXNyYyA9IHNvdXJjZXNbal0gfHwge307DQoJCQlmb3IgKGkgaW4gc3JjKSB7DQoJCQkJaWYgKHNyYy5oYXNPd25Qcm9wZXJ0eShpKSkgew0KCQkJCQlkZXN0W2ldID0gc3JjW2ldOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlyZXR1cm4gZGVzdDsNCgl9LA0KDQoJYmluZDogZnVuY3Rpb24gKGZuLCBvYmopIHsgLy8gKEZ1bmN0aW9uLCBPYmplY3QpIC0+IEZ1bmN0aW9uDQoJCXZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIDogbnVsbDsNCgkJcmV0dXJuIGZ1bmN0aW9uICgpIHsNCgkJCXJldHVybiBmbi5hcHBseShvYmosIGFyZ3MgfHwgYXJndW1lbnRzKTsNCgkJfTsNCgl9LA0KDQoJc3RhbXA6IChmdW5jdGlvbiAoKSB7DQoJCXZhciBsYXN0SWQgPSAwLA0KCQkgICAga2V5ID0gJ19sZWFmbGV0X2lkJzsNCgkJcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsNCgkJCW9ialtrZXldID0gb2JqW2tleV0gfHwgKytsYXN0SWQ7DQoJCQlyZXR1cm4gb2JqW2tleV07DQoJCX07DQoJfSgpKSwNCg0KCWludm9rZUVhY2g6IGZ1bmN0aW9uIChvYmosIG1ldGhvZCwgY29udGV4dCkgew0KCQl2YXIgaSwgYXJnczsNCg0KCQlpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHsNCgkJCWFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpOw0KDQoJCQlmb3IgKGkgaW4gb2JqKSB7DQoJCQkJbWV0aG9kLmFwcGx5KGNvbnRleHQsIFtpLCBvYmpbaV1dLmNvbmNhdChhcmdzKSk7DQoJCQl9DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfQ0KDQoJCXJldHVybiBmYWxzZTsNCgl9LA0KDQoJbGltaXRFeGVjQnlJbnRlcnZhbDogZnVuY3Rpb24gKGZuLCB0aW1lLCBjb250ZXh0KSB7DQoJCXZhciBsb2NrLCBleGVjT25VbmxvY2s7DQoNCgkJcmV0dXJuIGZ1bmN0aW9uIHdyYXBwZXJGbigpIHsNCgkJCXZhciBhcmdzID0gYXJndW1lbnRzOw0KDQoJCQlpZiAobG9jaykgew0KCQkJCWV4ZWNPblVubG9jayA9IHRydWU7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQlsb2NrID0gdHJ1ZTsNCg0KCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQoJCQkJbG9jayA9IGZhbHNlOw0KDQoJCQkJaWYgKGV4ZWNPblVubG9jaykgew0KCQkJCQl3cmFwcGVyRm4uYXBwbHkoY29udGV4dCwgYXJncyk7DQoJCQkJCWV4ZWNPblVubG9jayA9IGZhbHNlOw0KCQkJCX0NCgkJCX0sIHRpbWUpOw0KDQoJCQlmbi5hcHBseShjb250ZXh0LCBhcmdzKTsNCgkJfTsNCgl9LA0KDQoJZmFsc2VGbjogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gZmFsc2U7DQoJfSwNCg0KCWZvcm1hdE51bTogZnVuY3Rpb24gKG51bSwgZGlnaXRzKSB7DQoJCXZhciBwb3cgPSBNYXRoLnBvdygxMCwgZGlnaXRzIHx8IDUpOw0KCQlyZXR1cm4gTWF0aC5yb3VuZChudW0gKiBwb3cpIC8gcG93Ow0KCX0sDQoNCgl0cmltOiBmdW5jdGlvbiAoc3RyKSB7DQoJCXJldHVybiBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXlxzK3xccyskL2csICcnKTsNCgl9LA0KDQoJc3BsaXRXb3JkczogZnVuY3Rpb24gKHN0cikgew0KCQlyZXR1cm4gTC5VdGlsLnRyaW0oc3RyKS5zcGxpdCgvXHMrLyk7DQoJfSwNCg0KCXNldE9wdGlvbnM6IGZ1bmN0aW9uIChvYmosIG9wdGlvbnMpIHsNCgkJb2JqLm9wdGlvbnMgPSBMLmV4dGVuZCh7fSwgb2JqLm9wdGlvbnMsIG9wdGlvbnMpOw0KCQlyZXR1cm4gb2JqLm9wdGlvbnM7DQoJfSwNCg0KCWdldFBhcmFtU3RyaW5nOiBmdW5jdGlvbiAob2JqLCBleGlzdGluZ1VybCwgdXBwZXJjYXNlKSB7DQoJCXZhciBwYXJhbXMgPSBbXTsNCgkJZm9yICh2YXIgaSBpbiBvYmopIHsNCgkJCXBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh1cHBlcmNhc2UgPyBpLnRvVXBwZXJDYXNlKCkgOiBpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pKTsNCgkJfQ0KCQlyZXR1cm4gKCghZXhpc3RpbmdVcmwgfHwgZXhpc3RpbmdVcmwuaW5kZXhPZignPycpID09PSAtMSkgPyAnPycgOiAnJicpICsgcGFyYW1zLmpvaW4oJyYnKTsNCgl9LA0KCXRlbXBsYXRlOiBmdW5jdGlvbiAoc3RyLCBkYXRhKSB7DQoJCXJldHVybiBzdHIucmVwbGFjZSgvXHsgKihbXHdfXSspICpcfS9nLCBmdW5jdGlvbiAoc3RyLCBrZXkpIHsNCgkJCXZhciB2YWx1ZSA9IGRhdGFba2V5XTsNCgkJCWlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7DQoJCQkJdGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZSBwcm92aWRlZCBmb3IgdmFyaWFibGUgJyArIHN0cik7DQoJCQl9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgew0KCQkJCXZhbHVlID0gdmFsdWUoZGF0YSk7DQoJCQl9DQoJCQlyZXR1cm4gdmFsdWU7DQoJCX0pOw0KCX0sDQoNCglpc0FycmF5OiBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChvYmopIHsNCgkJcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJyk7DQoJfSwNCg0KCWVtcHR5SW1hZ2VVcmw6ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFEL0FDd0FBQUFBQVFBQkFBQUNBRHM9Jw0KfTsNCg0KKGZ1bmN0aW9uICgpIHsNCg0KCS8vIGluc3BpcmVkIGJ5IGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvDQoNCglmdW5jdGlvbiBnZXRQcmVmaXhlZChuYW1lKSB7DQoJCXZhciBpLCBmbiwNCgkJICAgIHByZWZpeGVzID0gWyd3ZWJraXQnLCAnbW96JywgJ28nLCAnbXMnXTsNCg0KCQlmb3IgKGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoICYmICFmbjsgaSsrKSB7DQoJCQlmbiA9IHdpbmRvd1twcmVmaXhlc1tpXSArIG5hbWVdOw0KCQl9DQoNCgkJcmV0dXJuIGZuOw0KCX0NCg0KCXZhciBsYXN0VGltZSA9IDA7DQoNCglmdW5jdGlvbiB0aW1lb3V0RGVmZXIoZm4pIHsNCgkJdmFyIHRpbWUgPSArbmV3IERhdGUoKSwNCgkJICAgIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtICh0aW1lIC0gbGFzdFRpbWUpKTsNCg0KCQlsYXN0VGltZSA9IHRpbWUgKyB0aW1lVG9DYWxsOw0KCQlyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIHRpbWVUb0NhbGwpOw0KCX0NCg0KCXZhciByZXF1ZXN0Rm4gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8DQoJICAgICAgICBnZXRQcmVmaXhlZCgnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJykgfHwgdGltZW91dERlZmVyOw0KDQoJdmFyIGNhbmNlbEZuID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8DQoJICAgICAgICBnZXRQcmVmaXhlZCgnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnKSB8fA0KCSAgICAgICAgZ2V0UHJlZml4ZWQoJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZScpIHx8DQoJICAgICAgICBmdW5jdGlvbiAoaWQpIHsgd2luZG93LmNsZWFyVGltZW91dChpZCk7IH07DQoNCg0KCUwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lID0gZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBpbW1lZGlhdGUsIGVsZW1lbnQpIHsNCgkJZm4gPSBMLmJpbmQoZm4sIGNvbnRleHQpOw0KDQoJCWlmIChpbW1lZGlhdGUgJiYgcmVxdWVzdEZuID09PSB0aW1lb3V0RGVmZXIpIHsNCgkJCWZuKCk7DQoJCX0gZWxzZSB7DQoJCQlyZXR1cm4gcmVxdWVzdEZuLmNhbGwod2luZG93LCBmbiwgZWxlbWVudCk7DQoJCX0NCgl9Ow0KDQoJTC5VdGlsLmNhbmNlbEFuaW1GcmFtZSA9IGZ1bmN0aW9uIChpZCkgew0KCQlpZiAoaWQpIHsNCgkJCWNhbmNlbEZuLmNhbGwod2luZG93LCBpZCk7DQoJCX0NCgl9Ow0KDQp9KCkpOw0KDQovLyBzaG9ydGN1dHMgZm9yIG1vc3QgdXNlZCB1dGlsaXR5IGZ1bmN0aW9ucw0KTC5leHRlbmQgPSBMLlV0aWwuZXh0ZW5kOw0KTC5iaW5kID0gTC5VdGlsLmJpbmQ7DQpMLnN0YW1wID0gTC5VdGlsLnN0YW1wOw0KTC5zZXRPcHRpb25zID0gTC5VdGlsLnNldE9wdGlvbnM7DQoKCi8qDQogKiBMLkNsYXNzIHBvd2VycyB0aGUgT09QIGZhY2lsaXRpZXMgb2YgdGhlIGxpYnJhcnkuDQogKiBUaGFua3MgdG8gSm9obiBSZXNpZyBhbmQgRGVhbiBFZHdhcmRzIGZvciBpbnNwaXJhdGlvbiENCiAqLw0KDQpMLkNsYXNzID0gZnVuY3Rpb24gKCkge307DQoNCkwuQ2xhc3MuZXh0ZW5kID0gZnVuY3Rpb24gKHByb3BzKSB7DQoNCgkvLyBleHRlbmRlZCBjbGFzcyB3aXRoIHRoZSBuZXcgcHJvdG90eXBlDQoJdmFyIE5ld0NsYXNzID0gZnVuY3Rpb24gKCkgew0KDQoJCS8vIGNhbGwgdGhlIGNvbnN0cnVjdG9yDQoJCWlmICh0aGlzLmluaXRpYWxpemUpIHsNCgkJCXRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOw0KCQl9DQoNCgkJLy8gY2FsbCBhbGwgY29uc3RydWN0b3IgaG9va3MNCgkJaWYgKHRoaXMuX2luaXRIb29rcykgew0KCQkJdGhpcy5jYWxsSW5pdEhvb2tzKCk7DQoJCX0NCgl9Ow0KDQoJLy8gaW5zdGFudGlhdGUgY2xhc3Mgd2l0aG91dCBjYWxsaW5nIGNvbnN0cnVjdG9yDQoJdmFyIEYgPSBmdW5jdGlvbiAoKSB7fTsNCglGLnByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlOw0KDQoJdmFyIHByb3RvID0gbmV3IEYoKTsNCglwcm90by5jb25zdHJ1Y3RvciA9IE5ld0NsYXNzOw0KDQoJTmV3Q2xhc3MucHJvdG90eXBlID0gcHJvdG87DQoNCgkvL2luaGVyaXQgcGFyZW50J3Mgc3RhdGljcw0KCWZvciAodmFyIGkgaW4gdGhpcykgew0KCQlpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpICE9PSAncHJvdG90eXBlJykgew0KCQkJTmV3Q2xhc3NbaV0gPSB0aGlzW2ldOw0KCQl9DQoJfQ0KDQoJLy8gbWl4IHN0YXRpYyBwcm9wZXJ0aWVzIGludG8gdGhlIGNsYXNzDQoJaWYgKHByb3BzLnN0YXRpY3MpIHsNCgkJTC5leHRlbmQoTmV3Q2xhc3MsIHByb3BzLnN0YXRpY3MpOw0KCQlkZWxldGUgcHJvcHMuc3RhdGljczsNCgl9DQoNCgkvLyBtaXggaW5jbHVkZXMgaW50byB0aGUgcHJvdG90eXBlDQoJaWYgKHByb3BzLmluY2x1ZGVzKSB7DQoJCUwuVXRpbC5leHRlbmQuYXBwbHkobnVsbCwgW3Byb3RvXS5jb25jYXQocHJvcHMuaW5jbHVkZXMpKTsNCgkJZGVsZXRlIHByb3BzLmluY2x1ZGVzOw0KCX0NCg0KCS8vIG1lcmdlIG9wdGlvbnMNCglpZiAocHJvcHMub3B0aW9ucyAmJiBwcm90by5vcHRpb25zKSB7DQoJCXByb3BzLm9wdGlvbnMgPSBMLmV4dGVuZCh7fSwgcHJvdG8ub3B0aW9ucywgcHJvcHMub3B0aW9ucyk7DQoJfQ0KDQoJLy8gbWl4IGdpdmVuIHByb3BlcnRpZXMgaW50byB0aGUgcHJvdG90eXBlDQoJTC5leHRlbmQocHJvdG8sIHByb3BzKTsNCg0KCXByb3RvLl9pbml0SG9va3MgPSBbXTsNCg0KCXZhciBwYXJlbnQgPSB0aGlzOw0KCS8vIGpzaGludCBjYW1lbGNhc2U6IGZhbHNlDQoJTmV3Q2xhc3MuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsNCg0KCS8vIGFkZCBtZXRob2QgZm9yIGNhbGxpbmcgYWxsIGhvb2tzDQoJcHJvdG8uY2FsbEluaXRIb29rcyA9IGZ1bmN0aW9uICgpIHsNCg0KCQlpZiAodGhpcy5faW5pdEhvb2tzQ2FsbGVkKSB7IHJldHVybjsgfQ0KDQoJCWlmIChwYXJlbnQucHJvdG90eXBlLmNhbGxJbml0SG9va3MpIHsNCgkJCXBhcmVudC5wcm90b3R5cGUuY2FsbEluaXRIb29rcy5jYWxsKHRoaXMpOw0KCQl9DQoNCgkJdGhpcy5faW5pdEhvb2tzQ2FsbGVkID0gdHJ1ZTsNCg0KCQlmb3IgKHZhciBpID0gMCwgbGVuID0gcHJvdG8uX2luaXRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJcHJvdG8uX2luaXRIb29rc1tpXS5jYWxsKHRoaXMpOw0KCQl9DQoJfTsNCg0KCXJldHVybiBOZXdDbGFzczsNCn07DQoNCg0KLy8gbWV0aG9kIGZvciBhZGRpbmcgcHJvcGVydGllcyB0byBwcm90b3R5cGUNCkwuQ2xhc3MuaW5jbHVkZSA9IGZ1bmN0aW9uIChwcm9wcykgew0KCUwuZXh0ZW5kKHRoaXMucHJvdG90eXBlLCBwcm9wcyk7DQp9Ow0KDQovLyBtZXJnZSBuZXcgZGVmYXVsdCBvcHRpb25zIHRvIHRoZSBDbGFzcw0KTC5DbGFzcy5tZXJnZU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykgew0KCUwuZXh0ZW5kKHRoaXMucHJvdG90eXBlLm9wdGlvbnMsIG9wdGlvbnMpOw0KfTsNCg0KLy8gYWRkIGEgY29uc3RydWN0b3IgaG9vaw0KTC5DbGFzcy5hZGRJbml0SG9vayA9IGZ1bmN0aW9uIChmbikgeyAvLyAoRnVuY3Rpb24pIHx8IChTdHJpbmcsIGFyZ3MuLi4pDQoJdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOw0KDQoJdmFyIGluaXQgPSB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgPyBmbiA6IGZ1bmN0aW9uICgpIHsNCgkJdGhpc1tmbl0uYXBwbHkodGhpcywgYXJncyk7DQoJfTsNCg0KCXRoaXMucHJvdG90eXBlLl9pbml0SG9va3MgPSB0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzIHx8IFtdOw0KCXRoaXMucHJvdG90eXBlLl9pbml0SG9va3MucHVzaChpbml0KTsNCn07DQoKCi8qDQogKiBMLk1peGluLkV2ZW50cyBpcyB1c2VkIHRvIGFkZCBjdXN0b20gZXZlbnRzIGZ1bmN0aW9uYWxpdHkgdG8gTGVhZmxldCBjbGFzc2VzLg0KICovDQoNCnZhciBldmVudHNLZXkgPSAnX2xlYWZsZXRfZXZlbnRzJzsNCg0KTC5NaXhpbiA9IHt9Ow0KDQpMLk1peGluLkV2ZW50cyA9IHsNCg0KCWFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHsgLy8gKFN0cmluZywgRnVuY3Rpb25bLCBPYmplY3RdKSBvciAoT2JqZWN0WywgT2JqZWN0XSkNCg0KCQkvLyB0eXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnMNCgkJaWYgKEwuVXRpbC5pbnZva2VFYWNoKHR5cGVzLCB0aGlzLmFkZEV2ZW50TGlzdGVuZXIsIHRoaXMsIGZuLCBjb250ZXh0KSkgeyByZXR1cm4gdGhpczsgfQ0KDQoJCXZhciBldmVudHMgPSB0aGlzW2V2ZW50c0tleV0gPSB0aGlzW2V2ZW50c0tleV0gfHwge30sDQoJCSAgICBjb250ZXh0SWQgPSBjb250ZXh0ICYmIGNvbnRleHQgIT09IHRoaXMgJiYgTC5zdGFtcChjb250ZXh0KSwNCgkJICAgIGksIGxlbiwgZXZlbnQsIHR5cGUsIGluZGV4S2V5LCBpbmRleExlbktleSwgdHlwZUluZGV4Ow0KDQoJCS8vIHR5cGVzIGNhbiBiZSBhIHN0cmluZyBvZiBzcGFjZS1zZXBhcmF0ZWQgd29yZHMNCgkJdHlwZXMgPSBMLlV0aWwuc3BsaXRXb3Jkcyh0eXBlcyk7DQoNCgkJZm9yIChpID0gMCwgbGVuID0gdHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCWV2ZW50ID0gew0KCQkJCWFjdGlvbjogZm4sDQoJCQkJY29udGV4dDogY29udGV4dCB8fCB0aGlzDQoJCQl9Ow0KCQkJdHlwZSA9IHR5cGVzW2ldOw0KDQoJCQlpZiAoY29udGV4dElkKSB7DQoJCQkJLy8gc3RvcmUgbGlzdGVuZXJzIG9mIGEgcGFydGljdWxhciBjb250ZXh0IGluIGEgc2VwYXJhdGUgaGFzaCAoaWYgaXQgaGFzIGFuIGlkKQ0KCQkJCS8vIGdpdmVzIGEgbWFqb3IgcGVyZm9ybWFuY2UgYm9vc3Qgd2hlbiByZW1vdmluZyB0aG91c2FuZHMgb2YgbWFwIGxheWVycw0KDQoJCQkJaW5kZXhLZXkgPSB0eXBlICsgJ19pZHgnOw0KCQkJCWluZGV4TGVuS2V5ID0gaW5kZXhLZXkgKyAnX2xlbic7DQoNCgkJCQl0eXBlSW5kZXggPSBldmVudHNbaW5kZXhLZXldID0gZXZlbnRzW2luZGV4S2V5XSB8fCB7fTsNCg0KCQkJCWlmICghdHlwZUluZGV4W2NvbnRleHRJZF0pIHsNCgkJCQkJdHlwZUluZGV4W2NvbnRleHRJZF0gPSBbXTsNCg0KCQkJCQkvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGUgaW5kZXggdG8gcXVpY2tseSBjaGVjayBpZiBpdCdzIGVtcHR5DQoJCQkJCWV2ZW50c1tpbmRleExlbktleV0gPSAoZXZlbnRzW2luZGV4TGVuS2V5XSB8fCAwKSArIDE7DQoJCQkJfQ0KDQoJCQkJdHlwZUluZGV4W2NvbnRleHRJZF0ucHVzaChldmVudCk7DQoNCg0KCQkJfSBlbHNlIHsNCgkJCQlldmVudHNbdHlwZV0gPSBldmVudHNbdHlwZV0gfHwgW107DQoJCQkJZXZlbnRzW3R5cGVdLnB1c2goZXZlbnQpOw0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWhhc0V2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiAodHlwZSkgeyAvLyAoU3RyaW5nKSAtPiBCb29sZWFuDQoJCXZhciBldmVudHMgPSB0aGlzW2V2ZW50c0tleV07DQoJCXJldHVybiAhIWV2ZW50cyAmJiAoKHR5cGUgaW4gZXZlbnRzICYmIGV2ZW50c1t0eXBlXS5sZW5ndGggPiAwKSB8fA0KCQkgICAgICAgICAgICAgICAgICAgICh0eXBlICsgJ19pZHgnIGluIGV2ZW50cyAmJiBldmVudHNbdHlwZSArICdfaWR4X2xlbiddID4gMCkpOw0KCX0sDQoNCglyZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZXMsIGZuLCBjb250ZXh0KSB7IC8vIChbU3RyaW5nLCBGdW5jdGlvbiwgT2JqZWN0XSkgb3IgKE9iamVjdFssIE9iamVjdF0pDQoNCgkJaWYgKCF0aGlzW2V2ZW50c0tleV0pIHsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoNCgkJaWYgKCF0eXBlcykgew0KCQkJcmV0dXJuIHRoaXMuY2xlYXJBbGxFdmVudExpc3RlbmVycygpOw0KCQl9DQoNCgkJaWYgKEwuVXRpbC5pbnZva2VFYWNoKHR5cGVzLCB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIsIHRoaXMsIGZuLCBjb250ZXh0KSkgeyByZXR1cm4gdGhpczsgfQ0KDQoJCXZhciBldmVudHMgPSB0aGlzW2V2ZW50c0tleV0sDQoJCSAgICBjb250ZXh0SWQgPSBjb250ZXh0ICYmIGNvbnRleHQgIT09IHRoaXMgJiYgTC5zdGFtcChjb250ZXh0KSwNCgkJICAgIGksIGxlbiwgdHlwZSwgbGlzdGVuZXJzLCBqLCBpbmRleEtleSwgaW5kZXhMZW5LZXksIHR5cGVJbmRleCwgcmVtb3ZlZDsNCg0KCQl0eXBlcyA9IEwuVXRpbC5zcGxpdFdvcmRzKHR5cGVzKTsNCg0KCQlmb3IgKGkgPSAwLCBsZW4gPSB0eXBlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJdHlwZSA9IHR5cGVzW2ldOw0KCQkJaW5kZXhLZXkgPSB0eXBlICsgJ19pZHgnOw0KCQkJaW5kZXhMZW5LZXkgPSBpbmRleEtleSArICdfbGVuJzsNCg0KCQkJdHlwZUluZGV4ID0gZXZlbnRzW2luZGV4S2V5XTsNCg0KCQkJaWYgKCFmbikgew0KCQkJCS8vIGNsZWFyIGFsbCBsaXN0ZW5lcnMgZm9yIGEgdHlwZSBpZiBmdW5jdGlvbiBpc24ndCBzcGVjaWZpZWQNCgkJCQlkZWxldGUgZXZlbnRzW3R5cGVdOw0KCQkJCWRlbGV0ZSBldmVudHNbaW5kZXhLZXldOw0KCQkJCWRlbGV0ZSBldmVudHNbaW5kZXhMZW5LZXldOw0KDQoJCQl9IGVsc2Ugew0KCQkJCWxpc3RlbmVycyA9IGNvbnRleHRJZCAmJiB0eXBlSW5kZXggPyB0eXBlSW5kZXhbY29udGV4dElkXSA6IGV2ZW50c1t0eXBlXTsNCg0KCQkJCWlmIChsaXN0ZW5lcnMpIHsNCgkJCQkJZm9yIChqID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7DQoJCQkJCQlpZiAoKGxpc3RlbmVyc1tqXS5hY3Rpb24gPT09IGZuKSAmJiAoIWNvbnRleHQgfHwgKGxpc3RlbmVyc1tqXS5jb250ZXh0ID09PSBjb250ZXh0KSkpIHsNCgkJCQkJCQlyZW1vdmVkID0gbGlzdGVuZXJzLnNwbGljZShqLCAxKTsNCgkJCQkJCQkvLyBzZXQgdGhlIG9sZCBhY3Rpb24gdG8gYSBuby1vcCwgYmVjYXVzZSBpdCBpcyBwb3NzaWJsZQ0KCQkJCQkJCS8vIHRoYXQgdGhlIGxpc3RlbmVyIGlzIGJlaW5nIGl0ZXJhdGVkIG92ZXIgYXMgcGFydCBvZiBhIGRpc3BhdGNoDQoJCQkJCQkJcmVtb3ZlZFswXS5hY3Rpb24gPSBMLlV0aWwuZmFsc2VGbjsNCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJCWlmIChjb250ZXh0ICYmIHR5cGVJbmRleCAmJiAobGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkpIHsNCgkJCQkJCWRlbGV0ZSB0eXBlSW5kZXhbY29udGV4dElkXTsNCgkJCQkJCWV2ZW50c1tpbmRleExlbktleV0tLTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgljbGVhckFsbEV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7DQoJCWRlbGV0ZSB0aGlzW2V2ZW50c0tleV07DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglmaXJlRXZlbnQ6IGZ1bmN0aW9uICh0eXBlLCBkYXRhKSB7IC8vIChTdHJpbmdbLCBPYmplY3RdKQ0KCQlpZiAoIXRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModHlwZSkpIHsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoNCgkJdmFyIGV2ZW50ID0gTC5VdGlsLmV4dGVuZCh7fSwgZGF0YSwgeyB0eXBlOiB0eXBlLCB0YXJnZXQ6IHRoaXMgfSk7DQoNCgkJdmFyIGV2ZW50cyA9IHRoaXNbZXZlbnRzS2V5XSwNCgkJICAgIGxpc3RlbmVycywgaSwgbGVuLCB0eXBlSW5kZXgsIGNvbnRleHRJZDsNCg0KCQlpZiAoZXZlbnRzW3R5cGVdKSB7DQoJCQkvLyBtYWtlIHN1cmUgYWRkaW5nL3JlbW92aW5nIGxpc3RlbmVycyBpbnNpZGUgb3RoZXIgbGlzdGVuZXJzIHdvbid0IGNhdXNlIGluZmluaXRlIGxvb3ANCgkJCWxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXS5zbGljZSgpOw0KDQoJCQlmb3IgKGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCQlsaXN0ZW5lcnNbaV0uYWN0aW9uLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGV2ZW50KTsNCgkJCX0NCgkJfQ0KDQoJCS8vIGZpcmUgZXZlbnQgZm9yIHRoZSBjb250ZXh0LWluZGV4ZWQgbGlzdGVuZXJzIGFzIHdlbGwNCgkJdHlwZUluZGV4ID0gZXZlbnRzW3R5cGUgKyAnX2lkeCddOw0KDQoJCWZvciAoY29udGV4dElkIGluIHR5cGVJbmRleCkgew0KCQkJbGlzdGVuZXJzID0gdHlwZUluZGV4W2NvbnRleHRJZF0uc2xpY2UoKTsNCg0KCQkJaWYgKGxpc3RlbmVycykgew0KCQkJCWZvciAoaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJCQlsaXN0ZW5lcnNbaV0uYWN0aW9uLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGV2ZW50KTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJYWRkT25lVGltZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlcywgZm4sIGNvbnRleHQpIHsNCg0KCQlpZiAoTC5VdGlsLmludm9rZUVhY2godHlwZXMsIHRoaXMuYWRkT25lVGltZUV2ZW50TGlzdGVuZXIsIHRoaXMsIGZuLCBjb250ZXh0KSkgeyByZXR1cm4gdGhpczsgfQ0KDQoJCXZhciBoYW5kbGVyID0gTC5iaW5kKGZ1bmN0aW9uICgpIHsNCgkJCXRoaXMNCgkJCSAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlcywgZm4sIGNvbnRleHQpDQoJCQkgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZXMsIGhhbmRsZXIsIGNvbnRleHQpOw0KCQl9LCB0aGlzKTsNCg0KCQlyZXR1cm4gdGhpcw0KCQkgICAgLmFkZEV2ZW50TGlzdGVuZXIodHlwZXMsIGZuLCBjb250ZXh0KQ0KCQkgICAgLmFkZEV2ZW50TGlzdGVuZXIodHlwZXMsIGhhbmRsZXIsIGNvbnRleHQpOw0KCX0NCn07DQoNCkwuTWl4aW4uRXZlbnRzLm9uID0gTC5NaXhpbi5FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcjsNCkwuTWl4aW4uRXZlbnRzLm9mZiA9IEwuTWl4aW4uRXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXI7DQpMLk1peGluLkV2ZW50cy5vbmNlID0gTC5NaXhpbi5FdmVudHMuYWRkT25lVGltZUV2ZW50TGlzdGVuZXI7DQpMLk1peGluLkV2ZW50cy5maXJlID0gTC5NaXhpbi5FdmVudHMuZmlyZUV2ZW50Ow0KCgovKg0KICogTC5Ccm93c2VyIGhhbmRsZXMgZGlmZmVyZW50IGJyb3dzZXIgYW5kIGZlYXR1cmUgZGV0ZWN0aW9ucyBmb3IgaW50ZXJuYWwgTGVhZmxldCB1c2UuDQogKi8NCg0KKGZ1bmN0aW9uICgpIHsNCg0KCXZhciBpZSA9ICdBY3RpdmVYT2JqZWN0JyBpbiB3aW5kb3csDQoJCWllbHQ5ID0gaWUgJiYgIWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIsDQoNCgkgICAgLy8gdGVycmlibGUgYnJvd3NlciBkZXRlY3Rpb24gdG8gd29yayBhcm91bmQgU2FmYXJpIC8gaU9TIC8gQW5kcm9pZCBicm93c2VyIGJ1Z3MNCgkgICAgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksDQoJICAgIHdlYmtpdCA9IHVhLmluZGV4T2YoJ3dlYmtpdCcpICE9PSAtMSwNCgkgICAgY2hyb21lID0gdWEuaW5kZXhPZignY2hyb21lJykgIT09IC0xLA0KCSAgICBwaGFudG9tanMgPSB1YS5pbmRleE9mKCdwaGFudG9tJykgIT09IC0xLA0KCSAgICBhbmRyb2lkID0gdWEuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSwNCgkgICAgYW5kcm9pZDIzID0gdWEuc2VhcmNoKCdhbmRyb2lkIFsyM10nKSAhPT0gLTEsDQoJCWdlY2tvID0gdWEuaW5kZXhPZignZ2Vja28nKSAhPT0gLTEsDQoNCgkgICAgbW9iaWxlID0gdHlwZW9mIG9yaWVudGF0aW9uICE9PSB1bmRlZmluZWQgKyAnJywNCgkgICAgbXNQb2ludGVyID0gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgJiYNCgkgICAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyAmJiAhd2luZG93LlBvaW50ZXJFdmVudCwNCgkJcG9pbnRlciA9ICh3aW5kb3cuUG9pbnRlckV2ZW50ICYmIHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cykgfHwNCgkJCQkgIG1zUG9pbnRlciwNCgkgICAgcmV0aW5hID0gKCdkZXZpY2VQaXhlbFJhdGlvJyBpbiB3aW5kb3cgJiYgd2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB8fA0KCSAgICAgICAgICAgICAoJ21hdGNoTWVkaWEnIGluIHdpbmRvdyAmJiB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi1yZXNvbHV0aW9uOjE0NGRwaSknKSAmJg0KCSAgICAgICAgICAgICAgd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4tcmVzb2x1dGlvbjoxNDRkcGkpJykubWF0Y2hlcyksDQoNCgkgICAgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LA0KCSAgICBpZTNkID0gaWUgJiYgKCd0cmFuc2l0aW9uJyBpbiBkb2Muc3R5bGUpLA0KCSAgICB3ZWJraXQzZCA9ICgnV2ViS2l0Q1NTTWF0cml4JyBpbiB3aW5kb3cpICYmICgnbTExJyBpbiBuZXcgd2luZG93LldlYktpdENTU01hdHJpeCgpKSAmJiAhYW5kcm9pZDIzLA0KCSAgICBnZWNrbzNkID0gJ01velBlcnNwZWN0aXZlJyBpbiBkb2Muc3R5bGUsDQoJICAgIG9wZXJhM2QgPSAnT1RyYW5zaXRpb24nIGluIGRvYy5zdHlsZSwNCgkgICAgYW55M2QgPSAhd2luZG93LkxfRElTQUJMRV8zRCAmJiAoaWUzZCB8fCB3ZWJraXQzZCB8fCBnZWNrbzNkIHx8IG9wZXJhM2QpICYmICFwaGFudG9tanM7DQoNCg0KCS8vIFBoYW50b21KUyBoYXMgJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBidXQgZG9lc24ndCBhY3R1YWxseSBzdXBwb3J0IHRvdWNoLg0KCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvcHVsbC8xNDM0I2lzc3VlY29tbWVudC0xMzg0MzE1MQ0KDQoJdmFyIHRvdWNoID0gIXdpbmRvdy5MX05PX1RPVUNIICYmICFwaGFudG9tanMgJiYgKGZ1bmN0aW9uICgpIHsNCg0KCQl2YXIgc3RhcnROYW1lID0gJ29udG91Y2hzdGFydCc7DQoNCgkJLy8gSUUxMCsgKFdlIHNpbXVsYXRlIHRoZXNlIGludG8gdG91Y2gqIGV2ZW50cyBpbiBMLkRvbUV2ZW50IGFuZCBMLkRvbUV2ZW50LlBvaW50ZXIpIG9yIFdlYktpdCwgZXRjLg0KCQlpZiAocG9pbnRlciB8fCAoc3RhcnROYW1lIGluIGRvYykpIHsNCgkJCXJldHVybiB0cnVlOw0KCQl9DQoNCgkJLy8gRmlyZWZveC9HZWNrbw0KCQl2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksDQoJCSAgICBzdXBwb3J0ZWQgPSBmYWxzZTsNCg0KCQlpZiAoIWRpdi5zZXRBdHRyaWJ1dGUpIHsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQlkaXYuc2V0QXR0cmlidXRlKHN0YXJ0TmFtZSwgJ3JldHVybjsnKTsNCg0KCQlpZiAodHlwZW9mIGRpdltzdGFydE5hbWVdID09PSAnZnVuY3Rpb24nKSB7DQoJCQlzdXBwb3J0ZWQgPSB0cnVlOw0KCQl9DQoNCgkJZGl2LnJlbW92ZUF0dHJpYnV0ZShzdGFydE5hbWUpOw0KCQlkaXYgPSBudWxsOw0KDQoJCXJldHVybiBzdXBwb3J0ZWQ7DQoJfSgpKTsNCg0KDQoJTC5Ccm93c2VyID0gew0KCQlpZTogaWUsDQoJCWllbHQ5OiBpZWx0OSwNCgkJd2Via2l0OiB3ZWJraXQsDQoJCWdlY2tvOiBnZWNrbyAmJiAhd2Via2l0ICYmICF3aW5kb3cub3BlcmEgJiYgIWllLA0KDQoJCWFuZHJvaWQ6IGFuZHJvaWQsDQoJCWFuZHJvaWQyMzogYW5kcm9pZDIzLA0KDQoJCWNocm9tZTogY2hyb21lLA0KDQoJCWllM2Q6IGllM2QsDQoJCXdlYmtpdDNkOiB3ZWJraXQzZCwNCgkJZ2Vja28zZDogZ2Vja28zZCwNCgkJb3BlcmEzZDogb3BlcmEzZCwNCgkJYW55M2Q6IGFueTNkLA0KDQoJCW1vYmlsZTogbW9iaWxlLA0KCQltb2JpbGVXZWJraXQ6IG1vYmlsZSAmJiB3ZWJraXQsDQoJCW1vYmlsZVdlYmtpdDNkOiBtb2JpbGUgJiYgd2Via2l0M2QsDQoJCW1vYmlsZU9wZXJhOiBtb2JpbGUgJiYgd2luZG93Lm9wZXJhLA0KDQoJCXRvdWNoOiB0b3VjaCwNCgkJbXNQb2ludGVyOiBtc1BvaW50ZXIsDQoJCXBvaW50ZXI6IHBvaW50ZXIsDQoNCgkJcmV0aW5hOiByZXRpbmENCgl9Ow0KDQp9KCkpOw0KCgovKg0KICogTC5Qb2ludCByZXByZXNlbnRzIGEgcG9pbnQgd2l0aCB4IGFuZCB5IGNvb3JkaW5hdGVzLg0KICovDQoNCkwuUG9pbnQgPSBmdW5jdGlvbiAoLypOdW1iZXIqLyB4LCAvKk51bWJlciovIHksIC8qQm9vbGVhbiovIHJvdW5kKSB7DQoJdGhpcy54ID0gKHJvdW5kID8gTWF0aC5yb3VuZCh4KSA6IHgpOw0KCXRoaXMueSA9IChyb3VuZCA/IE1hdGgucm91bmQoeSkgOiB5KTsNCn07DQoNCkwuUG9pbnQucHJvdG90eXBlID0gew0KDQoJY2xvbmU6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIG5ldyBMLlBvaW50KHRoaXMueCwgdGhpcy55KTsNCgl9LA0KDQoJLy8gbm9uLWRlc3RydWN0aXZlLCByZXR1cm5zIGEgbmV3IHBvaW50DQoJYWRkOiBmdW5jdGlvbiAocG9pbnQpIHsNCgkJcmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKEwucG9pbnQocG9pbnQpKTsNCgl9LA0KDQoJLy8gZGVzdHJ1Y3RpdmUsIHVzZWQgZGlyZWN0bHkgZm9yIHBlcmZvcm1hbmNlIGluIHNpdHVhdGlvbnMgd2hlcmUgaXQncyBzYWZlIHRvIG1vZGlmeSBleGlzdGluZyBwb2ludA0KCV9hZGQ6IGZ1bmN0aW9uIChwb2ludCkgew0KCQl0aGlzLnggKz0gcG9pbnQueDsNCgkJdGhpcy55ICs9IHBvaW50Lnk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglzdWJ0cmFjdDogZnVuY3Rpb24gKHBvaW50KSB7DQoJCXJldHVybiB0aGlzLmNsb25lKCkuX3N1YnRyYWN0KEwucG9pbnQocG9pbnQpKTsNCgl9LA0KDQoJX3N1YnRyYWN0OiBmdW5jdGlvbiAocG9pbnQpIHsNCgkJdGhpcy54IC09IHBvaW50Lng7DQoJCXRoaXMueSAtPSBwb2ludC55Ow0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJZGl2aWRlQnk6IGZ1bmN0aW9uIChudW0pIHsNCgkJcmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2aWRlQnkobnVtKTsNCgl9LA0KDQoJX2RpdmlkZUJ5OiBmdW5jdGlvbiAobnVtKSB7DQoJCXRoaXMueCAvPSBudW07DQoJCXRoaXMueSAvPSBudW07DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgltdWx0aXBseUJ5OiBmdW5jdGlvbiAobnVtKSB7DQoJCXJldHVybiB0aGlzLmNsb25lKCkuX211bHRpcGx5QnkobnVtKTsNCgl9LA0KDQoJX211bHRpcGx5Qnk6IGZ1bmN0aW9uIChudW0pIHsNCgkJdGhpcy54ICo9IG51bTsNCgkJdGhpcy55ICo9IG51bTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXJvdW5kOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLmNsb25lKCkuX3JvdW5kKCk7DQoJfSwNCg0KCV9yb3VuZDogZnVuY3Rpb24gKCkgew0KCQl0aGlzLnggPSBNYXRoLnJvdW5kKHRoaXMueCk7DQoJCXRoaXMueSA9IE1hdGgucm91bmQodGhpcy55KTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWZsb29yOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLmNsb25lKCkuX2Zsb29yKCk7DQoJfSwNCg0KCV9mbG9vcjogZnVuY3Rpb24gKCkgew0KCQl0aGlzLnggPSBNYXRoLmZsb29yKHRoaXMueCk7DQoJCXRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWRpc3RhbmNlVG86IGZ1bmN0aW9uIChwb2ludCkgew0KCQlwb2ludCA9IEwucG9pbnQocG9pbnQpOw0KDQoJCXZhciB4ID0gcG9pbnQueCAtIHRoaXMueCwNCgkJICAgIHkgPSBwb2ludC55IC0gdGhpcy55Ow0KDQoJCXJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7DQoJfSwNCg0KCWVxdWFsczogZnVuY3Rpb24gKHBvaW50KSB7DQoJCXBvaW50ID0gTC5wb2ludChwb2ludCk7DQoNCgkJcmV0dXJuIHBvaW50LnggPT09IHRoaXMueCAmJg0KCQkgICAgICAgcG9pbnQueSA9PT0gdGhpcy55Ow0KCX0sDQoNCgljb250YWluczogZnVuY3Rpb24gKHBvaW50KSB7DQoJCXBvaW50ID0gTC5wb2ludChwb2ludCk7DQoNCgkJcmV0dXJuIE1hdGguYWJzKHBvaW50LngpIDw9IE1hdGguYWJzKHRoaXMueCkgJiYNCgkJICAgICAgIE1hdGguYWJzKHBvaW50LnkpIDw9IE1hdGguYWJzKHRoaXMueSk7DQoJfSwNCg0KCXRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiAnUG9pbnQoJyArDQoJCSAgICAgICAgTC5VdGlsLmZvcm1hdE51bSh0aGlzLngpICsgJywgJyArDQoJCSAgICAgICAgTC5VdGlsLmZvcm1hdE51bSh0aGlzLnkpICsgJyknOw0KCX0NCn07DQoNCkwucG9pbnQgPSBmdW5jdGlvbiAoeCwgeSwgcm91bmQpIHsNCglpZiAoeCBpbnN0YW5jZW9mIEwuUG9pbnQpIHsNCgkJcmV0dXJuIHg7DQoJfQ0KCWlmIChMLlV0aWwuaXNBcnJheSh4KSkgew0KCQlyZXR1cm4gbmV3IEwuUG9pbnQoeFswXSwgeFsxXSk7DQoJfQ0KCWlmICh4ID09PSB1bmRlZmluZWQgfHwgeCA9PT0gbnVsbCkgew0KCQlyZXR1cm4geDsNCgl9DQoJcmV0dXJuIG5ldyBMLlBvaW50KHgsIHksIHJvdW5kKTsNCn07DQoKCi8qDQogKiBMLkJvdW5kcyByZXByZXNlbnRzIGEgcmVjdGFuZ3VsYXIgYXJlYSBvbiB0aGUgc2NyZWVuIGluIHBpeGVsIGNvb3JkaW5hdGVzLg0KICovDQoNCkwuQm91bmRzID0gZnVuY3Rpb24gKGEsIGIpIHsgLy8oUG9pbnQsIFBvaW50KSBvciBQb2ludFtdDQoJaWYgKCFhKSB7IHJldHVybjsgfQ0KDQoJdmFyIHBvaW50cyA9IGIgPyBbYSwgYl0gOiBhOw0KDQoJZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQl0aGlzLmV4dGVuZChwb2ludHNbaV0pOw0KCX0NCn07DQoNCkwuQm91bmRzLnByb3RvdHlwZSA9IHsNCgkvLyBleHRlbmQgdGhlIGJvdW5kcyB0byBjb250YWluIHRoZSBnaXZlbiBwb2ludA0KCWV4dGVuZDogZnVuY3Rpb24gKHBvaW50KSB7IC8vIChQb2ludCkNCgkJcG9pbnQgPSBMLnBvaW50KHBvaW50KTsNCg0KCQlpZiAoIXRoaXMubWluICYmICF0aGlzLm1heCkgew0KCQkJdGhpcy5taW4gPSBwb2ludC5jbG9uZSgpOw0KCQkJdGhpcy5tYXggPSBwb2ludC5jbG9uZSgpOw0KCQl9IGVsc2Ugew0KCQkJdGhpcy5taW4ueCA9IE1hdGgubWluKHBvaW50LngsIHRoaXMubWluLngpOw0KCQkJdGhpcy5tYXgueCA9IE1hdGgubWF4KHBvaW50LngsIHRoaXMubWF4LngpOw0KCQkJdGhpcy5taW4ueSA9IE1hdGgubWluKHBvaW50LnksIHRoaXMubWluLnkpOw0KCQkJdGhpcy5tYXgueSA9IE1hdGgubWF4KHBvaW50LnksIHRoaXMubWF4LnkpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglnZXRDZW50ZXI6IGZ1bmN0aW9uIChyb3VuZCkgeyAvLyAoQm9vbGVhbikgLT4gUG9pbnQNCgkJcmV0dXJuIG5ldyBMLlBvaW50KA0KCQkgICAgICAgICh0aGlzLm1pbi54ICsgdGhpcy5tYXgueCkgLyAyLA0KCQkgICAgICAgICh0aGlzLm1pbi55ICsgdGhpcy5tYXgueSkgLyAyLCByb3VuZCk7DQoJfSwNCg0KCWdldEJvdHRvbUxlZnQ6IGZ1bmN0aW9uICgpIHsgLy8gLT4gUG9pbnQNCgkJcmV0dXJuIG5ldyBMLlBvaW50KHRoaXMubWluLngsIHRoaXMubWF4LnkpOw0KCX0sDQoNCglnZXRUb3BSaWdodDogZnVuY3Rpb24gKCkgeyAvLyAtPiBQb2ludA0KCQlyZXR1cm4gbmV3IEwuUG9pbnQodGhpcy5tYXgueCwgdGhpcy5taW4ueSk7DQoJfSwNCg0KCWdldFNpemU6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMubWF4LnN1YnRyYWN0KHRoaXMubWluKTsNCgl9LA0KDQoJY29udGFpbnM6IGZ1bmN0aW9uIChvYmopIHsgLy8gKEJvdW5kcykgb3IgKFBvaW50KSAtPiBCb29sZWFuDQoJCXZhciBtaW4sIG1heDsNCg0KCQlpZiAodHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgb2JqIGluc3RhbmNlb2YgTC5Qb2ludCkgew0KCQkJb2JqID0gTC5wb2ludChvYmopOw0KCQl9IGVsc2Ugew0KCQkJb2JqID0gTC5ib3VuZHMob2JqKTsNCgkJfQ0KDQoJCWlmIChvYmogaW5zdGFuY2VvZiBMLkJvdW5kcykgew0KCQkJbWluID0gb2JqLm1pbjsNCgkJCW1heCA9IG9iai5tYXg7DQoJCX0gZWxzZSB7DQoJCQltaW4gPSBtYXggPSBvYmo7DQoJCX0NCg0KCQlyZXR1cm4gKG1pbi54ID49IHRoaXMubWluLngpICYmDQoJCSAgICAgICAobWF4LnggPD0gdGhpcy5tYXgueCkgJiYNCgkJICAgICAgIChtaW4ueSA+PSB0aGlzLm1pbi55KSAmJg0KCQkgICAgICAgKG1heC55IDw9IHRoaXMubWF4LnkpOw0KCX0sDQoNCglpbnRlcnNlY3RzOiBmdW5jdGlvbiAoYm91bmRzKSB7IC8vIChCb3VuZHMpIC0+IEJvb2xlYW4NCgkJYm91bmRzID0gTC5ib3VuZHMoYm91bmRzKTsNCg0KCQl2YXIgbWluID0gdGhpcy5taW4sDQoJCSAgICBtYXggPSB0aGlzLm1heCwNCgkJICAgIG1pbjIgPSBib3VuZHMubWluLA0KCQkgICAgbWF4MiA9IGJvdW5kcy5tYXgsDQoJCSAgICB4SW50ZXJzZWN0cyA9IChtYXgyLnggPj0gbWluLngpICYmIChtaW4yLnggPD0gbWF4LngpLA0KCQkgICAgeUludGVyc2VjdHMgPSAobWF4Mi55ID49IG1pbi55KSAmJiAobWluMi55IDw9IG1heC55KTsNCg0KCQlyZXR1cm4geEludGVyc2VjdHMgJiYgeUludGVyc2VjdHM7DQoJfSwNCg0KCWlzVmFsaWQ6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuICEhKHRoaXMubWluICYmIHRoaXMubWF4KTsNCgl9DQp9Ow0KDQpMLmJvdW5kcyA9IGZ1bmN0aW9uIChhLCBiKSB7IC8vIChCb3VuZHMpIG9yIChQb2ludCwgUG9pbnQpIG9yIChQb2ludFtdKQ0KCWlmICghYSB8fCBhIGluc3RhbmNlb2YgTC5Cb3VuZHMpIHsNCgkJcmV0dXJuIGE7DQoJfQ0KCXJldHVybiBuZXcgTC5Cb3VuZHMoYSwgYik7DQp9Ow0KCgovKg0KICogTC5UcmFuc2Zvcm1hdGlvbiBpcyBhbiB1dGlsaXR5IGNsYXNzIHRvIHBlcmZvcm0gc2ltcGxlIHBvaW50IHRyYW5zZm9ybWF0aW9ucyB0aHJvdWdoIGEgMmQtbWF0cml4Lg0KICovDQoNCkwuVHJhbnNmb3JtYXRpb24gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgew0KCXRoaXMuX2EgPSBhOw0KCXRoaXMuX2IgPSBiOw0KCXRoaXMuX2MgPSBjOw0KCXRoaXMuX2QgPSBkOw0KfTsNCg0KTC5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGUgPSB7DQoJdHJhbnNmb3JtOiBmdW5jdGlvbiAocG9pbnQsIHNjYWxlKSB7IC8vIChQb2ludCwgTnVtYmVyKSAtPiBQb2ludA0KCQlyZXR1cm4gdGhpcy5fdHJhbnNmb3JtKHBvaW50LmNsb25lKCksIHNjYWxlKTsNCgl9LA0KDQoJLy8gZGVzdHJ1Y3RpdmUgdHJhbnNmb3JtIChmYXN0ZXIpDQoJX3RyYW5zZm9ybTogZnVuY3Rpb24gKHBvaW50LCBzY2FsZSkgew0KCQlzY2FsZSA9IHNjYWxlIHx8IDE7DQoJCXBvaW50LnggPSBzY2FsZSAqICh0aGlzLl9hICogcG9pbnQueCArIHRoaXMuX2IpOw0KCQlwb2ludC55ID0gc2NhbGUgKiAodGhpcy5fYyAqIHBvaW50LnkgKyB0aGlzLl9kKTsNCgkJcmV0dXJuIHBvaW50Ow0KCX0sDQoNCgl1bnRyYW5zZm9ybTogZnVuY3Rpb24gKHBvaW50LCBzY2FsZSkgew0KCQlzY2FsZSA9IHNjYWxlIHx8IDE7DQoJCXJldHVybiBuZXcgTC5Qb2ludCgNCgkJICAgICAgICAocG9pbnQueCAvIHNjYWxlIC0gdGhpcy5fYikgLyB0aGlzLl9hLA0KCQkgICAgICAgIChwb2ludC55IC8gc2NhbGUgLSB0aGlzLl9kKSAvIHRoaXMuX2MpOw0KCX0NCn07DQoKCi8qDQogKiBMLkRvbVV0aWwgY29udGFpbnMgdmFyaW91cyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3Igd29ya2luZyB3aXRoIERPTS4NCiAqLw0KDQpMLkRvbVV0aWwgPSB7DQoJZ2V0OiBmdW5jdGlvbiAoaWQpIHsNCgkJcmV0dXJuICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIDogaWQpOw0KCX0sDQoNCglnZXRTdHlsZTogZnVuY3Rpb24gKGVsLCBzdHlsZSkgew0KDQoJCXZhciB2YWx1ZSA9IGVsLnN0eWxlW3N0eWxlXTsNCg0KCQlpZiAoIXZhbHVlICYmIGVsLmN1cnJlbnRTdHlsZSkgew0KCQkJdmFsdWUgPSBlbC5jdXJyZW50U3R5bGVbc3R5bGVdOw0KCQl9DQoNCgkJaWYgKCghdmFsdWUgfHwgdmFsdWUgPT09ICdhdXRvJykgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcpIHsNCgkJCXZhciBjc3MgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKTsNCgkJCXZhbHVlID0gY3NzID8gY3NzW3N0eWxlXSA6IG51bGw7DQoJCX0NCg0KCQlyZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/IG51bGwgOiB2YWx1ZTsNCgl9LA0KDQoJZ2V0Vmlld3BvcnRPZmZzZXQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7DQoNCgkJdmFyIHRvcCA9IDAsDQoJCSAgICBsZWZ0ID0gMCwNCgkJICAgIGVsID0gZWxlbWVudCwNCgkJICAgIGRvY0JvZHkgPSBkb2N1bWVudC5ib2R5LA0KCQkgICAgZG9jRWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsDQoJCSAgICBwb3M7DQoNCgkJZG8gew0KCQkJdG9wICArPSBlbC5vZmZzZXRUb3AgIHx8IDA7DQoJCQlsZWZ0ICs9IGVsLm9mZnNldExlZnQgfHwgMDsNCg0KCQkJLy9hZGQgYm9yZGVycw0KCQkJdG9wICs9IHBhcnNlSW50KEwuRG9tVXRpbC5nZXRTdHlsZShlbCwgJ2JvcmRlclRvcFdpZHRoJyksIDEwKSB8fCAwOw0KCQkJbGVmdCArPSBwYXJzZUludChMLkRvbVV0aWwuZ2V0U3R5bGUoZWwsICdib3JkZXJMZWZ0V2lkdGgnKSwgMTApIHx8IDA7DQoNCgkJCXBvcyA9IEwuRG9tVXRpbC5nZXRTdHlsZShlbCwgJ3Bvc2l0aW9uJyk7DQoNCgkJCWlmIChlbC5vZmZzZXRQYXJlbnQgPT09IGRvY0JvZHkgJiYgcG9zID09PSAnYWJzb2x1dGUnKSB7IGJyZWFrOyB9DQoNCgkJCWlmIChwb3MgPT09ICdmaXhlZCcpIHsNCgkJCQl0b3AgICs9IGRvY0JvZHkuc2Nyb2xsVG9wICB8fCBkb2NFbC5zY3JvbGxUb3AgIHx8IDA7DQoJCQkJbGVmdCArPSBkb2NCb2R5LnNjcm9sbExlZnQgfHwgZG9jRWwuc2Nyb2xsTGVmdCB8fCAwOw0KCQkJCWJyZWFrOw0KCQkJfQ0KDQoJCQlpZiAocG9zID09PSAncmVsYXRpdmUnICYmICFlbC5vZmZzZXRMZWZ0KSB7DQoJCQkJdmFyIHdpZHRoID0gTC5Eb21VdGlsLmdldFN0eWxlKGVsLCAnd2lkdGgnKSwNCgkJCQkgICAgbWF4V2lkdGggPSBMLkRvbVV0aWwuZ2V0U3R5bGUoZWwsICdtYXgtd2lkdGgnKSwNCgkJCQkgICAgciA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOw0KDQoJCQkJaWYgKHdpZHRoICE9PSAnbm9uZScgfHwgbWF4V2lkdGggIT09ICdub25lJykgew0KCQkJCQlsZWZ0ICs9IHIubGVmdCArIGVsLmNsaWVudExlZnQ7DQoJCQkJfQ0KDQoJCQkJLy9jYWxjdWxhdGUgZnVsbCB5IG9mZnNldCBzaW5jZSB3ZSdyZSBicmVha2luZyBvdXQgb2YgdGhlIGxvb3ANCgkJCQl0b3AgKz0gci50b3AgKyAoZG9jQm9keS5zY3JvbGxUb3AgIHx8IGRvY0VsLnNjcm9sbFRvcCAgfHwgMCk7DQoNCgkJCQlicmVhazsNCgkJCX0NCg0KCQkJZWwgPSBlbC5vZmZzZXRQYXJlbnQ7DQoNCgkJfSB3aGlsZSAoZWwpOw0KDQoJCWVsID0gZWxlbWVudDsNCg0KCQlkbyB7DQoJCQlpZiAoZWwgPT09IGRvY0JvZHkpIHsgYnJlYWs7IH0NCg0KCQkJdG9wICAtPSBlbC5zY3JvbGxUb3AgIHx8IDA7DQoJCQlsZWZ0IC09IGVsLnNjcm9sbExlZnQgfHwgMDsNCg0KCQkJZWwgPSBlbC5wYXJlbnROb2RlOw0KCQl9IHdoaWxlIChlbCk7DQoNCgkJcmV0dXJuIG5ldyBMLlBvaW50KGxlZnQsIHRvcCk7DQoJfSwNCg0KCWRvY3VtZW50SXNMdHI6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCFMLkRvbVV0aWwuX2RvY0lzTHRyQ2FjaGVkKSB7DQoJCQlMLkRvbVV0aWwuX2RvY0lzTHRyQ2FjaGVkID0gdHJ1ZTsNCgkJCUwuRG9tVXRpbC5fZG9jSXNMdHIgPSBMLkRvbVV0aWwuZ2V0U3R5bGUoZG9jdW1lbnQuYm9keSwgJ2RpcmVjdGlvbicpID09PSAnbHRyJzsNCgkJfQ0KCQlyZXR1cm4gTC5Eb21VdGlsLl9kb2NJc0x0cjsNCgl9LA0KDQoJY3JlYXRlOiBmdW5jdGlvbiAodGFnTmFtZSwgY2xhc3NOYW1lLCBjb250YWluZXIpIHsNCg0KCQl2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpOw0KCQllbC5jbGFzc05hbWUgPSBjbGFzc05hbWU7DQoNCgkJaWYgKGNvbnRhaW5lcikgew0KCQkJY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTsNCgkJfQ0KDQoJCXJldHVybiBlbDsNCgl9LA0KDQoJaGFzQ2xhc3M6IGZ1bmN0aW9uIChlbCwgbmFtZSkgew0KCQlpZiAoZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHsNCgkJCXJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7DQoJCX0NCgkJdmFyIGNsYXNzTmFtZSA9IEwuRG9tVXRpbC5fZ2V0Q2xhc3MoZWwpOw0KCQlyZXR1cm4gY2xhc3NOYW1lLmxlbmd0aCA+IDAgJiYgbmV3IFJlZ0V4cCgnKF58XFxzKScgKyBuYW1lICsgJyhcXHN8JCknKS50ZXN0KGNsYXNzTmFtZSk7DQoJfSwNCg0KCWFkZENsYXNzOiBmdW5jdGlvbiAoZWwsIG5hbWUpIHsNCgkJaWYgKGVsLmNsYXNzTGlzdCAhPT0gdW5kZWZpbmVkKSB7DQoJCQl2YXIgY2xhc3NlcyA9IEwuVXRpbC5zcGxpdFdvcmRzKG5hbWUpOw0KCQkJZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCQllbC5jbGFzc0xpc3QuYWRkKGNsYXNzZXNbaV0pOw0KCQkJfQ0KCQl9IGVsc2UgaWYgKCFMLkRvbVV0aWwuaGFzQ2xhc3MoZWwsIG5hbWUpKSB7DQoJCQl2YXIgY2xhc3NOYW1lID0gTC5Eb21VdGlsLl9nZXRDbGFzcyhlbCk7DQoJCQlMLkRvbVV0aWwuX3NldENsYXNzKGVsLCAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgbmFtZSk7DQoJCX0NCgl9LA0KDQoJcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChlbCwgbmFtZSkgew0KCQlpZiAoZWwuY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQpIHsNCgkJCWVsLmNsYXNzTGlzdC5yZW1vdmUobmFtZSk7DQoJCX0gZWxzZSB7DQoJCQlMLkRvbVV0aWwuX3NldENsYXNzKGVsLCBMLlV0aWwudHJpbSgoJyAnICsgTC5Eb21VdGlsLl9nZXRDbGFzcyhlbCkgKyAnICcpLnJlcGxhY2UoJyAnICsgbmFtZSArICcgJywgJyAnKSkpOw0KCQl9DQoJfSwNCg0KCV9zZXRDbGFzczogZnVuY3Rpb24gKGVsLCBuYW1lKSB7DQoJCWlmIChlbC5jbGFzc05hbWUuYmFzZVZhbCA9PT0gdW5kZWZpbmVkKSB7DQoJCQllbC5jbGFzc05hbWUgPSBuYW1lOw0KCQl9IGVsc2Ugew0KCQkJLy8gaW4gY2FzZSBvZiBTVkcgZWxlbWVudA0KCQkJZWwuY2xhc3NOYW1lLmJhc2VWYWwgPSBuYW1lOw0KCQl9DQoJfSwNCg0KCV9nZXRDbGFzczogZnVuY3Rpb24gKGVsKSB7DQoJCXJldHVybiBlbC5jbGFzc05hbWUuYmFzZVZhbCA9PT0gdW5kZWZpbmVkID8gZWwuY2xhc3NOYW1lIDogZWwuY2xhc3NOYW1lLmJhc2VWYWw7DQoJfSwNCg0KCXNldE9wYWNpdHk6IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHsNCg0KCQlpZiAoJ29wYWNpdHknIGluIGVsLnN0eWxlKSB7DQoJCQllbC5zdHlsZS5vcGFjaXR5ID0gdmFsdWU7DQoNCgkJfSBlbHNlIGlmICgnZmlsdGVyJyBpbiBlbC5zdHlsZSkgew0KDQoJCQl2YXIgZmlsdGVyID0gZmFsc2UsDQoJCQkgICAgZmlsdGVyTmFtZSA9ICdEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYSc7DQoNCgkJCS8vIGZpbHRlcnMgY29sbGVjdGlvbiB0aHJvd3MgYW4gZXJyb3IgaWYgd2UgdHJ5IHRvIHJldHJpZXZlIGEgZmlsdGVyIHRoYXQgZG9lc24ndCBleGlzdA0KCQkJdHJ5IHsNCgkJCQlmaWx0ZXIgPSBlbC5maWx0ZXJzLml0ZW0oZmlsdGVyTmFtZSk7DQoJCQl9IGNhdGNoIChlKSB7DQoJCQkJLy8gZG9uJ3Qgc2V0IG9wYWNpdHkgdG8gMSBpZiB3ZSBoYXZlbid0IGFscmVhZHkgc2V0IGFuIG9wYWNpdHksDQoJCQkJLy8gaXQgaXNuJ3QgbmVlZGVkIGFuZCBicmVha3MgdHJhbnNwYXJlbnQgcG5ncy4NCgkJCQlpZiAodmFsdWUgPT09IDEpIHsgcmV0dXJuOyB9DQoJCQl9DQoNCgkJCXZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCk7DQoNCgkJCWlmIChmaWx0ZXIpIHsNCgkJCQlmaWx0ZXIuRW5hYmxlZCA9ICh2YWx1ZSAhPT0gMTAwKTsNCgkJCQlmaWx0ZXIuT3BhY2l0eSA9IHZhbHVlOw0KCQkJfSBlbHNlIHsNCgkJCQllbC5zdHlsZS5maWx0ZXIgKz0gJyBwcm9naWQ6JyArIGZpbHRlck5hbWUgKyAnKG9wYWNpdHk9JyArIHZhbHVlICsgJyknOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCXRlc3RQcm9wOiBmdW5jdGlvbiAocHJvcHMpIHsNCg0KCQl2YXIgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7DQoNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgew0KCQkJaWYgKHByb3BzW2ldIGluIHN0eWxlKSB7DQoJCQkJcmV0dXJuIHByb3BzW2ldOw0KCQkJfQ0KCQl9DQoJCXJldHVybiBmYWxzZTsNCgl9LA0KDQoJZ2V0VHJhbnNsYXRlU3RyaW5nOiBmdW5jdGlvbiAocG9pbnQpIHsNCgkJLy8gb24gV2ViS2l0IGJyb3dzZXJzIChDaHJvbWUvU2FmYXJpL2lPUyBTYWZhcmkvQW5kcm9pZCkgdXNpbmcgdHJhbnNsYXRlM2QgaW5zdGVhZCBvZiB0cmFuc2xhdGUNCgkJLy8gbWFrZXMgYW5pbWF0aW9uIHNtb290aGVyIGFzIGl0IGVuc3VyZXMgSFcgYWNjZWwgaXMgdXNlZC4gRmlyZWZveCAxMyBkb2Vzbid0IGNhcmUNCgkJLy8gKHNhbWUgc3BlZWQgZWl0aGVyIHdheSksIE9wZXJhIDEyIGRvZXNuJ3Qgc3VwcG9ydCB0cmFuc2xhdGUzZA0KDQoJCXZhciBpczNkID0gTC5Ccm93c2VyLndlYmtpdDNkLA0KCQkgICAgb3BlbiA9ICd0cmFuc2xhdGUnICsgKGlzM2QgPyAnM2QnIDogJycpICsgJygnLA0KCQkgICAgY2xvc2UgPSAoaXMzZCA/ICcsMCcgOiAnJykgKyAnKSc7DQoNCgkJcmV0dXJuIG9wZW4gKyBwb2ludC54ICsgJ3B4LCcgKyBwb2ludC55ICsgJ3B4JyArIGNsb3NlOw0KCX0sDQoNCglnZXRTY2FsZVN0cmluZzogZnVuY3Rpb24gKHNjYWxlLCBvcmlnaW4pIHsNCg0KCQl2YXIgcHJlVHJhbnNsYXRlU3RyID0gTC5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhvcmlnaW4uYWRkKG9yaWdpbi5tdWx0aXBseUJ5KC0xICogc2NhbGUpKSksDQoJCSAgICBzY2FsZVN0ciA9ICcgc2NhbGUoJyArIHNjYWxlICsgJykgJzsNCg0KCQlyZXR1cm4gcHJlVHJhbnNsYXRlU3RyICsgc2NhbGVTdHI7DQoJfSwNCg0KCXNldFBvc2l0aW9uOiBmdW5jdGlvbiAoZWwsIHBvaW50LCBkaXNhYmxlM0QpIHsgLy8gKEhUTUxFbGVtZW50LCBQb2ludFssIEJvb2xlYW5dKQ0KDQoJCS8vIGpzaGludCBjYW1lbGNhc2U6IGZhbHNlDQoJCWVsLl9sZWFmbGV0X3BvcyA9IHBvaW50Ow0KDQoJCWlmICghZGlzYWJsZTNEICYmIEwuQnJvd3Nlci5hbnkzZCkgew0KCQkJZWwuc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STV0gPSAgTC5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhwb2ludCk7DQoJCX0gZWxzZSB7DQoJCQllbC5zdHlsZS5sZWZ0ID0gcG9pbnQueCArICdweCc7DQoJCQllbC5zdHlsZS50b3AgPSBwb2ludC55ICsgJ3B4JzsNCgkJfQ0KCX0sDQoNCglnZXRQb3NpdGlvbjogZnVuY3Rpb24gKGVsKSB7DQoJCS8vIHRoaXMgbWV0aG9kIGlzIG9ubHkgdXNlZCBmb3IgZWxlbWVudHMgcHJldmlvdXNseSBwb3NpdGlvbmVkIHVzaW5nIHNldFBvc2l0aW9uLA0KCQkvLyBzbyBpdCdzIHNhZmUgdG8gY2FjaGUgdGhlIHBvc2l0aW9uIGZvciBwZXJmb3JtYW5jZQ0KDQoJCS8vIGpzaGludCBjYW1lbGNhc2U6IGZhbHNlDQoJCXJldHVybiBlbC5fbGVhZmxldF9wb3M7DQoJfQ0KfTsNCg0KDQovLyBwcmVmaXggc3R5bGUgcHJvcGVydHkgbmFtZXMNCg0KTC5Eb21VdGlsLlRSQU5TRk9STSA9IEwuRG9tVXRpbC50ZXN0UHJvcCgNCiAgICAgICAgWyd0cmFuc2Zvcm0nLCAnV2Via2l0VHJhbnNmb3JtJywgJ09UcmFuc2Zvcm0nLCAnTW96VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ10pOw0KDQovLyB3ZWJraXRUcmFuc2l0aW9uIGNvbWVzIGZpcnN0IGJlY2F1c2Ugc29tZSBicm93c2VyIHZlcnNpb25zIHRoYXQgZHJvcCB2ZW5kb3IgcHJlZml4IGRvbid0IGRvDQovLyB0aGUgc2FtZSBmb3IgdGhlIHRyYW5zaXRpb25lbmQgZXZlbnQsIGluIHBhcnRpY3VsYXIgdGhlIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXINCg0KTC5Eb21VdGlsLlRSQU5TSVRJT04gPSBMLkRvbVV0aWwudGVzdFByb3AoDQogICAgICAgIFsnd2Via2l0VHJhbnNpdGlvbicsICd0cmFuc2l0aW9uJywgJ09UcmFuc2l0aW9uJywgJ01velRyYW5zaXRpb24nLCAnbXNUcmFuc2l0aW9uJ10pOw0KDQpMLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQgPQ0KICAgICAgICBMLkRvbVV0aWwuVFJBTlNJVElPTiA9PT0gJ3dlYmtpdFRyYW5zaXRpb24nIHx8IEwuRG9tVXRpbC5UUkFOU0lUSU9OID09PSAnT1RyYW5zaXRpb24nID8NCiAgICAgICAgTC5Eb21VdGlsLlRSQU5TSVRJT04gKyAnRW5kJyA6ICd0cmFuc2l0aW9uZW5kJzsNCg0KKGZ1bmN0aW9uICgpIHsNCiAgICBpZiAoJ29uc2VsZWN0c3RhcnQnIGluIGRvY3VtZW50KSB7DQogICAgICAgIEwuZXh0ZW5kKEwuRG9tVXRpbCwgew0KICAgICAgICAgICAgZGlzYWJsZVRleHRTZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBMLkRvbUV2ZW50Lm9uKHdpbmRvdywgJ3NlbGVjdHN0YXJ0JywgTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7DQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBlbmFibGVUZXh0U2VsZWN0aW9uOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgTC5Eb21FdmVudC5vZmYod2luZG93LCAnc2VsZWN0c3RhcnQnLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgdmFyIHVzZXJTZWxlY3RQcm9wZXJ0eSA9IEwuRG9tVXRpbC50ZXN0UHJvcCgNCiAgICAgICAgICAgIFsndXNlclNlbGVjdCcsICdXZWJraXRVc2VyU2VsZWN0JywgJ09Vc2VyU2VsZWN0JywgJ01velVzZXJTZWxlY3QnLCAnbXNVc2VyU2VsZWN0J10pOw0KDQogICAgICAgIEwuZXh0ZW5kKEwuRG9tVXRpbCwgew0KICAgICAgICAgICAgZGlzYWJsZVRleHRTZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAodXNlclNlbGVjdFByb3BlcnR5KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXNlclNlbGVjdCA9IHN0eWxlW3VzZXJTZWxlY3RQcm9wZXJ0eV07DQogICAgICAgICAgICAgICAgICAgIHN0eWxlW3VzZXJTZWxlY3RQcm9wZXJ0eV0gPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgZW5hYmxlVGV4dFNlbGVjdGlvbjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmICh1c2VyU2VsZWN0UHJvcGVydHkpIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlW3VzZXJTZWxlY3RQcm9wZXJ0eV0gPSB0aGlzLl91c2VyU2VsZWN0Ow0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdXNlclNlbGVjdDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCg0KCUwuZXh0ZW5kKEwuRG9tVXRpbCwgew0KCQlkaXNhYmxlSW1hZ2VEcmFnOiBmdW5jdGlvbiAoKSB7DQoJCQlMLkRvbUV2ZW50Lm9uKHdpbmRvdywgJ2RyYWdzdGFydCcsIEwuRG9tRXZlbnQucHJldmVudERlZmF1bHQpOw0KCQl9LA0KDQoJCWVuYWJsZUltYWdlRHJhZzogZnVuY3Rpb24gKCkgew0KCQkJTC5Eb21FdmVudC5vZmYod2luZG93LCAnZHJhZ3N0YXJ0JywgTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7DQoJCX0NCgl9KTsNCn0pKCk7DQoKCi8qDQogKiBMLkxhdExuZyByZXByZXNlbnRzIGEgZ2VvZ3JhcGhpY2FsIHBvaW50IHdpdGggbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBjb29yZGluYXRlcy4NCiAqLw0KDQpMLkxhdExuZyA9IGZ1bmN0aW9uIChsYXQsIGxuZywgYWx0KSB7IC8vIChOdW1iZXIsIE51bWJlciwgTnVtYmVyKQ0KCWxhdCA9IHBhcnNlRmxvYXQobGF0KTsNCglsbmcgPSBwYXJzZUZsb2F0KGxuZyk7DQoNCglpZiAoaXNOYU4obGF0KSB8fCBpc05hTihsbmcpKSB7DQoJCXRocm93IG5ldyBFcnJvcignSW52YWxpZCBMYXRMbmcgb2JqZWN0OiAoJyArIGxhdCArICcsICcgKyBsbmcgKyAnKScpOw0KCX0NCg0KCXRoaXMubGF0ID0gbGF0Ow0KCXRoaXMubG5nID0gbG5nOw0KDQoJaWYgKGFsdCAhPT0gdW5kZWZpbmVkKSB7DQoJCXRoaXMuYWx0ID0gcGFyc2VGbG9hdChhbHQpOw0KCX0NCn07DQoNCkwuZXh0ZW5kKEwuTGF0TG5nLCB7DQoJREVHX1RPX1JBRDogTWF0aC5QSSAvIDE4MCwNCglSQURfVE9fREVHOiAxODAgLyBNYXRoLlBJLA0KCU1BWF9NQVJHSU46IDEuMEUtOSAvLyBtYXggbWFyZ2luIG9mIGVycm9yIGZvciB0aGUgImVxdWFscyIgY2hlY2sNCn0pOw0KDQpMLkxhdExuZy5wcm90b3R5cGUgPSB7DQoJZXF1YWxzOiBmdW5jdGlvbiAob2JqKSB7IC8vIChMYXRMbmcpIC0+IEJvb2xlYW4NCgkJaWYgKCFvYmopIHsgcmV0dXJuIGZhbHNlOyB9DQoNCgkJb2JqID0gTC5sYXRMbmcob2JqKTsNCg0KCQl2YXIgbWFyZ2luID0gTWF0aC5tYXgoDQoJCSAgICAgICAgTWF0aC5hYnModGhpcy5sYXQgLSBvYmoubGF0KSwNCgkJICAgICAgICBNYXRoLmFicyh0aGlzLmxuZyAtIG9iai5sbmcpKTsNCg0KCQlyZXR1cm4gbWFyZ2luIDw9IEwuTGF0TG5nLk1BWF9NQVJHSU47DQoJfSwNCg0KCXRvU3RyaW5nOiBmdW5jdGlvbiAocHJlY2lzaW9uKSB7IC8vIChOdW1iZXIpIC0+IFN0cmluZw0KCQlyZXR1cm4gJ0xhdExuZygnICsNCgkJICAgICAgICBMLlV0aWwuZm9ybWF0TnVtKHRoaXMubGF0LCBwcmVjaXNpb24pICsgJywgJyArDQoJCSAgICAgICAgTC5VdGlsLmZvcm1hdE51bSh0aGlzLmxuZywgcHJlY2lzaW9uKSArICcpJzsNCgl9LA0KDQoJLy8gSGF2ZXJzaW5lIGRpc3RhbmNlIGZvcm11bGEsIHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhdmVyc2luZV9mb3JtdWxhDQoJLy8gVE9ETyBtb3ZlIHRvIHByb2plY3Rpb24gY29kZSwgTGF0TG5nIHNob3VsZG4ndCBrbm93IGFib3V0IEVhcnRoDQoJZGlzdGFuY2VUbzogZnVuY3Rpb24gKG90aGVyKSB7IC8vIChMYXRMbmcpIC0+IE51bWJlcg0KCQlvdGhlciA9IEwubGF0TG5nKG90aGVyKTsNCg0KCQl2YXIgUiA9IDYzNzgxMzcsIC8vIGVhcnRoIHJhZGl1cyBpbiBtZXRlcnMNCgkJICAgIGQyciA9IEwuTGF0TG5nLkRFR19UT19SQUQsDQoJCSAgICBkTGF0ID0gKG90aGVyLmxhdCAtIHRoaXMubGF0KSAqIGQyciwNCgkJICAgIGRMb24gPSAob3RoZXIubG5nIC0gdGhpcy5sbmcpICogZDJyLA0KCQkgICAgbGF0MSA9IHRoaXMubGF0ICogZDJyLA0KCQkgICAgbGF0MiA9IG90aGVyLmxhdCAqIGQyciwNCgkJICAgIHNpbjEgPSBNYXRoLnNpbihkTGF0IC8gMiksDQoJCSAgICBzaW4yID0gTWF0aC5zaW4oZExvbiAvIDIpOw0KDQoJCXZhciBhID0gc2luMSAqIHNpbjEgKyBzaW4yICogc2luMiAqIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0Mik7DQoNCgkJcmV0dXJuIFIgKiAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpOw0KCX0sDQoNCgl3cmFwOiBmdW5jdGlvbiAoYSwgYikgeyAvLyAoTnVtYmVyLCBOdW1iZXIpIC0+IExhdExuZw0KCQl2YXIgbG5nID0gdGhpcy5sbmc7DQoNCgkJYSA9IGEgfHwgLTE4MDsNCgkJYiA9IGIgfHwgIDE4MDsNCg0KCQlsbmcgPSAobG5nICsgYikgJSAoYiAtIGEpICsgKGxuZyA8IGEgfHwgbG5nID09PSBiID8gYiA6IGEpOw0KDQoJCXJldHVybiBuZXcgTC5MYXRMbmcodGhpcy5sYXQsIGxuZyk7DQoJfQ0KfTsNCg0KTC5sYXRMbmcgPSBmdW5jdGlvbiAoYSwgYikgeyAvLyAoTGF0TG5nKSBvciAoW051bWJlciwgTnVtYmVyXSkgb3IgKE51bWJlciwgTnVtYmVyKQ0KCWlmIChhIGluc3RhbmNlb2YgTC5MYXRMbmcpIHsNCgkJcmV0dXJuIGE7DQoJfQ0KCWlmIChMLlV0aWwuaXNBcnJheShhKSkgew0KCQlpZiAodHlwZW9mIGFbMF0gPT09ICdudW1iZXInIHx8IHR5cGVvZiBhWzBdID09PSAnc3RyaW5nJykgew0KCQkJcmV0dXJuIG5ldyBMLkxhdExuZyhhWzBdLCBhWzFdLCBhWzJdKTsNCgkJfSBlbHNlIHsNCgkJCXJldHVybiBudWxsOw0KCQl9DQoJfQ0KCWlmIChhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gbnVsbCkgew0KCQlyZXR1cm4gYTsNCgl9DQoJaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiAnbGF0JyBpbiBhKSB7DQoJCXJldHVybiBuZXcgTC5MYXRMbmcoYS5sYXQsICdsbmcnIGluIGEgPyBhLmxuZyA6IGEubG9uKTsNCgl9DQoJaWYgKGIgPT09IHVuZGVmaW5lZCkgew0KCQlyZXR1cm4gbnVsbDsNCgl9DQoJcmV0dXJuIG5ldyBMLkxhdExuZyhhLCBiKTsNCn07DQoNCgoKLyoNCiAqIEwuTGF0TG5nQm91bmRzIHJlcHJlc2VudHMgYSByZWN0YW5ndWxhciBhcmVhIG9uIHRoZSBtYXAgaW4gZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLg0KICovDQoNCkwuTGF0TG5nQm91bmRzID0gZnVuY3Rpb24gKHNvdXRoV2VzdCwgbm9ydGhFYXN0KSB7IC8vIChMYXRMbmcsIExhdExuZykgb3IgKExhdExuZ1tdKQ0KCWlmICghc291dGhXZXN0KSB7IHJldHVybjsgfQ0KDQoJdmFyIGxhdGxuZ3MgPSBub3J0aEVhc3QgPyBbc291dGhXZXN0LCBub3J0aEVhc3RdIDogc291dGhXZXN0Ow0KDQoJZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJdGhpcy5leHRlbmQobGF0bG5nc1tpXSk7DQoJfQ0KfTsNCg0KTC5MYXRMbmdCb3VuZHMucHJvdG90eXBlID0gew0KCS8vIGV4dGVuZCB0aGUgYm91bmRzIHRvIGNvbnRhaW4gdGhlIGdpdmVuIHBvaW50IG9yIGJvdW5kcw0KCWV4dGVuZDogZnVuY3Rpb24gKG9iaikgeyAvLyAoTGF0TG5nKSBvciAoTGF0TG5nQm91bmRzKQ0KCQlpZiAoIW9iaikgeyByZXR1cm4gdGhpczsgfQ0KDQoJCXZhciBsYXRMbmcgPSBMLmxhdExuZyhvYmopOw0KCQlpZiAobGF0TG5nICE9PSBudWxsKSB7DQoJCQlvYmogPSBsYXRMbmc7DQoJCX0gZWxzZSB7DQoJCQlvYmogPSBMLmxhdExuZ0JvdW5kcyhvYmopOw0KCQl9DQoNCgkJaWYgKG9iaiBpbnN0YW5jZW9mIEwuTGF0TG5nKSB7DQoJCQlpZiAoIXRoaXMuX3NvdXRoV2VzdCAmJiAhdGhpcy5fbm9ydGhFYXN0KSB7DQoJCQkJdGhpcy5fc291dGhXZXN0ID0gbmV3IEwuTGF0TG5nKG9iai5sYXQsIG9iai5sbmcpOw0KCQkJCXRoaXMuX25vcnRoRWFzdCA9IG5ldyBMLkxhdExuZyhvYmoubGF0LCBvYmoubG5nKTsNCgkJCX0gZWxzZSB7DQoJCQkJdGhpcy5fc291dGhXZXN0LmxhdCA9IE1hdGgubWluKG9iai5sYXQsIHRoaXMuX3NvdXRoV2VzdC5sYXQpOw0KCQkJCXRoaXMuX3NvdXRoV2VzdC5sbmcgPSBNYXRoLm1pbihvYmoubG5nLCB0aGlzLl9zb3V0aFdlc3QubG5nKTsNCg0KCQkJCXRoaXMuX25vcnRoRWFzdC5sYXQgPSBNYXRoLm1heChvYmoubGF0LCB0aGlzLl9ub3J0aEVhc3QubGF0KTsNCgkJCQl0aGlzLl9ub3J0aEVhc3QubG5nID0gTWF0aC5tYXgob2JqLmxuZywgdGhpcy5fbm9ydGhFYXN0LmxuZyk7DQoJCQl9DQoJCX0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTC5MYXRMbmdCb3VuZHMpIHsNCgkJCXRoaXMuZXh0ZW5kKG9iai5fc291dGhXZXN0KTsNCgkJCXRoaXMuZXh0ZW5kKG9iai5fbm9ydGhFYXN0KTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJLy8gZXh0ZW5kIHRoZSBib3VuZHMgYnkgYSBwZXJjZW50YWdlDQoJcGFkOiBmdW5jdGlvbiAoYnVmZmVyUmF0aW8pIHsgLy8gKE51bWJlcikgLT4gTGF0TG5nQm91bmRzDQoJCXZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCwNCgkJICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LA0KCQkgICAgaGVpZ2h0QnVmZmVyID0gTWF0aC5hYnMoc3cubGF0IC0gbmUubGF0KSAqIGJ1ZmZlclJhdGlvLA0KCQkgICAgd2lkdGhCdWZmZXIgPSBNYXRoLmFicyhzdy5sbmcgLSBuZS5sbmcpICogYnVmZmVyUmF0aW87DQoNCgkJcmV0dXJuIG5ldyBMLkxhdExuZ0JvdW5kcygNCgkJICAgICAgICBuZXcgTC5MYXRMbmcoc3cubGF0IC0gaGVpZ2h0QnVmZmVyLCBzdy5sbmcgLSB3aWR0aEJ1ZmZlciksDQoJCSAgICAgICAgbmV3IEwuTGF0TG5nKG5lLmxhdCArIGhlaWdodEJ1ZmZlciwgbmUubG5nICsgd2lkdGhCdWZmZXIpKTsNCgl9LA0KDQoJZ2V0Q2VudGVyOiBmdW5jdGlvbiAoKSB7IC8vIC0+IExhdExuZw0KCQlyZXR1cm4gbmV3IEwuTGF0TG5nKA0KCQkgICAgICAgICh0aGlzLl9zb3V0aFdlc3QubGF0ICsgdGhpcy5fbm9ydGhFYXN0LmxhdCkgLyAyLA0KCQkgICAgICAgICh0aGlzLl9zb3V0aFdlc3QubG5nICsgdGhpcy5fbm9ydGhFYXN0LmxuZykgLyAyKTsNCgl9LA0KDQoJZ2V0U291dGhXZXN0OiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl9zb3V0aFdlc3Q7DQoJfSwNCg0KCWdldE5vcnRoRWFzdDogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5fbm9ydGhFYXN0Ow0KCX0sDQoNCglnZXROb3J0aFdlc3Q6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIG5ldyBMLkxhdExuZyh0aGlzLmdldE5vcnRoKCksIHRoaXMuZ2V0V2VzdCgpKTsNCgl9LA0KDQoJZ2V0U291dGhFYXN0OiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiBuZXcgTC5MYXRMbmcodGhpcy5nZXRTb3V0aCgpLCB0aGlzLmdldEVhc3QoKSk7DQoJfSwNCg0KCWdldFdlc3Q6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX3NvdXRoV2VzdC5sbmc7DQoJfSwNCg0KCWdldFNvdXRoOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl9zb3V0aFdlc3QubGF0Ow0KCX0sDQoNCglnZXRFYXN0OiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl9ub3J0aEVhc3QubG5nOw0KCX0sDQoNCglnZXROb3J0aDogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5fbm9ydGhFYXN0LmxhdDsNCgl9LA0KDQoJY29udGFpbnM6IGZ1bmN0aW9uIChvYmopIHsgLy8gKExhdExuZ0JvdW5kcykgb3IgKExhdExuZykgLT4gQm9vbGVhbg0KCQlpZiAodHlwZW9mIG9ialswXSA9PT0gJ251bWJlcicgfHwgb2JqIGluc3RhbmNlb2YgTC5MYXRMbmcpIHsNCgkJCW9iaiA9IEwubGF0TG5nKG9iaik7DQoJCX0gZWxzZSB7DQoJCQlvYmogPSBMLmxhdExuZ0JvdW5kcyhvYmopOw0KCQl9DQoNCgkJdmFyIHN3ID0gdGhpcy5fc291dGhXZXN0LA0KCQkgICAgbmUgPSB0aGlzLl9ub3J0aEVhc3QsDQoJCSAgICBzdzIsIG5lMjsNCg0KCQlpZiAob2JqIGluc3RhbmNlb2YgTC5MYXRMbmdCb3VuZHMpIHsNCgkJCXN3MiA9IG9iai5nZXRTb3V0aFdlc3QoKTsNCgkJCW5lMiA9IG9iai5nZXROb3J0aEVhc3QoKTsNCgkJfSBlbHNlIHsNCgkJCXN3MiA9IG5lMiA9IG9iajsNCgkJfQ0KDQoJCXJldHVybiAoc3cyLmxhdCA+PSBzdy5sYXQpICYmIChuZTIubGF0IDw9IG5lLmxhdCkgJiYNCgkJICAgICAgIChzdzIubG5nID49IHN3LmxuZykgJiYgKG5lMi5sbmcgPD0gbmUubG5nKTsNCgl9LA0KDQoJaW50ZXJzZWN0czogZnVuY3Rpb24gKGJvdW5kcykgeyAvLyAoTGF0TG5nQm91bmRzKQ0KCQlib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhib3VuZHMpOw0KDQoJCXZhciBzdyA9IHRoaXMuX3NvdXRoV2VzdCwNCgkJICAgIG5lID0gdGhpcy5fbm9ydGhFYXN0LA0KCQkgICAgc3cyID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLA0KCQkgICAgbmUyID0gYm91bmRzLmdldE5vcnRoRWFzdCgpLA0KDQoJCSAgICBsYXRJbnRlcnNlY3RzID0gKG5lMi5sYXQgPj0gc3cubGF0KSAmJiAoc3cyLmxhdCA8PSBuZS5sYXQpLA0KCQkgICAgbG5nSW50ZXJzZWN0cyA9IChuZTIubG5nID49IHN3LmxuZykgJiYgKHN3Mi5sbmcgPD0gbmUubG5nKTsNCg0KCQlyZXR1cm4gbGF0SW50ZXJzZWN0cyAmJiBsbmdJbnRlcnNlY3RzOw0KCX0sDQoNCgl0b0JCb3hTdHJpbmc6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIFt0aGlzLmdldFdlc3QoKSwgdGhpcy5nZXRTb3V0aCgpLCB0aGlzLmdldEVhc3QoKSwgdGhpcy5nZXROb3J0aCgpXS5qb2luKCcsJyk7DQoJfSwNCg0KCWVxdWFsczogZnVuY3Rpb24gKGJvdW5kcykgeyAvLyAoTGF0TG5nQm91bmRzKQ0KCQlpZiAoIWJvdW5kcykgeyByZXR1cm4gZmFsc2U7IH0NCg0KCQlib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhib3VuZHMpOw0KDQoJCXJldHVybiB0aGlzLl9zb3V0aFdlc3QuZXF1YWxzKGJvdW5kcy5nZXRTb3V0aFdlc3QoKSkgJiYNCgkJICAgICAgIHRoaXMuX25vcnRoRWFzdC5lcXVhbHMoYm91bmRzLmdldE5vcnRoRWFzdCgpKTsNCgl9LA0KDQoJaXNWYWxpZDogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gISEodGhpcy5fc291dGhXZXN0ICYmIHRoaXMuX25vcnRoRWFzdCk7DQoJfQ0KfTsNCg0KLy9UT0RPIEludGVybmF0aW9uYWwgZGF0ZSBsaW5lPw0KDQpMLmxhdExuZ0JvdW5kcyA9IGZ1bmN0aW9uIChhLCBiKSB7IC8vIChMYXRMbmdCb3VuZHMpIG9yIChMYXRMbmcsIExhdExuZykNCglpZiAoIWEgfHwgYSBpbnN0YW5jZW9mIEwuTGF0TG5nQm91bmRzKSB7DQoJCXJldHVybiBhOw0KCX0NCglyZXR1cm4gbmV3IEwuTGF0TG5nQm91bmRzKGEsIGIpOw0KfTsNCgoKLyoNCiAqIEwuUHJvamVjdGlvbiBjb250YWlucyB2YXJpb3VzIGdlb2dyYXBoaWNhbCBwcm9qZWN0aW9ucyB1c2VkIGJ5IENSUyBjbGFzc2VzLg0KICovDQoNCkwuUHJvamVjdGlvbiA9IHt9Ow0KCgovKg0KICogU3BoZXJpY2FsIE1lcmNhdG9yIGlzIHRoZSBtb3N0IHBvcHVsYXIgbWFwIHByb2plY3Rpb24sIHVzZWQgYnkgRVBTRzozODU3IENSUyB1c2VkIGJ5IGRlZmF1bHQuDQogKi8NCg0KTC5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yID0gew0KCU1BWF9MQVRJVFVERTogODUuMDUxMTI4Nzc5OCwNCg0KCXByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHsgLy8gKExhdExuZykgLT4gUG9pbnQNCgkJdmFyIGQgPSBMLkxhdExuZy5ERUdfVE9fUkFELA0KCQkgICAgbWF4ID0gdGhpcy5NQVhfTEFUSVRVREUsDQoJCSAgICBsYXQgPSBNYXRoLm1heChNYXRoLm1pbihtYXgsIGxhdGxuZy5sYXQpLCAtbWF4KSwNCgkJICAgIHggPSBsYXRsbmcubG5nICogZCwNCgkJICAgIHkgPSBsYXQgKiBkOw0KDQoJCXkgPSBNYXRoLmxvZyhNYXRoLnRhbigoTWF0aC5QSSAvIDQpICsgKHkgLyAyKSkpOw0KDQoJCXJldHVybiBuZXcgTC5Qb2ludCh4LCB5KTsNCgl9LA0KDQoJdW5wcm9qZWN0OiBmdW5jdGlvbiAocG9pbnQpIHsgLy8gKFBvaW50LCBCb29sZWFuKSAtPiBMYXRMbmcNCgkJdmFyIGQgPSBMLkxhdExuZy5SQURfVE9fREVHLA0KCQkgICAgbG5nID0gcG9pbnQueCAqIGQsDQoJCSAgICBsYXQgPSAoMiAqIE1hdGguYXRhbihNYXRoLmV4cChwb2ludC55KSkgLSAoTWF0aC5QSSAvIDIpKSAqIGQ7DQoNCgkJcmV0dXJuIG5ldyBMLkxhdExuZyhsYXQsIGxuZyk7DQoJfQ0KfTsNCgoKLyoNCiAqIFNpbXBsZSBlcXVpcmVjdGFuZ3VsYXIgKFBsYXRlIENhcnJlZSkgcHJvamVjdGlvbiwgdXNlZCBieSBDUlMgbGlrZSBFUFNHOjQzMjYgYW5kIFNpbXBsZS4NCiAqLw0KDQpMLlByb2plY3Rpb24uTG9uTGF0ID0gew0KCXByb2plY3Q6IGZ1bmN0aW9uIChsYXRsbmcpIHsNCgkJcmV0dXJuIG5ldyBMLlBvaW50KGxhdGxuZy5sbmcsIGxhdGxuZy5sYXQpOw0KCX0sDQoNCgl1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCkgew0KCQlyZXR1cm4gbmV3IEwuTGF0TG5nKHBvaW50LnksIHBvaW50LngpOw0KCX0NCn07DQoKCi8qDQogKiBMLkNSUyBpcyBhIGJhc2Ugb2JqZWN0IGZvciBhbGwgZGVmaW5lZCBDUlMgKENvb3JkaW5hdGUgUmVmZXJlbmNlIFN5c3RlbXMpIGluIExlYWZsZXQuDQogKi8NCg0KTC5DUlMgPSB7DQoJbGF0TG5nVG9Qb2ludDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSkgeyAvLyAoTGF0TG5nLCBOdW1iZXIpIC0+IFBvaW50DQoJCXZhciBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxhdGxuZyksDQoJCSAgICBzY2FsZSA9IHRoaXMuc2NhbGUoem9vbSk7DQoNCgkJcmV0dXJuIHRoaXMudHJhbnNmb3JtYXRpb24uX3RyYW5zZm9ybShwcm9qZWN0ZWRQb2ludCwgc2NhbGUpOw0KCX0sDQoNCglwb2ludFRvTGF0TG5nOiBmdW5jdGlvbiAocG9pbnQsIHpvb20pIHsgLy8gKFBvaW50LCBOdW1iZXJbLCBCb29sZWFuXSkgLT4gTGF0TG5nDQoJCXZhciBzY2FsZSA9IHRoaXMuc2NhbGUoem9vbSksDQoJCSAgICB1bnRyYW5zZm9ybWVkUG9pbnQgPSB0aGlzLnRyYW5zZm9ybWF0aW9uLnVudHJhbnNmb3JtKHBvaW50LCBzY2FsZSk7DQoNCgkJcmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QodW50cmFuc2Zvcm1lZFBvaW50KTsNCgl9LA0KDQoJcHJvamVjdDogZnVuY3Rpb24gKGxhdGxuZykgew0KCQlyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnByb2plY3QobGF0bG5nKTsNCgl9LA0KDQoJc2NhbGU6IGZ1bmN0aW9uICh6b29tKSB7DQoJCXJldHVybiAyNTYgKiBNYXRoLnBvdygyLCB6b29tKTsNCgl9LA0KDQoJZ2V0U2l6ZTogZnVuY3Rpb24gKHpvb20pIHsNCgkJdmFyIHMgPSB0aGlzLnNjYWxlKHpvb20pOw0KCQlyZXR1cm4gTC5wb2ludChzLCBzKTsNCgl9DQp9Ow0KCgovKgogKiBBIHNpbXBsZSBDUlMgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZmxhdCBub24tRWFydGggbWFwcyBsaWtlIHBhbm9yYW1hcyBvciBnYW1lIG1hcHMuCiAqLwoKTC5DUlMuU2ltcGxlID0gTC5leHRlbmQoe30sIEwuQ1JTLCB7Cglwcm9qZWN0aW9uOiBMLlByb2plY3Rpb24uTG9uTGF0LAoJdHJhbnNmb3JtYXRpb246IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDEsIDAsIC0xLCAwKSwKCglzY2FsZTogZnVuY3Rpb24gKHpvb20pIHsKCQlyZXR1cm4gTWF0aC5wb3coMiwgem9vbSk7Cgl9Cn0pOwoKCi8qDQogKiBMLkNSUy5FUFNHMzg1NyAoU3BoZXJpY2FsIE1lcmNhdG9yKSBpcyB0aGUgbW9zdCBjb21tb24gQ1JTIGZvciB3ZWIgbWFwcGluZw0KICogYW5kIGlzIHVzZWQgYnkgTGVhZmxldCBieSBkZWZhdWx0Lg0KICovDQoNCkwuQ1JTLkVQU0czODU3ID0gTC5leHRlbmQoe30sIEwuQ1JTLCB7DQoJY29kZTogJ0VQU0c6Mzg1NycsDQoNCglwcm9qZWN0aW9uOiBMLlByb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3IsDQoJdHJhbnNmb3JtYXRpb246IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDAuNSAvIE1hdGguUEksIDAuNSwgLTAuNSAvIE1hdGguUEksIDAuNSksDQoNCglwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7IC8vIChMYXRMbmcpIC0+IFBvaW50DQoJCXZhciBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KGxhdGxuZyksDQoJCSAgICBlYXJ0aFJhZGl1cyA9IDYzNzgxMzc7DQoJCXJldHVybiBwcm9qZWN0ZWRQb2ludC5tdWx0aXBseUJ5KGVhcnRoUmFkaXVzKTsNCgl9DQp9KTsNCg0KTC5DUlMuRVBTRzkwMDkxMyA9IEwuZXh0ZW5kKHt9LCBMLkNSUy5FUFNHMzg1Nywgew0KCWNvZGU6ICdFUFNHOjkwMDkxMycNCn0pOw0KCgovKg0KICogTC5DUlMuRVBTRzQzMjYgaXMgYSBDUlMgcG9wdWxhciBhbW9uZyBhZHZhbmNlZCBHSVMgc3BlY2lhbGlzdHMuDQogKi8NCg0KTC5DUlMuRVBTRzQzMjYgPSBMLmV4dGVuZCh7fSwgTC5DUlMsIHsNCgljb2RlOiAnRVBTRzo0MzI2JywNCg0KCXByb2plY3Rpb246IEwuUHJvamVjdGlvbi5Mb25MYXQsDQoJdHJhbnNmb3JtYXRpb246IG5ldyBMLlRyYW5zZm9ybWF0aW9uKDEgLyAzNjAsIDAuNSwgLTEgLyAzNjAsIDAuNSkNCn0pOw0KCgovKg0KICogTC5NYXAgaXMgdGhlIGNlbnRyYWwgY2xhc3Mgb2YgdGhlIEFQSSAtIGl0IGlzIHVzZWQgdG8gY3JlYXRlIGEgbWFwLg0KICovDQoNCkwuTWFwID0gTC5DbGFzcy5leHRlbmQoew0KDQoJaW5jbHVkZXM6IEwuTWl4aW4uRXZlbnRzLA0KDQoJb3B0aW9uczogew0KCQljcnM6IEwuQ1JTLkVQU0czODU3LA0KDQoJCS8qDQoJCWNlbnRlcjogTGF0TG5nLA0KCQl6b29tOiBOdW1iZXIsDQoJCWxheWVyczogQXJyYXksDQoJCSovDQoNCgkJZmFkZUFuaW1hdGlvbjogTC5Eb21VdGlsLlRSQU5TSVRJT04gJiYgIUwuQnJvd3Nlci5hbmRyb2lkMjMsDQoJCXRyYWNrUmVzaXplOiB0cnVlLA0KCQltYXJrZXJab29tQW5pbWF0aW9uOiBMLkRvbVV0aWwuVFJBTlNJVElPTiAmJiBMLkJyb3dzZXIuYW55M2QNCgl9LA0KDQoJaW5pdGlhbGl6ZTogZnVuY3Rpb24gKGlkLCBvcHRpb25zKSB7IC8vIChIVE1MRWxlbWVudCBvciBTdHJpbmcsIE9iamVjdCkNCgkJb3B0aW9ucyA9IEwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTsNCg0KDQoJCXRoaXMuX2luaXRDb250YWluZXIoaWQpOw0KCQl0aGlzLl9pbml0TGF5b3V0KCk7DQoNCgkJLy8gaGFjayBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0xlYWZsZXQvTGVhZmxldC9pc3N1ZXMvMTk4MA0KCQl0aGlzLl9vblJlc2l6ZSA9IEwuYmluZCh0aGlzLl9vblJlc2l6ZSwgdGhpcyk7DQoNCgkJdGhpcy5faW5pdEV2ZW50cygpOw0KDQoJCWlmIChvcHRpb25zLm1heEJvdW5kcykgew0KCQkJdGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpOw0KCQl9DQoNCgkJaWYgKG9wdGlvbnMuY2VudGVyICYmIG9wdGlvbnMuem9vbSAhPT0gdW5kZWZpbmVkKSB7DQoJCQl0aGlzLnNldFZpZXcoTC5sYXRMbmcob3B0aW9ucy5jZW50ZXIpLCBvcHRpb25zLnpvb20sIHtyZXNldDogdHJ1ZX0pOw0KCQl9DQoNCgkJdGhpcy5faGFuZGxlcnMgPSBbXTsNCg0KCQl0aGlzLl9sYXllcnMgPSB7fTsNCgkJdGhpcy5fem9vbUJvdW5kTGF5ZXJzID0ge307DQoJCXRoaXMuX3RpbGVMYXllcnNOdW0gPSAwOw0KDQoJCXRoaXMuY2FsbEluaXRIb29rcygpOw0KDQoJCXRoaXMuX2FkZExheWVycyhvcHRpb25zLmxheWVycyk7DQoJfSwNCg0KDQoJLy8gcHVibGljIG1ldGhvZHMgdGhhdCBtb2RpZnkgbWFwIHN0YXRlDQoNCgkvLyByZXBsYWNlZCBieSBhbmltYXRpb24tcG93ZXJlZCBpbXBsZW1lbnRhdGlvbiBpbiBNYXAuUGFuQW5pbWF0aW9uLmpzDQoJc2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkgew0KCQl6b29tID0gem9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5nZXRab29tKCkgOiB6b29tOw0KCQl0aGlzLl9yZXNldFZpZXcoTC5sYXRMbmcoY2VudGVyKSwgdGhpcy5fbGltaXRab29tKHpvb20pKTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXNldFpvb206IGZ1bmN0aW9uICh6b29tLCBvcHRpb25zKSB7DQoJCWlmICghdGhpcy5fbG9hZGVkKSB7DQoJCQl0aGlzLl96b29tID0gdGhpcy5fbGltaXRab29tKHpvb20pOw0KCQkJcmV0dXJuIHRoaXM7DQoJCX0NCgkJcmV0dXJuIHRoaXMuc2V0Vmlldyh0aGlzLmdldENlbnRlcigpLCB6b29tLCB7em9vbTogb3B0aW9uc30pOw0KCX0sDQoNCgl6b29tSW46IGZ1bmN0aW9uIChkZWx0YSwgb3B0aW9ucykgew0KCQlyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20gKyAoZGVsdGEgfHwgMSksIG9wdGlvbnMpOw0KCX0sDQoNCgl6b29tT3V0OiBmdW5jdGlvbiAoZGVsdGEsIG9wdGlvbnMpIHsNCgkJcmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLl96b29tIC0gKGRlbHRhIHx8IDEpLCBvcHRpb25zKTsNCgl9LA0KDQoJc2V0Wm9vbUFyb3VuZDogZnVuY3Rpb24gKGxhdGxuZywgem9vbSwgb3B0aW9ucykgew0KCQl2YXIgc2NhbGUgPSB0aGlzLmdldFpvb21TY2FsZSh6b29tKSwNCgkJICAgIHZpZXdIYWxmID0gdGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMiksDQoJCSAgICBjb250YWluZXJQb2ludCA9IGxhdGxuZyBpbnN0YW5jZW9mIEwuUG9pbnQgPyBsYXRsbmcgOiB0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQobGF0bG5nKSwNCg0KCQkgICAgY2VudGVyT2Zmc2V0ID0gY29udGFpbmVyUG9pbnQuc3VidHJhY3Qodmlld0hhbGYpLm11bHRpcGx5QnkoMSAtIDEgLyBzY2FsZSksDQoJCSAgICBuZXdDZW50ZXIgPSB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXRMbmcodmlld0hhbGYuYWRkKGNlbnRlck9mZnNldCkpOw0KDQoJCXJldHVybiB0aGlzLnNldFZpZXcobmV3Q2VudGVyLCB6b29tLCB7em9vbTogb3B0aW9uc30pOw0KCX0sDQoNCglmaXRCb3VuZHM6IGZ1bmN0aW9uIChib3VuZHMsIG9wdGlvbnMpIHsNCg0KCQlvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsNCgkJYm91bmRzID0gYm91bmRzLmdldEJvdW5kcyA/IGJvdW5kcy5nZXRCb3VuZHMoKSA6IEwubGF0TG5nQm91bmRzKGJvdW5kcyk7DQoNCgkJdmFyIHBhZGRpbmdUTCA9IEwucG9pbnQob3B0aW9ucy5wYWRkaW5nVG9wTGVmdCB8fCBvcHRpb25zLnBhZGRpbmcgfHwgWzAsIDBdKSwNCgkJICAgIHBhZGRpbmdCUiA9IEwucG9pbnQob3B0aW9ucy5wYWRkaW5nQm90dG9tUmlnaHQgfHwgb3B0aW9ucy5wYWRkaW5nIHx8IFswLCAwXSksDQoNCgkJICAgIHpvb20gPSB0aGlzLmdldEJvdW5kc1pvb20oYm91bmRzLCBmYWxzZSwgcGFkZGluZ1RMLmFkZChwYWRkaW5nQlIpKSwNCgkJICAgIHBhZGRpbmdPZmZzZXQgPSBwYWRkaW5nQlIuc3VidHJhY3QocGFkZGluZ1RMKS5kaXZpZGVCeSgyKSwNCg0KCQkgICAgc3dQb2ludCA9IHRoaXMucHJvamVjdChib3VuZHMuZ2V0U291dGhXZXN0KCksIHpvb20pLA0KCQkgICAgbmVQb2ludCA9IHRoaXMucHJvamVjdChib3VuZHMuZ2V0Tm9ydGhFYXN0KCksIHpvb20pLA0KCQkgICAgY2VudGVyID0gdGhpcy51bnByb2plY3Qoc3dQb2ludC5hZGQobmVQb2ludCkuZGl2aWRlQnkoMikuYWRkKHBhZGRpbmdPZmZzZXQpLCB6b29tKTsNCg0KCQl6b29tID0gb3B0aW9ucyAmJiBvcHRpb25zLm1heFpvb20gPyBNYXRoLm1pbihvcHRpb25zLm1heFpvb20sIHpvb20pIDogem9vbTsNCg0KCQlyZXR1cm4gdGhpcy5zZXRWaWV3KGNlbnRlciwgem9vbSwgb3B0aW9ucyk7DQoJfSwNCg0KCWZpdFdvcmxkOiBmdW5jdGlvbiAob3B0aW9ucykgew0KCQlyZXR1cm4gdGhpcy5maXRCb3VuZHMoW1stOTAsIC0xODBdLCBbOTAsIDE4MF1dLCBvcHRpb25zKTsNCgl9LA0KDQoJcGFuVG86IGZ1bmN0aW9uIChjZW50ZXIsIG9wdGlvbnMpIHsgLy8gKExhdExuZykNCgkJcmV0dXJuIHRoaXMuc2V0VmlldyhjZW50ZXIsIHRoaXMuX3pvb20sIHtwYW46IG9wdGlvbnN9KTsNCgl9LA0KDQoJcGFuQnk6IGZ1bmN0aW9uIChvZmZzZXQpIHsgLy8gKFBvaW50KQ0KCQkvLyByZXBsYWNlZCB3aXRoIGFuaW1hdGVkIHBhbkJ5IGluIE1hcC5QYW5BbmltYXRpb24uanMNCgkJdGhpcy5maXJlKCdtb3Zlc3RhcnQnKTsNCg0KCQl0aGlzLl9yYXdQYW5CeShMLnBvaW50KG9mZnNldCkpOw0KDQoJCXRoaXMuZmlyZSgnbW92ZScpOw0KCQlyZXR1cm4gdGhpcy5maXJlKCdtb3ZlZW5kJyk7DQoJfSwNCg0KCXNldE1heEJvdW5kczogZnVuY3Rpb24gKGJvdW5kcykgew0KCQlib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhib3VuZHMpOw0KDQoJCXRoaXMub3B0aW9ucy5tYXhCb3VuZHMgPSBib3VuZHM7DQoNCgkJaWYgKCFib3VuZHMpIHsNCgkJCXJldHVybiB0aGlzLm9mZignbW92ZWVuZCcsIHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcywgdGhpcyk7DQoJCX0NCg0KCQlpZiAodGhpcy5fbG9hZGVkKSB7DQoJCQl0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMoKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzLm9uKCdtb3ZlZW5kJywgdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzLCB0aGlzKTsNCgl9LA0KDQoJcGFuSW5zaWRlQm91bmRzOiBmdW5jdGlvbiAoYm91bmRzLCBvcHRpb25zKSB7DQoJCXZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpLA0KCQkJbmV3Q2VudGVyID0gdGhpcy5fbGltaXRDZW50ZXIoY2VudGVyLCB0aGlzLl96b29tLCBib3VuZHMpOw0KDQoJCWlmIChjZW50ZXIuZXF1YWxzKG5ld0NlbnRlcikpIHsgcmV0dXJuIHRoaXM7IH0NCg0KCQlyZXR1cm4gdGhpcy5wYW5UbyhuZXdDZW50ZXIsIG9wdGlvbnMpOw0KCX0sDQoNCglhZGRMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7DQoJCS8vIFRPRE8gbWV0aG9kIGlzIHRvbyBiaWcsIHJlZmFjdG9yDQoNCgkJdmFyIGlkID0gTC5zdGFtcChsYXllcik7DQoNCgkJaWYgKHRoaXMuX2xheWVyc1tpZF0pIHsgcmV0dXJuIHRoaXM7IH0NCg0KCQl0aGlzLl9sYXllcnNbaWRdID0gbGF5ZXI7DQoNCgkJLy8gVE9ETyBnZXRNYXhab29tLCBnZXRNaW5ab29tIGluIElMYXllciAoaW5zdGVhZCBvZiBvcHRpb25zKQ0KCQlpZiAobGF5ZXIub3B0aW9ucyAmJiAoIWlzTmFOKGxheWVyLm9wdGlvbnMubWF4Wm9vbSkgfHwgIWlzTmFOKGxheWVyLm9wdGlvbnMubWluWm9vbSkpKSB7DQoJCQl0aGlzLl96b29tQm91bmRMYXllcnNbaWRdID0gbGF5ZXI7DQoJCQl0aGlzLl91cGRhdGVab29tTGV2ZWxzKCk7DQoJCX0NCg0KCQkvLyBUT0RPIGxvb2tzIHVnbHksIHJlZmFjdG9yISEhDQoJCWlmICh0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiAmJiBMLlRpbGVMYXllciAmJiAobGF5ZXIgaW5zdGFuY2VvZiBMLlRpbGVMYXllcikpIHsNCgkJCXRoaXMuX3RpbGVMYXllcnNOdW0rKzsNCgkJCXRoaXMuX3RpbGVMYXllcnNUb0xvYWQrKzsNCgkJCWxheWVyLm9uKCdsb2FkJywgdGhpcy5fb25UaWxlTGF5ZXJMb2FkLCB0aGlzKTsNCgkJfQ0KDQoJCWlmICh0aGlzLl9sb2FkZWQpIHsNCgkJCXRoaXMuX2xheWVyQWRkKGxheWVyKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7DQoJCXZhciBpZCA9IEwuc3RhbXAobGF5ZXIpOw0KDQoJCWlmICghdGhpcy5fbGF5ZXJzW2lkXSkgeyByZXR1cm4gdGhpczsgfQ0KDQoJCWlmICh0aGlzLl9sb2FkZWQpIHsNCgkJCWxheWVyLm9uUmVtb3ZlKHRoaXMpOw0KCQl9DQoNCgkJZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07DQoNCgkJaWYgKHRoaXMuX2xvYWRlZCkgew0KCQkJdGhpcy5maXJlKCdsYXllcnJlbW92ZScsIHtsYXllcjogbGF5ZXJ9KTsNCgkJfQ0KDQoJCWlmICh0aGlzLl96b29tQm91bmRMYXllcnNbaWRdKSB7DQoJCQlkZWxldGUgdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2lkXTsNCgkJCXRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKTsNCgkJfQ0KDQoJCS8vIFRPRE8gbG9va3MgdWdseSwgcmVmYWN0b3INCgkJaWYgKHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uICYmIEwuVGlsZUxheWVyICYmIChsYXllciBpbnN0YW5jZW9mIEwuVGlsZUxheWVyKSkgew0KCQkJdGhpcy5fdGlsZUxheWVyc051bS0tOw0KCQkJdGhpcy5fdGlsZUxheWVyc1RvTG9hZC0tOw0KCQkJbGF5ZXIub2ZmKCdsb2FkJywgdGhpcy5fb25UaWxlTGF5ZXJMb2FkLCB0aGlzKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgloYXNMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7DQoJCWlmICghbGF5ZXIpIHsgcmV0dXJuIGZhbHNlOyB9DQoNCgkJcmV0dXJuIChMLnN0YW1wKGxheWVyKSBpbiB0aGlzLl9sYXllcnMpOw0KCX0sDQoNCgllYWNoTGF5ZXI6IGZ1bmN0aW9uIChtZXRob2QsIGNvbnRleHQpIHsNCgkJZm9yICh2YXIgaSBpbiB0aGlzLl9sYXllcnMpIHsNCgkJCW1ldGhvZC5jYWxsKGNvbnRleHQsIHRoaXMuX2xheWVyc1tpXSk7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWludmFsaWRhdGVTaXplOiBmdW5jdGlvbiAob3B0aW9ucykgew0KCQlpZiAoIXRoaXMuX2xvYWRlZCkgeyByZXR1cm4gdGhpczsgfQ0KDQoJCW9wdGlvbnMgPSBMLmV4dGVuZCh7DQoJCQlhbmltYXRlOiBmYWxzZSwNCgkJCXBhbjogdHJ1ZQ0KCQl9LCBvcHRpb25zID09PSB0cnVlID8ge2FuaW1hdGU6IHRydWV9IDogb3B0aW9ucyk7DQoNCgkJdmFyIG9sZFNpemUgPSB0aGlzLmdldFNpemUoKTsNCgkJdGhpcy5fc2l6ZUNoYW5nZWQgPSB0cnVlOw0KCQl0aGlzLl9pbml0aWFsQ2VudGVyID0gbnVsbDsNCg0KCQl2YXIgbmV3U2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLA0KCQkgICAgb2xkQ2VudGVyID0gb2xkU2l6ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLA0KCQkgICAgbmV3Q2VudGVyID0gbmV3U2l6ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLA0KCQkgICAgb2Zmc2V0ID0gb2xkQ2VudGVyLnN1YnRyYWN0KG5ld0NlbnRlcik7DQoNCgkJaWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHsgcmV0dXJuIHRoaXM7IH0NCg0KCQlpZiAob3B0aW9ucy5hbmltYXRlICYmIG9wdGlvbnMucGFuKSB7DQoJCQl0aGlzLnBhbkJ5KG9mZnNldCk7DQoNCgkJfSBlbHNlIHsNCgkJCWlmIChvcHRpb25zLnBhbikgew0KCQkJCXRoaXMuX3Jhd1BhbkJ5KG9mZnNldCk7DQoJCQl9DQoNCgkJCXRoaXMuZmlyZSgnbW92ZScpOw0KDQoJCQlpZiAob3B0aW9ucy5kZWJvdW5jZU1vdmVlbmQpIHsNCgkJCQljbGVhclRpbWVvdXQodGhpcy5fc2l6ZVRpbWVyKTsNCgkJCQl0aGlzLl9zaXplVGltZXIgPSBzZXRUaW1lb3V0KEwuYmluZCh0aGlzLmZpcmUsIHRoaXMsICdtb3ZlZW5kJyksIDIwMCk7DQoJCQl9IGVsc2Ugew0KCQkJCXRoaXMuZmlyZSgnbW92ZWVuZCcpOw0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHRoaXMuZmlyZSgncmVzaXplJywgew0KCQkJb2xkU2l6ZTogb2xkU2l6ZSwNCgkJCW5ld1NpemU6IG5ld1NpemUNCgkJfSk7DQoJfSwNCg0KCS8vIFRPRE8gaGFuZGxlci5hZGRUbw0KCWFkZEhhbmRsZXI6IGZ1bmN0aW9uIChuYW1lLCBIYW5kbGVyQ2xhc3MpIHsNCgkJaWYgKCFIYW5kbGVyQ2xhc3MpIHsgcmV0dXJuIHRoaXM7IH0NCg0KCQl2YXIgaGFuZGxlciA9IHRoaXNbbmFtZV0gPSBuZXcgSGFuZGxlckNsYXNzKHRoaXMpOw0KDQoJCXRoaXMuX2hhbmRsZXJzLnB1c2goaGFuZGxlcik7DQoNCgkJaWYgKHRoaXMub3B0aW9uc1tuYW1lXSkgew0KCQkJaGFuZGxlci5lbmFibGUoKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglyZW1vdmU6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX2xvYWRlZCkgew0KCQkJdGhpcy5maXJlKCd1bmxvYWQnKTsNCgkJfQ0KDQoJCXRoaXMuX2luaXRFdmVudHMoJ29mZicpOw0KDQoJCXRyeSB7DQoJCQkvLyB0aHJvd3MgZXJyb3IgaW4gSUU2LTgNCgkJCWRlbGV0ZSB0aGlzLl9jb250YWluZXIuX2xlYWZsZXQ7DQoJCX0gY2F0Y2ggKGUpIHsNCgkJCXRoaXMuX2NvbnRhaW5lci5fbGVhZmxldCA9IHVuZGVmaW5lZDsNCgkJfQ0KDQoJCXRoaXMuX2NsZWFyUGFuZXMoKTsNCgkJaWYgKHRoaXMuX2NsZWFyQ29udHJvbFBvcykgew0KCQkJdGhpcy5fY2xlYXJDb250cm9sUG9zKCk7DQoJCX0NCg0KCQl0aGlzLl9jbGVhckhhbmRsZXJzKCk7DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KDQoJLy8gcHVibGljIG1ldGhvZHMgZm9yIGdldHRpbmcgbWFwIHN0YXRlDQoNCglnZXRDZW50ZXI6IGZ1bmN0aW9uICgpIHsgLy8gKEJvb2xlYW4pIC0+IExhdExuZw0KCQl0aGlzLl9jaGVja0lmTG9hZGVkKCk7DQoNCgkJaWYgKHRoaXMuX2luaXRpYWxDZW50ZXIgJiYgIXRoaXMuX21vdmVkKCkpIHsNCgkJCXJldHVybiB0aGlzLl9pbml0aWFsQ2VudGVyOw0KCQl9DQoJCXJldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkpOw0KCX0sDQoNCglnZXRab29tOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl96b29tOw0KCX0sDQoNCglnZXRCb3VuZHM6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIGJvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSwNCgkJICAgIHN3ID0gdGhpcy51bnByb2plY3QoYm91bmRzLmdldEJvdHRvbUxlZnQoKSksDQoJCSAgICBuZSA9IHRoaXMudW5wcm9qZWN0KGJvdW5kcy5nZXRUb3BSaWdodCgpKTsNCg0KCQlyZXR1cm4gbmV3IEwuTGF0TG5nQm91bmRzKHN3LCBuZSk7DQoJfSwNCg0KCWdldE1pblpvb206IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMub3B0aW9ucy5taW5ab29tID09PSB1bmRlZmluZWQgPw0KCQkJKHRoaXMuX2xheWVyc01pblpvb20gPT09IHVuZGVmaW5lZCA/IDAgOiB0aGlzLl9sYXllcnNNaW5ab29tKSA6DQoJCQl0aGlzLm9wdGlvbnMubWluWm9vbTsNCgl9LA0KDQoJZ2V0TWF4Wm9vbTogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5vcHRpb25zLm1heFpvb20gPT09IHVuZGVmaW5lZCA/DQoJCQkodGhpcy5fbGF5ZXJzTWF4Wm9vbSA9PT0gdW5kZWZpbmVkID8gSW5maW5pdHkgOiB0aGlzLl9sYXllcnNNYXhab29tKSA6DQoJCQl0aGlzLm9wdGlvbnMubWF4Wm9vbTsNCgl9LA0KDQoJZ2V0Qm91bmRzWm9vbTogZnVuY3Rpb24gKGJvdW5kcywgaW5zaWRlLCBwYWRkaW5nKSB7IC8vIChMYXRMbmdCb3VuZHNbLCBCb29sZWFuLCBQb2ludF0pIC0+IE51bWJlcg0KCQlib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhib3VuZHMpOw0KDQoJCXZhciB6b29tID0gdGhpcy5nZXRNaW5ab29tKCkgLSAoaW5zaWRlID8gMSA6IDApLA0KCQkgICAgbWF4Wm9vbSA9IHRoaXMuZ2V0TWF4Wm9vbSgpLA0KCQkgICAgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLA0KDQoJCSAgICBudyA9IGJvdW5kcy5nZXROb3J0aFdlc3QoKSwNCgkJICAgIHNlID0gYm91bmRzLmdldFNvdXRoRWFzdCgpLA0KDQoJCSAgICB6b29tTm90Rm91bmQgPSB0cnVlLA0KCQkgICAgYm91bmRzU2l6ZTsNCg0KCQlwYWRkaW5nID0gTC5wb2ludChwYWRkaW5nIHx8IFswLCAwXSk7DQoNCgkJZG8gew0KCQkJem9vbSsrOw0KCQkJYm91bmRzU2l6ZSA9IHRoaXMucHJvamVjdChzZSwgem9vbSkuc3VidHJhY3QodGhpcy5wcm9qZWN0KG53LCB6b29tKSkuYWRkKHBhZGRpbmcpOw0KCQkJem9vbU5vdEZvdW5kID0gIWluc2lkZSA/IHNpemUuY29udGFpbnMoYm91bmRzU2l6ZSkgOiBib3VuZHNTaXplLnggPCBzaXplLnggfHwgYm91bmRzU2l6ZS55IDwgc2l6ZS55Ow0KDQoJCX0gd2hpbGUgKHpvb21Ob3RGb3VuZCAmJiB6b29tIDw9IG1heFpvb20pOw0KDQoJCWlmICh6b29tTm90Rm91bmQgJiYgaW5zaWRlKSB7DQoJCQlyZXR1cm4gbnVsbDsNCgkJfQ0KDQoJCXJldHVybiBpbnNpZGUgPyB6b29tIDogem9vbSAtIDE7DQoJfSwNCg0KCWdldFNpemU6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCF0aGlzLl9zaXplIHx8IHRoaXMuX3NpemVDaGFuZ2VkKSB7DQoJCQl0aGlzLl9zaXplID0gbmV3IEwuUG9pbnQoDQoJCQkJdGhpcy5fY29udGFpbmVyLmNsaWVudFdpZHRoLA0KCQkJCXRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQpOw0KDQoJCQl0aGlzLl9zaXplQ2hhbmdlZCA9IGZhbHNlOw0KCQl9DQoJCXJldHVybiB0aGlzLl9zaXplLmNsb25lKCk7DQoJfSwNCg0KCWdldFBpeGVsQm91bmRzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciB0b3BMZWZ0UG9pbnQgPSB0aGlzLl9nZXRUb3BMZWZ0UG9pbnQoKTsNCgkJcmV0dXJuIG5ldyBMLkJvdW5kcyh0b3BMZWZ0UG9pbnQsIHRvcExlZnRQb2ludC5hZGQodGhpcy5nZXRTaXplKCkpKTsNCgl9LA0KDQoJZ2V0UGl4ZWxPcmlnaW46IGZ1bmN0aW9uICgpIHsNCgkJdGhpcy5fY2hlY2tJZkxvYWRlZCgpOw0KCQlyZXR1cm4gdGhpcy5faW5pdGlhbFRvcExlZnRQb2ludDsNCgl9LA0KDQoJZ2V0UGFuZXM6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX3BhbmVzOw0KCX0sDQoNCglnZXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsNCgl9LA0KDQoNCgkvLyBUT0RPIHJlcGxhY2Ugd2l0aCB1bml2ZXJzYWwgaW1wbGVtZW50YXRpb24gYWZ0ZXIgcmVmYWN0b3JpbmcgcHJvamVjdGlvbnMNCg0KCWdldFpvb21TY2FsZTogZnVuY3Rpb24gKHRvWm9vbSkgew0KCQl2YXIgY3JzID0gdGhpcy5vcHRpb25zLmNyczsNCgkJcmV0dXJuIGNycy5zY2FsZSh0b1pvb20pIC8gY3JzLnNjYWxlKHRoaXMuX3pvb20pOw0KCX0sDQoNCglnZXRTY2FsZVpvb206IGZ1bmN0aW9uIChzY2FsZSkgew0KCQlyZXR1cm4gdGhpcy5fem9vbSArIChNYXRoLmxvZyhzY2FsZSkgLyBNYXRoLkxOMik7DQoJfSwNCg0KDQoJLy8gY29udmVyc2lvbiBtZXRob2RzDQoNCglwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nLCB6b29tKSB7IC8vIChMYXRMbmdbLCBOdW1iZXJdKSAtPiBQb2ludA0KCQl6b29tID0gem9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fem9vbSA6IHpvb207DQoJCXJldHVybiB0aGlzLm9wdGlvbnMuY3JzLmxhdExuZ1RvUG9pbnQoTC5sYXRMbmcobGF0bG5nKSwgem9vbSk7DQoJfSwNCg0KCXVucHJvamVjdDogZnVuY3Rpb24gKHBvaW50LCB6b29tKSB7IC8vIChQb2ludFssIE51bWJlcl0pIC0+IExhdExuZw0KCQl6b29tID0gem9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fem9vbSA6IHpvb207DQoJCXJldHVybiB0aGlzLm9wdGlvbnMuY3JzLnBvaW50VG9MYXRMbmcoTC5wb2ludChwb2ludCksIHpvb20pOw0KCX0sDQoNCglsYXllclBvaW50VG9MYXRMbmc6IGZ1bmN0aW9uIChwb2ludCkgeyAvLyAoUG9pbnQpDQoJCXZhciBwcm9qZWN0ZWRQb2ludCA9IEwucG9pbnQocG9pbnQpLmFkZCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpOw0KCQlyZXR1cm4gdGhpcy51bnByb2plY3QocHJvamVjdGVkUG9pbnQpOw0KCX0sDQoNCglsYXRMbmdUb0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChsYXRsbmcpIHsgLy8gKExhdExuZykNCgkJdmFyIHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0KEwubGF0TG5nKGxhdGxuZykpLl9yb3VuZCgpOw0KCQlyZXR1cm4gcHJvamVjdGVkUG9pbnQuX3N1YnRyYWN0KHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKSk7DQoJfSwNCg0KCWNvbnRhaW5lclBvaW50VG9MYXllclBvaW50OiBmdW5jdGlvbiAocG9pbnQpIHsgLy8gKFBvaW50KQ0KCQlyZXR1cm4gTC5wb2ludChwb2ludCkuc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTsNCgl9LA0KDQoJbGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCkgeyAvLyAoUG9pbnQpDQoJCXJldHVybiBMLnBvaW50KHBvaW50KS5hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTsNCgl9LA0KDQoJY29udGFpbmVyUG9pbnRUb0xhdExuZzogZnVuY3Rpb24gKHBvaW50KSB7DQoJCXZhciBsYXllclBvaW50ID0gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludChMLnBvaW50KHBvaW50KSk7DQoJCXJldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyhsYXllclBvaW50KTsNCgl9LA0KDQoJbGF0TG5nVG9Db250YWluZXJQb2ludDogZnVuY3Rpb24gKGxhdGxuZykgew0KCQlyZXR1cm4gdGhpcy5sYXllclBvaW50VG9Db250YWluZXJQb2ludCh0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludChMLmxhdExuZyhsYXRsbmcpKSk7DQoJfSwNCg0KCW1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50OiBmdW5jdGlvbiAoZSkgeyAvLyAoTW91c2VFdmVudCkNCgkJcmV0dXJuIEwuRG9tRXZlbnQuZ2V0TW91c2VQb3NpdGlvbihlLCB0aGlzLl9jb250YWluZXIpOw0KCX0sDQoNCgltb3VzZUV2ZW50VG9MYXllclBvaW50OiBmdW5jdGlvbiAoZSkgeyAvLyAoTW91c2VFdmVudCkNCgkJcmV0dXJuIHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodGhpcy5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKSk7DQoJfSwNCg0KCW1vdXNlRXZlbnRUb0xhdExuZzogZnVuY3Rpb24gKGUpIHsgLy8gKE1vdXNlRXZlbnQpDQoJCXJldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSkpOw0KCX0sDQoNCg0KCS8vIG1hcCBpbml0aWFsaXphdGlvbiBtZXRob2RzDQoNCglfaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKGlkKSB7DQoJCXZhciBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXIgPSBMLkRvbVV0aWwuZ2V0KGlkKTsNCg0KCQlpZiAoIWNvbnRhaW5lcikgew0KCQkJdGhyb3cgbmV3IEVycm9yKCdNYXAgY29udGFpbmVyIG5vdCBmb3VuZC4nKTsNCgkJfSBlbHNlIGlmIChjb250YWluZXIuX2xlYWZsZXQpIHsNCgkJCXRocm93IG5ldyBFcnJvcignTWFwIGNvbnRhaW5lciBpcyBhbHJlYWR5IGluaXRpYWxpemVkLicpOw0KCQl9DQoNCgkJY29udGFpbmVyLl9sZWFmbGV0ID0gdHJ1ZTsNCgl9LA0KDQoJX2luaXRMYXlvdXQ6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjsNCg0KCQlMLkRvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC1jb250YWluZXInICsNCgkJCShMLkJyb3dzZXIudG91Y2ggPyAnIGxlYWZsZXQtdG91Y2gnIDogJycpICsNCgkJCShMLkJyb3dzZXIucmV0aW5hID8gJyBsZWFmbGV0LXJldGluYScgOiAnJykgKw0KCQkJKEwuQnJvd3Nlci5pZWx0OSA/ICcgbGVhZmxldC1vbGRpZScgOiAnJykgKw0KCQkJKHRoaXMub3B0aW9ucy5mYWRlQW5pbWF0aW9uID8gJyBsZWFmbGV0LWZhZGUtYW5pbScgOiAnJykpOw0KDQoJCXZhciBwb3NpdGlvbiA9IEwuRG9tVXRpbC5nZXRTdHlsZShjb250YWluZXIsICdwb3NpdGlvbicpOw0KDQoJCWlmIChwb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyAmJiBwb3NpdGlvbiAhPT0gJ3JlbGF0aXZlJyAmJiBwb3NpdGlvbiAhPT0gJ2ZpeGVkJykgew0KCQkJY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsNCgkJfQ0KDQoJCXRoaXMuX2luaXRQYW5lcygpOw0KDQoJCWlmICh0aGlzLl9pbml0Q29udHJvbFBvcykgew0KCQkJdGhpcy5faW5pdENvbnRyb2xQb3MoKTsNCgkJfQ0KCX0sDQoNCglfaW5pdFBhbmVzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBwYW5lcyA9IHRoaXMuX3BhbmVzID0ge307DQoNCgkJdGhpcy5fbWFwUGFuZSA9IHBhbmVzLm1hcFBhbmUgPSB0aGlzLl9jcmVhdGVQYW5lKCdsZWFmbGV0LW1hcC1wYW5lJywgdGhpcy5fY29udGFpbmVyKTsNCg0KCQl0aGlzLl90aWxlUGFuZSA9IHBhbmVzLnRpbGVQYW5lID0gdGhpcy5fY3JlYXRlUGFuZSgnbGVhZmxldC10aWxlLXBhbmUnLCB0aGlzLl9tYXBQYW5lKTsNCgkJcGFuZXMub2JqZWN0c1BhbmUgPSB0aGlzLl9jcmVhdGVQYW5lKCdsZWFmbGV0LW9iamVjdHMtcGFuZScsIHRoaXMuX21hcFBhbmUpOw0KCQlwYW5lcy5zaGFkb3dQYW5lID0gdGhpcy5fY3JlYXRlUGFuZSgnbGVhZmxldC1zaGFkb3ctcGFuZScpOw0KCQlwYW5lcy5vdmVybGF5UGFuZSA9IHRoaXMuX2NyZWF0ZVBhbmUoJ2xlYWZsZXQtb3ZlcmxheS1wYW5lJyk7DQoJCXBhbmVzLm1hcmtlclBhbmUgPSB0aGlzLl9jcmVhdGVQYW5lKCdsZWFmbGV0LW1hcmtlci1wYW5lJyk7DQoJCXBhbmVzLnBvcHVwUGFuZSA9IHRoaXMuX2NyZWF0ZVBhbmUoJ2xlYWZsZXQtcG9wdXAtcGFuZScpOw0KDQoJCXZhciB6b29tSGlkZSA9ICcgbGVhZmxldC16b29tLWhpZGUnOw0KDQoJCWlmICghdGhpcy5vcHRpb25zLm1hcmtlclpvb21BbmltYXRpb24pIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyhwYW5lcy5tYXJrZXJQYW5lLCB6b29tSGlkZSk7DQoJCQlMLkRvbVV0aWwuYWRkQ2xhc3MocGFuZXMuc2hhZG93UGFuZSwgem9vbUhpZGUpOw0KCQkJTC5Eb21VdGlsLmFkZENsYXNzKHBhbmVzLnBvcHVwUGFuZSwgem9vbUhpZGUpOw0KCQl9DQoJfSwNCg0KCV9jcmVhdGVQYW5lOiBmdW5jdGlvbiAoY2xhc3NOYW1lLCBjb250YWluZXIpIHsNCgkJcmV0dXJuIEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgY29udGFpbmVyIHx8IHRoaXMuX3BhbmVzLm9iamVjdHNQYW5lKTsNCgl9LA0KDQoJX2NsZWFyUGFuZXM6IGZ1bmN0aW9uICgpIHsNCgkJdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX21hcFBhbmUpOw0KCX0sDQoNCglfYWRkTGF5ZXJzOiBmdW5jdGlvbiAobGF5ZXJzKSB7DQoJCWxheWVycyA9IGxheWVycyA/IChMLlV0aWwuaXNBcnJheShsYXllcnMpID8gbGF5ZXJzIDogW2xheWVyc10pIDogW107DQoNCgkJZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxheWVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJdGhpcy5hZGRMYXllcihsYXllcnNbaV0pOw0KCQl9DQoJfSwNCg0KDQoJLy8gcHJpdmF0ZSBtZXRob2RzIHRoYXQgbW9kaWZ5IG1hcCBzdGF0ZQ0KDQoJX3Jlc2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgcHJlc2VydmVNYXBPZmZzZXQsIGFmdGVyWm9vbUFuaW0pIHsNCg0KCQl2YXIgem9vbUNoYW5nZWQgPSAodGhpcy5fem9vbSAhPT0gem9vbSk7DQoNCgkJaWYgKCFhZnRlclpvb21BbmltKSB7DQoJCQl0aGlzLmZpcmUoJ21vdmVzdGFydCcpOw0KDQoJCQlpZiAoem9vbUNoYW5nZWQpIHsNCgkJCQl0aGlzLmZpcmUoJ3pvb21zdGFydCcpOw0KCQkJfQ0KCQl9DQoNCgkJdGhpcy5fem9vbSA9IHpvb207DQoJCXRoaXMuX2luaXRpYWxDZW50ZXIgPSBjZW50ZXI7DQoNCgkJdGhpcy5faW5pdGlhbFRvcExlZnRQb2ludCA9IHRoaXMuX2dldE5ld1RvcExlZnRQb2ludChjZW50ZXIpOw0KDQoJCWlmICghcHJlc2VydmVNYXBPZmZzZXQpIHsNCgkJCUwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLCBuZXcgTC5Qb2ludCgwLCAwKSk7DQoJCX0gZWxzZSB7DQoJCQl0aGlzLl9pbml0aWFsVG9wTGVmdFBvaW50Ll9hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTsNCgkJfQ0KDQoJCXRoaXMuX3RpbGVMYXllcnNUb0xvYWQgPSB0aGlzLl90aWxlTGF5ZXJzTnVtOw0KDQoJCXZhciBsb2FkaW5nID0gIXRoaXMuX2xvYWRlZDsNCgkJdGhpcy5fbG9hZGVkID0gdHJ1ZTsNCg0KCQlpZiAobG9hZGluZykgew0KCQkJdGhpcy5maXJlKCdsb2FkJyk7DQoJCQl0aGlzLmVhY2hMYXllcih0aGlzLl9sYXllckFkZCwgdGhpcyk7DQoJCX0NCg0KCQl0aGlzLmZpcmUoJ3ZpZXdyZXNldCcsIHtoYXJkOiAhcHJlc2VydmVNYXBPZmZzZXR9KTsNCg0KCQl0aGlzLmZpcmUoJ21vdmUnKTsNCg0KCQlpZiAoem9vbUNoYW5nZWQgfHwgYWZ0ZXJab29tQW5pbSkgew0KCQkJdGhpcy5maXJlKCd6b29tZW5kJyk7DQoJCX0NCg0KCQl0aGlzLmZpcmUoJ21vdmVlbmQnLCB7aGFyZDogIXByZXNlcnZlTWFwT2Zmc2V0fSk7DQoJfSwNCg0KCV9yYXdQYW5CeTogZnVuY3Rpb24gKG9mZnNldCkgew0KCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSwgdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KG9mZnNldCkpOw0KCX0sDQoNCglfZ2V0Wm9vbVNwYW46IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpIC0gdGhpcy5nZXRNaW5ab29tKCk7DQoJfSwNCg0KCV91cGRhdGVab29tTGV2ZWxzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBpLA0KCQkJbWluWm9vbSA9IEluZmluaXR5LA0KCQkJbWF4Wm9vbSA9IC1JbmZpbml0eSwNCgkJCW9sZFpvb21TcGFuID0gdGhpcy5fZ2V0Wm9vbVNwYW4oKTsNCg0KCQlmb3IgKGkgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKSB7DQoJCQl2YXIgbGF5ZXIgPSB0aGlzLl96b29tQm91bmRMYXllcnNbaV07DQoJCQlpZiAoIWlzTmFOKGxheWVyLm9wdGlvbnMubWluWm9vbSkpIHsNCgkJCQltaW5ab29tID0gTWF0aC5taW4obWluWm9vbSwgbGF5ZXIub3B0aW9ucy5taW5ab29tKTsNCgkJCX0NCgkJCWlmICghaXNOYU4obGF5ZXIub3B0aW9ucy5tYXhab29tKSkgew0KCQkJCW1heFpvb20gPSBNYXRoLm1heChtYXhab29tLCBsYXllci5vcHRpb25zLm1heFpvb20pOw0KCQkJfQ0KCQl9DQoNCgkJaWYgKGkgPT09IHVuZGVmaW5lZCkgeyAvLyB3ZSBoYXZlIG5vIHRpbGVsYXllcnMNCgkJCXRoaXMuX2xheWVyc01heFpvb20gPSB0aGlzLl9sYXllcnNNaW5ab29tID0gdW5kZWZpbmVkOw0KCQl9IGVsc2Ugew0KCQkJdGhpcy5fbGF5ZXJzTWF4Wm9vbSA9IG1heFpvb207DQoJCQl0aGlzLl9sYXllcnNNaW5ab29tID0gbWluWm9vbTsNCgkJfQ0KDQoJCWlmIChvbGRab29tU3BhbiAhPT0gdGhpcy5fZ2V0Wm9vbVNwYW4oKSkgew0KCQkJdGhpcy5maXJlKCd6b29tbGV2ZWxzY2hhbmdlJyk7DQoJCX0NCgl9LA0KDQoJX3Bhbkluc2lkZU1heEJvdW5kczogZnVuY3Rpb24gKCkgew0KCQl0aGlzLnBhbkluc2lkZUJvdW5kcyh0aGlzLm9wdGlvbnMubWF4Qm91bmRzKTsNCgl9LA0KDQoJX2NoZWNrSWZMb2FkZWQ6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCF0aGlzLl9sb2FkZWQpIHsNCgkJCXRocm93IG5ldyBFcnJvcignU2V0IG1hcCBjZW50ZXIgYW5kIHpvb20gZmlyc3QuJyk7DQoJCX0NCgl9LA0KDQoJLy8gbWFwIGV2ZW50cw0KDQoJX2luaXRFdmVudHM6IGZ1bmN0aW9uIChvbk9mZikgew0KCQlpZiAoIUwuRG9tRXZlbnQpIHsgcmV0dXJuOyB9DQoNCgkJb25PZmYgPSBvbk9mZiB8fCAnb24nOw0KDQoJCUwuRG9tRXZlbnRbb25PZmZdKHRoaXMuX2NvbnRhaW5lciwgJ2NsaWNrJywgdGhpcy5fb25Nb3VzZUNsaWNrLCB0aGlzKTsNCg0KCQl2YXIgZXZlbnRzID0gWydkYmxjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2V1cCcsICdtb3VzZWVudGVyJywNCgkJICAgICAgICAgICAgICAnbW91c2VsZWF2ZScsICdtb3VzZW1vdmUnLCAnY29udGV4dG1lbnUnXSwNCgkJICAgIGksIGxlbjsNCg0KCQlmb3IgKGkgPSAwLCBsZW4gPSBldmVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCUwuRG9tRXZlbnRbb25PZmZdKHRoaXMuX2NvbnRhaW5lciwgZXZlbnRzW2ldLCB0aGlzLl9maXJlTW91c2VFdmVudCwgdGhpcyk7DQoJCX0NCg0KCQlpZiAodGhpcy5vcHRpb25zLnRyYWNrUmVzaXplKSB7DQoJCQlMLkRvbUV2ZW50W29uT2ZmXSh3aW5kb3csICdyZXNpemUnLCB0aGlzLl9vblJlc2l6ZSwgdGhpcyk7DQoJCX0NCgl9LA0KDQoJX29uUmVzaXplOiBmdW5jdGlvbiAoKSB7DQoJCUwuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fcmVzaXplUmVxdWVzdCk7DQoJCXRoaXMuX3Jlc2l6ZVJlcXVlc3QgPSBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSgNCgkJICAgICAgICBmdW5jdGlvbiAoKSB7IHRoaXMuaW52YWxpZGF0ZVNpemUoe2RlYm91bmNlTW92ZWVuZDogdHJ1ZX0pOyB9LCB0aGlzLCBmYWxzZSwgdGhpcy5fY29udGFpbmVyKTsNCgl9LA0KDQoJX29uTW91c2VDbGljazogZnVuY3Rpb24gKGUpIHsNCgkJaWYgKCF0aGlzLl9sb2FkZWQgfHwgKCFlLl9zaW11bGF0ZWQgJiYNCgkJICAgICAgICAoKHRoaXMuZHJhZ2dpbmcgJiYgdGhpcy5kcmFnZ2luZy5tb3ZlZCgpKSB8fA0KCQkgICAgICAgICAodGhpcy5ib3hab29tICAmJiB0aGlzLmJveFpvb20ubW92ZWQoKSkpKSB8fA0KCQkgICAgICAgICAgICBMLkRvbUV2ZW50Ll9za2lwcGVkKGUpKSB7IHJldHVybjsgfQ0KDQoJCXRoaXMuZmlyZSgncHJlY2xpY2snKTsNCgkJdGhpcy5fZmlyZU1vdXNlRXZlbnQoZSk7DQoJfSwNCg0KCV9maXJlTW91c2VFdmVudDogZnVuY3Rpb24gKGUpIHsNCgkJaWYgKCF0aGlzLl9sb2FkZWQgfHwgTC5Eb21FdmVudC5fc2tpcHBlZChlKSkgeyByZXR1cm47IH0NCg0KCQl2YXIgdHlwZSA9IGUudHlwZTsNCg0KCQl0eXBlID0gKHR5cGUgPT09ICdtb3VzZWVudGVyJyA/ICdtb3VzZW92ZXInIDogKHR5cGUgPT09ICdtb3VzZWxlYXZlJyA/ICdtb3VzZW91dCcgOiB0eXBlKSk7DQoNCgkJaWYgKCF0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHR5cGUpKSB7IHJldHVybjsgfQ0KDQoJCWlmICh0eXBlID09PSAnY29udGV4dG1lbnUnKSB7DQoJCQlMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KGUpOw0KCQl9DQoNCgkJdmFyIGNvbnRhaW5lclBvaW50ID0gdGhpcy5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKSwNCgkJICAgIGxheWVyUG9pbnQgPSB0aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGNvbnRhaW5lclBvaW50KSwNCgkJICAgIGxhdGxuZyA9IHRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKGxheWVyUG9pbnQpOw0KDQoJCXRoaXMuZmlyZSh0eXBlLCB7DQoJCQlsYXRsbmc6IGxhdGxuZywNCgkJCWxheWVyUG9pbnQ6IGxheWVyUG9pbnQsDQoJCQljb250YWluZXJQb2ludDogY29udGFpbmVyUG9pbnQsDQoJCQlvcmlnaW5hbEV2ZW50OiBlDQoJCX0pOw0KCX0sDQoNCglfb25UaWxlTGF5ZXJMb2FkOiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuX3RpbGVMYXllcnNUb0xvYWQtLTsNCgkJaWYgKHRoaXMuX3RpbGVMYXllcnNOdW0gJiYgIXRoaXMuX3RpbGVMYXllcnNUb0xvYWQpIHsNCgkJCXRoaXMuZmlyZSgndGlsZWxheWVyc2xvYWQnKTsNCgkJfQ0KCX0sDQoNCglfY2xlYXJIYW5kbGVyczogZnVuY3Rpb24gKCkgew0KCQlmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5faGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCXRoaXMuX2hhbmRsZXJzW2ldLmRpc2FibGUoKTsNCgkJfQ0KCX0sDQoNCgl3aGVuUmVhZHk6IGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkgew0KCQlpZiAodGhpcy5fbG9hZGVkKSB7DQoJCQljYWxsYmFjay5jYWxsKGNvbnRleHQgfHwgdGhpcywgdGhpcyk7DQoJCX0gZWxzZSB7DQoJCQl0aGlzLm9uKCdsb2FkJywgY2FsbGJhY2ssIGNvbnRleHQpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglfbGF5ZXJBZGQ6IGZ1bmN0aW9uIChsYXllcikgew0KCQlsYXllci5vbkFkZCh0aGlzKTsNCgkJdGhpcy5maXJlKCdsYXllcmFkZCcsIHtsYXllcjogbGF5ZXJ9KTsNCgl9LA0KDQoNCgkvLyBwcml2YXRlIG1ldGhvZHMgZm9yIGdldHRpbmcgbWFwIHN0YXRlDQoNCglfZ2V0TWFwUGFuZVBvczogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gTC5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUpOw0KCX0sDQoNCglfbW92ZWQ6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIHBvcyA9IHRoaXMuX2dldE1hcFBhbmVQb3MoKTsNCgkJcmV0dXJuIHBvcyAmJiAhcG9zLmVxdWFscyhbMCwgMF0pOw0KCX0sDQoNCglfZ2V0VG9wTGVmdFBvaW50OiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLmdldFBpeGVsT3JpZ2luKCkuc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKTsNCgl9LA0KDQoJX2dldE5ld1RvcExlZnRQb2ludDogZnVuY3Rpb24gKGNlbnRlciwgem9vbSkgew0KCQl2YXIgdmlld0hhbGYgPSB0aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMik7DQoJCS8vIFRPRE8gcm91bmQgb24gZGlzcGxheSwgbm90IGNhbGN1bGF0aW9uIHRvIGluY3JlYXNlIHByZWNpc2lvbj8NCgkJcmV0dXJuIHRoaXMucHJvamVjdChjZW50ZXIsIHpvb20pLl9zdWJ0cmFjdCh2aWV3SGFsZikuX3JvdW5kKCk7DQoJfSwNCg0KCV9sYXRMbmdUb05ld0xheWVyUG9pbnQ6IGZ1bmN0aW9uIChsYXRsbmcsIG5ld1pvb20sIG5ld0NlbnRlcikgew0KCQl2YXIgdG9wTGVmdCA9IHRoaXMuX2dldE5ld1RvcExlZnRQb2ludChuZXdDZW50ZXIsIG5ld1pvb20pLmFkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpOw0KCQlyZXR1cm4gdGhpcy5wcm9qZWN0KGxhdGxuZywgbmV3Wm9vbSkuX3N1YnRyYWN0KHRvcExlZnQpOw0KCX0sDQoNCgkvLyBsYXllciBwb2ludCBvZiB0aGUgY3VycmVudCBjZW50ZXINCglfZ2V0Q2VudGVyTGF5ZXJQb2ludDogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMikpOw0KCX0sDQoNCgkvLyBvZmZzZXQgb2YgdGhlIHNwZWNpZmllZCBwbGFjZSB0byB0aGUgY3VycmVudCBjZW50ZXIgaW4gcGl4ZWxzDQoJX2dldENlbnRlck9mZnNldDogZnVuY3Rpb24gKGxhdGxuZykgew0KCQlyZXR1cm4gdGhpcy5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nKS5zdWJ0cmFjdCh0aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkpOw0KCX0sDQoNCgkvLyBhZGp1c3QgY2VudGVyIGZvciB2aWV3IHRvIGdldCBpbnNpZGUgYm91bmRzDQoJX2xpbWl0Q2VudGVyOiBmdW5jdGlvbiAoY2VudGVyLCB6b29tLCBib3VuZHMpIHsNCg0KCQlpZiAoIWJvdW5kcykgeyByZXR1cm4gY2VudGVyOyB9DQoNCgkJdmFyIGNlbnRlclBvaW50ID0gdGhpcy5wcm9qZWN0KGNlbnRlciwgem9vbSksDQoJCSAgICB2aWV3SGFsZiA9IHRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLA0KCQkgICAgdmlld0JvdW5kcyA9IG5ldyBMLkJvdW5kcyhjZW50ZXJQb2ludC5zdWJ0cmFjdCh2aWV3SGFsZiksIGNlbnRlclBvaW50LmFkZCh2aWV3SGFsZikpLA0KCQkgICAgb2Zmc2V0ID0gdGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KHZpZXdCb3VuZHMsIGJvdW5kcywgem9vbSk7DQoNCgkJcmV0dXJuIHRoaXMudW5wcm9qZWN0KGNlbnRlclBvaW50LmFkZChvZmZzZXQpLCB6b29tKTsNCgl9LA0KDQoJLy8gYWRqdXN0IG9mZnNldCBmb3IgdmlldyB0byBnZXQgaW5zaWRlIGJvdW5kcw0KCV9saW1pdE9mZnNldDogZnVuY3Rpb24gKG9mZnNldCwgYm91bmRzKSB7DQoJCWlmICghYm91bmRzKSB7IHJldHVybiBvZmZzZXQ7IH0NCg0KCQl2YXIgdmlld0JvdW5kcyA9IHRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSwNCgkJICAgIG5ld0JvdW5kcyA9IG5ldyBMLkJvdW5kcyh2aWV3Qm91bmRzLm1pbi5hZGQob2Zmc2V0KSwgdmlld0JvdW5kcy5tYXguYWRkKG9mZnNldCkpOw0KDQoJCXJldHVybiBvZmZzZXQuYWRkKHRoaXMuX2dldEJvdW5kc09mZnNldChuZXdCb3VuZHMsIGJvdW5kcykpOw0KCX0sDQoNCgkvLyByZXR1cm5zIG9mZnNldCBuZWVkZWQgZm9yIHB4Qm91bmRzIHRvIGdldCBpbnNpZGUgbWF4Qm91bmRzIGF0IGEgc3BlY2lmaWVkIHpvb20NCglfZ2V0Qm91bmRzT2Zmc2V0OiBmdW5jdGlvbiAocHhCb3VuZHMsIG1heEJvdW5kcywgem9vbSkgew0KCQl2YXIgbndPZmZzZXQgPSB0aGlzLnByb2plY3QobWF4Qm91bmRzLmdldE5vcnRoV2VzdCgpLCB6b29tKS5zdWJ0cmFjdChweEJvdW5kcy5taW4pLA0KCQkgICAgc2VPZmZzZXQgPSB0aGlzLnByb2plY3QobWF4Qm91bmRzLmdldFNvdXRoRWFzdCgpLCB6b29tKS5zdWJ0cmFjdChweEJvdW5kcy5tYXgpLA0KDQoJCSAgICBkeCA9IHRoaXMuX3JlYm91bmQobndPZmZzZXQueCwgLXNlT2Zmc2V0LngpLA0KCQkgICAgZHkgPSB0aGlzLl9yZWJvdW5kKG53T2Zmc2V0LnksIC1zZU9mZnNldC55KTsNCg0KCQlyZXR1cm4gbmV3IEwuUG9pbnQoZHgsIGR5KTsNCgl9LA0KDQoJX3JlYm91bmQ6IGZ1bmN0aW9uIChsZWZ0LCByaWdodCkgew0KCQlyZXR1cm4gbGVmdCArIHJpZ2h0ID4gMCA/DQoJCQlNYXRoLnJvdW5kKGxlZnQgLSByaWdodCkgLyAyIDoNCgkJCU1hdGgubWF4KDAsIE1hdGguY2VpbChsZWZ0KSkgLSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHJpZ2h0KSk7DQoJfSwNCg0KCV9saW1pdFpvb206IGZ1bmN0aW9uICh6b29tKSB7DQoJCXZhciBtaW4gPSB0aGlzLmdldE1pblpvb20oKSwNCgkJICAgIG1heCA9IHRoaXMuZ2V0TWF4Wm9vbSgpOw0KDQoJCXJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgem9vbSkpOw0KCX0NCn0pOw0KDQpMLm1hcCA9IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykgew0KCXJldHVybiBuZXcgTC5NYXAoaWQsIG9wdGlvbnMpOw0KfTsNCgoKLyoNCiAqIE1lcmNhdG9yIHByb2plY3Rpb24gdGhhdCB0YWtlcyBpbnRvIGFjY291bnQgdGhhdCB0aGUgRWFydGggaXMgbm90IGEgcGVyZmVjdCBzcGhlcmUuDQogKiBMZXNzIHBvcHVsYXIgdGhhbiBzcGhlcmljYWwgbWVyY2F0b3I7IHVzZWQgYnkgcHJvamVjdGlvbnMgbGlrZSBFUFNHOjMzOTUuDQogKi8NCg0KTC5Qcm9qZWN0aW9uLk1lcmNhdG9yID0gew0KCU1BWF9MQVRJVFVERTogODUuMDg0MDU5MTU1NiwNCg0KCVJfTUlOT1I6IDYzNTY3NTIuMzE0MjQ1MTc5LA0KCVJfTUFKT1I6IDYzNzgxMzcsDQoNCglwcm9qZWN0OiBmdW5jdGlvbiAobGF0bG5nKSB7IC8vIChMYXRMbmcpIC0+IFBvaW50DQoJCXZhciBkID0gTC5MYXRMbmcuREVHX1RPX1JBRCwNCgkJICAgIG1heCA9IHRoaXMuTUFYX0xBVElUVURFLA0KCQkgICAgbGF0ID0gTWF0aC5tYXgoTWF0aC5taW4obWF4LCBsYXRsbmcubGF0KSwgLW1heCksDQoJCSAgICByID0gdGhpcy5SX01BSk9SLA0KCQkgICAgcjIgPSB0aGlzLlJfTUlOT1IsDQoJCSAgICB4ID0gbGF0bG5nLmxuZyAqIGQgKiByLA0KCQkgICAgeSA9IGxhdCAqIGQsDQoJCSAgICB0bXAgPSByMiAvIHIsDQoJCSAgICBlY2NlbnQgPSBNYXRoLnNxcnQoMS4wIC0gdG1wICogdG1wKSwNCgkJICAgIGNvbiA9IGVjY2VudCAqIE1hdGguc2luKHkpOw0KDQoJCWNvbiA9IE1hdGgucG93KCgxIC0gY29uKSAvICgxICsgY29uKSwgZWNjZW50ICogMC41KTsNCg0KCQl2YXIgdHMgPSBNYXRoLnRhbigwLjUgKiAoKE1hdGguUEkgKiAwLjUpIC0geSkpIC8gY29uOw0KCQl5ID0gLXIgKiBNYXRoLmxvZyh0cyk7DQoNCgkJcmV0dXJuIG5ldyBMLlBvaW50KHgsIHkpOw0KCX0sDQoNCgl1bnByb2plY3Q6IGZ1bmN0aW9uIChwb2ludCkgeyAvLyAoUG9pbnQsIEJvb2xlYW4pIC0+IExhdExuZw0KCQl2YXIgZCA9IEwuTGF0TG5nLlJBRF9UT19ERUcsDQoJCSAgICByID0gdGhpcy5SX01BSk9SLA0KCQkgICAgcjIgPSB0aGlzLlJfTUlOT1IsDQoJCSAgICBsbmcgPSBwb2ludC54ICogZCAvIHIsDQoJCSAgICB0bXAgPSByMiAvIHIsDQoJCSAgICBlY2NlbnQgPSBNYXRoLnNxcnQoMSAtICh0bXAgKiB0bXApKSwNCgkJICAgIHRzID0gTWF0aC5leHAoLSBwb2ludC55IC8gciksDQoJCSAgICBwaGkgPSAoTWF0aC5QSSAvIDIpIC0gMiAqIE1hdGguYXRhbih0cyksDQoJCSAgICBudW1JdGVyID0gMTUsDQoJCSAgICB0b2wgPSAxZS03LA0KCQkgICAgaSA9IG51bUl0ZXIsDQoJCSAgICBkcGhpID0gMC4xLA0KCQkgICAgY29uOw0KDQoJCXdoaWxlICgoTWF0aC5hYnMoZHBoaSkgPiB0b2wpICYmICgtLWkgPiAwKSkgew0KCQkJY29uID0gZWNjZW50ICogTWF0aC5zaW4ocGhpKTsNCgkJCWRwaGkgPSAoTWF0aC5QSSAvIDIpIC0gMiAqIE1hdGguYXRhbih0cyAqDQoJCQkgICAgICAgICAgICBNYXRoLnBvdygoMS4wIC0gY29uKSAvICgxLjAgKyBjb24pLCAwLjUgKiBlY2NlbnQpKSAtIHBoaTsNCgkJCXBoaSArPSBkcGhpOw0KCQl9DQoNCgkJcmV0dXJuIG5ldyBMLkxhdExuZyhwaGkgKiBkLCBsbmcpOw0KCX0NCn07DQoKCg0KTC5DUlMuRVBTRzMzOTUgPSBMLmV4dGVuZCh7fSwgTC5DUlMsIHsNCgljb2RlOiAnRVBTRzozMzk1JywNCg0KCXByb2plY3Rpb246IEwuUHJvamVjdGlvbi5NZXJjYXRvciwNCg0KCXRyYW5zZm9ybWF0aW9uOiAoZnVuY3Rpb24gKCkgew0KCQl2YXIgbSA9IEwuUHJvamVjdGlvbi5NZXJjYXRvciwNCgkJICAgIHIgPSBtLlJfTUFKT1IsDQoJCSAgICBzY2FsZSA9IDAuNSAvIChNYXRoLlBJICogcik7DQoNCgkJcmV0dXJuIG5ldyBMLlRyYW5zZm9ybWF0aW9uKHNjYWxlLCAwLjUsIC1zY2FsZSwgMC41KTsNCgl9KCkpDQp9KTsNCgoKLyoNCiAqIEwuVGlsZUxheWVyIGlzIHVzZWQgZm9yIHN0YW5kYXJkIHh5ei1udW1iZXJlZCB0aWxlIGxheWVycy4NCiAqLw0KDQpMLlRpbGVMYXllciA9IEwuQ2xhc3MuZXh0ZW5kKHsNCglpbmNsdWRlczogTC5NaXhpbi5FdmVudHMsDQoNCglvcHRpb25zOiB7DQoJCW1pblpvb206IDAsDQoJCW1heFpvb206IDE4LA0KCQl0aWxlU2l6ZTogMjU2LA0KCQlzdWJkb21haW5zOiAnYWJjJywNCgkJZXJyb3JUaWxlVXJsOiAnJywNCgkJYXR0cmlidXRpb246ICcnLA0KCQl6b29tT2Zmc2V0OiAwLA0KCQlvcGFjaXR5OiAxLA0KCQkvKg0KCQltYXhOYXRpdmVab29tOiBudWxsLA0KCQl6SW5kZXg6IG51bGwsDQoJCXRtczogZmFsc2UsDQoJCWNvbnRpbnVvdXNXb3JsZDogZmFsc2UsDQoJCW5vV3JhcDogZmFsc2UsDQoJCXpvb21SZXZlcnNlOiBmYWxzZSwNCgkJZGV0ZWN0UmV0aW5hOiBmYWxzZSwNCgkJcmV1c2VUaWxlczogZmFsc2UsDQoJCWJvdW5kczogZmFsc2UsDQoJCSovDQoJCXVubG9hZEludmlzaWJsZVRpbGVzOiBMLkJyb3dzZXIubW9iaWxlLA0KCQl1cGRhdGVXaGVuSWRsZTogTC5Ccm93c2VyLm1vYmlsZQ0KCX0sDQoNCglpbml0aWFsaXplOiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7DQoJCW9wdGlvbnMgPSBMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7DQoNCgkJLy8gZGV0ZWN0aW5nIHJldGluYSBkaXNwbGF5cywgYWRqdXN0aW5nIHRpbGVTaXplIGFuZCB6b29tIGxldmVscw0KCQlpZiAob3B0aW9ucy5kZXRlY3RSZXRpbmEgJiYgTC5Ccm93c2VyLnJldGluYSAmJiBvcHRpb25zLm1heFpvb20gPiAwKSB7DQoNCgkJCW9wdGlvbnMudGlsZVNpemUgPSBNYXRoLmZsb29yKG9wdGlvbnMudGlsZVNpemUgLyAyKTsNCgkJCW9wdGlvbnMuem9vbU9mZnNldCsrOw0KDQoJCQlpZiAob3B0aW9ucy5taW5ab29tID4gMCkgew0KCQkJCW9wdGlvbnMubWluWm9vbS0tOw0KCQkJfQ0KCQkJdGhpcy5vcHRpb25zLm1heFpvb20tLTsNCgkJfQ0KDQoJCWlmIChvcHRpb25zLmJvdW5kcykgew0KCQkJb3B0aW9ucy5ib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhvcHRpb25zLmJvdW5kcyk7DQoJCX0NCg0KCQl0aGlzLl91cmwgPSB1cmw7DQoNCgkJdmFyIHN1YmRvbWFpbnMgPSB0aGlzLm9wdGlvbnMuc3ViZG9tYWluczsNCg0KCQlpZiAodHlwZW9mIHN1YmRvbWFpbnMgPT09ICdzdHJpbmcnKSB7DQoJCQl0aGlzLm9wdGlvbnMuc3ViZG9tYWlucyA9IHN1YmRvbWFpbnMuc3BsaXQoJycpOw0KCQl9DQoJfSwNCg0KCW9uQWRkOiBmdW5jdGlvbiAobWFwKSB7DQoJCXRoaXMuX21hcCA9IG1hcDsNCgkJdGhpcy5fYW5pbWF0ZWQgPSBtYXAuX3pvb21BbmltYXRlZDsNCg0KCQkvLyBjcmVhdGUgYSBjb250YWluZXIgZGl2IGZvciB0aWxlcw0KCQl0aGlzLl9pbml0Q29udGFpbmVyKCk7DQoNCgkJLy8gc2V0IHVwIGV2ZW50cw0KCQltYXAub24oew0KCQkJJ3ZpZXdyZXNldCc6IHRoaXMuX3Jlc2V0LA0KCQkJJ21vdmVlbmQnOiB0aGlzLl91cGRhdGUNCgkJfSwgdGhpcyk7DQoNCgkJaWYgKHRoaXMuX2FuaW1hdGVkKSB7DQoJCQltYXAub24oew0KCQkJCSd6b29tYW5pbSc6IHRoaXMuX2FuaW1hdGVab29tLA0KCQkJCSd6b29tZW5kJzogdGhpcy5fZW5kWm9vbUFuaW0NCgkJCX0sIHRoaXMpOw0KCQl9DQoNCgkJaWYgKCF0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGUpIHsNCgkJCXRoaXMuX2xpbWl0ZWRVcGRhdGUgPSBMLlV0aWwubGltaXRFeGVjQnlJbnRlcnZhbCh0aGlzLl91cGRhdGUsIDE1MCwgdGhpcyk7DQoJCQltYXAub24oJ21vdmUnLCB0aGlzLl9saW1pdGVkVXBkYXRlLCB0aGlzKTsNCgkJfQ0KDQoJCXRoaXMuX3Jlc2V0KCk7DQoJCXRoaXMuX3VwZGF0ZSgpOw0KCX0sDQoNCglhZGRUbzogZnVuY3Rpb24gKG1hcCkgew0KCQltYXAuYWRkTGF5ZXIodGhpcyk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkgew0KCQl0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpOw0KDQoJCW1hcC5vZmYoew0KCQkJJ3ZpZXdyZXNldCc6IHRoaXMuX3Jlc2V0LA0KCQkJJ21vdmVlbmQnOiB0aGlzLl91cGRhdGUNCgkJfSwgdGhpcyk7DQoNCgkJaWYgKHRoaXMuX2FuaW1hdGVkKSB7DQoJCQltYXAub2ZmKHsNCgkJCQknem9vbWFuaW0nOiB0aGlzLl9hbmltYXRlWm9vbSwNCgkJCQknem9vbWVuZCc6IHRoaXMuX2VuZFpvb21BbmltDQoJCQl9LCB0aGlzKTsNCgkJfQ0KDQoJCWlmICghdGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlKSB7DQoJCQltYXAub2ZmKCdtb3ZlJywgdGhpcy5fbGltaXRlZFVwZGF0ZSwgdGhpcyk7DQoJCX0NCg0KCQl0aGlzLl9jb250YWluZXIgPSBudWxsOw0KCQl0aGlzLl9tYXAgPSBudWxsOw0KCX0sDQoNCglicmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIHBhbmUgPSB0aGlzLl9tYXAuX3BhbmVzLnRpbGVQYW5lOw0KDQoJCWlmICh0aGlzLl9jb250YWluZXIpIHsNCgkJCXBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKTsNCgkJCXRoaXMuX3NldEF1dG9aSW5kZXgocGFuZSwgTWF0aC5tYXgpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWJyaW5nVG9CYWNrOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBwYW5lID0gdGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTsNCg0KCQlpZiAodGhpcy5fY29udGFpbmVyKSB7DQoJCQlwYW5lLmluc2VydEJlZm9yZSh0aGlzLl9jb250YWluZXIsIHBhbmUuZmlyc3RDaGlsZCk7DQoJCQl0aGlzLl9zZXRBdXRvWkluZGV4KHBhbmUsIE1hdGgubWluKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglnZXRBdHRyaWJ1dGlvbjogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uOw0KCX0sDQoNCglnZXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsNCgl9LA0KDQoJc2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHsNCgkJdGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5Ow0KDQoJCWlmICh0aGlzLl9tYXApIHsNCgkJCXRoaXMuX3VwZGF0ZU9wYWNpdHkoKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglzZXRaSW5kZXg6IGZ1bmN0aW9uICh6SW5kZXgpIHsNCgkJdGhpcy5vcHRpb25zLnpJbmRleCA9IHpJbmRleDsNCgkJdGhpcy5fdXBkYXRlWkluZGV4KCk7DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXNldFVybDogZnVuY3Rpb24gKHVybCwgbm9SZWRyYXcpIHsNCgkJdGhpcy5fdXJsID0gdXJsOw0KDQoJCWlmICghbm9SZWRyYXcpIHsNCgkJCXRoaXMucmVkcmF3KCk7DQoJCX0NCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJcmVkcmF3OiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLl9tYXApIHsNCgkJCXRoaXMuX3Jlc2V0KHtoYXJkOiB0cnVlfSk7DQoJCQl0aGlzLl91cGRhdGUoKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJX3VwZGF0ZVpJbmRleDogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5fY29udGFpbmVyICYmIHRoaXMub3B0aW9ucy56SW5kZXggIT09IHVuZGVmaW5lZCkgew0KCQkJdGhpcy5fY29udGFpbmVyLnN0eWxlLnpJbmRleCA9IHRoaXMub3B0aW9ucy56SW5kZXg7DQoJCX0NCgl9LA0KDQoJX3NldEF1dG9aSW5kZXg6IGZ1bmN0aW9uIChwYW5lLCBjb21wYXJlKSB7DQoNCgkJdmFyIGxheWVycyA9IHBhbmUuY2hpbGRyZW4sDQoJCSAgICBlZGdlWkluZGV4ID0gLWNvbXBhcmUoSW5maW5pdHksIC1JbmZpbml0eSksIC8vIC1JbmZpbml0eSBmb3IgbWF4LCBJbmZpbml0eSBmb3IgbWluDQoJCSAgICB6SW5kZXgsIGksIGxlbjsNCg0KCQlmb3IgKGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCg0KCQkJaWYgKGxheWVyc1tpXSAhPT0gdGhpcy5fY29udGFpbmVyKSB7DQoJCQkJekluZGV4ID0gcGFyc2VJbnQobGF5ZXJzW2ldLnN0eWxlLnpJbmRleCwgMTApOw0KDQoJCQkJaWYgKCFpc05hTih6SW5kZXgpKSB7DQoJCQkJCWVkZ2VaSW5kZXggPSBjb21wYXJlKGVkZ2VaSW5kZXgsIHpJbmRleCk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJdGhpcy5vcHRpb25zLnpJbmRleCA9IHRoaXMuX2NvbnRhaW5lci5zdHlsZS56SW5kZXggPQ0KCQkgICAgICAgIChpc0Zpbml0ZShlZGdlWkluZGV4KSA/IGVkZ2VaSW5kZXggOiAwKSArIGNvbXBhcmUoMSwgLTEpOw0KCX0sDQoNCglfdXBkYXRlT3BhY2l0eTogZnVuY3Rpb24gKCkgew0KCQl2YXIgaSwNCgkJICAgIHRpbGVzID0gdGhpcy5fdGlsZXM7DQoNCgkJaWYgKEwuQnJvd3Nlci5pZWx0OSkgew0KCQkJZm9yIChpIGluIHRpbGVzKSB7DQoJCQkJTC5Eb21VdGlsLnNldE9wYWNpdHkodGlsZXNbaV0sIHRoaXMub3B0aW9ucy5vcGFjaXR5KTsNCgkJCX0NCgkJfSBlbHNlIHsNCgkJCUwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgdGhpcy5vcHRpb25zLm9wYWNpdHkpOw0KCQl9DQoJfSwNCg0KCV9pbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7DQoJCXZhciB0aWxlUGFuZSA9IHRoaXMuX21hcC5fcGFuZXMudGlsZVBhbmU7DQoNCgkJaWYgKCF0aGlzLl9jb250YWluZXIpIHsNCgkJCXRoaXMuX2NvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LWxheWVyJyk7DQoNCgkJCXRoaXMuX3VwZGF0ZVpJbmRleCgpOw0KDQoJCQlpZiAodGhpcy5fYW5pbWF0ZWQpIHsNCgkJCQl2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtdGlsZS1jb250YWluZXInOw0KDQoJCQkJdGhpcy5fYmdCdWZmZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUsIHRoaXMuX2NvbnRhaW5lcik7DQoJCQkJdGhpcy5fdGlsZUNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSwgdGhpcy5fY29udGFpbmVyKTsNCg0KCQkJfSBlbHNlIHsNCgkJCQl0aGlzLl90aWxlQ29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyOw0KCQkJfQ0KDQoJCQl0aWxlUGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpOw0KDQoJCQlpZiAodGhpcy5vcHRpb25zLm9wYWNpdHkgPCAxKSB7DQoJCQkJdGhpcy5fdXBkYXRlT3BhY2l0eSgpOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCV9yZXNldDogZnVuY3Rpb24gKGUpIHsNCgkJZm9yICh2YXIga2V5IGluIHRoaXMuX3RpbGVzKSB7DQoJCQl0aGlzLmZpcmUoJ3RpbGV1bmxvYWQnLCB7dGlsZTogdGhpcy5fdGlsZXNba2V5XX0pOw0KCQl9DQoNCgkJdGhpcy5fdGlsZXMgPSB7fTsNCgkJdGhpcy5fdGlsZXNUb0xvYWQgPSAwOw0KDQoJCWlmICh0aGlzLm9wdGlvbnMucmV1c2VUaWxlcykgew0KCQkJdGhpcy5fdW51c2VkVGlsZXMgPSBbXTsNCgkJfQ0KDQoJCXRoaXMuX3RpbGVDb250YWluZXIuaW5uZXJIVE1MID0gJyc7DQoNCgkJaWYgKHRoaXMuX2FuaW1hdGVkICYmIGUgJiYgZS5oYXJkKSB7DQoJCQl0aGlzLl9jbGVhckJnQnVmZmVyKCk7DQoJCX0NCg0KCQl0aGlzLl9pbml0Q29udGFpbmVyKCk7DQoJfSwNCg0KCV9nZXRUaWxlU2l6ZTogZnVuY3Rpb24gKCkgew0KCQl2YXIgbWFwID0gdGhpcy5fbWFwLA0KCQkgICAgem9vbSA9IG1hcC5nZXRab29tKCkgKyB0aGlzLm9wdGlvbnMuem9vbU9mZnNldCwNCgkJICAgIHpvb21OID0gdGhpcy5vcHRpb25zLm1heE5hdGl2ZVpvb20sDQoJCSAgICB0aWxlU2l6ZSA9IHRoaXMub3B0aW9ucy50aWxlU2l6ZTsNCg0KCQlpZiAoem9vbU4gJiYgem9vbSA+IHpvb21OKSB7DQoJCQl0aWxlU2l6ZSA9IE1hdGgucm91bmQobWFwLmdldFpvb21TY2FsZSh6b29tKSAvIG1hcC5nZXRab29tU2NhbGUoem9vbU4pICogdGlsZVNpemUpOw0KCQl9DQoNCgkJcmV0dXJuIHRpbGVTaXplOw0KCX0sDQoNCglfdXBkYXRlOiBmdW5jdGlvbiAoKSB7DQoNCgkJaWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9DQoNCgkJdmFyIG1hcCA9IHRoaXMuX21hcCwNCgkJICAgIGJvdW5kcyA9IG1hcC5nZXRQaXhlbEJvdW5kcygpLA0KCQkgICAgem9vbSA9IG1hcC5nZXRab29tKCksDQoJCSAgICB0aWxlU2l6ZSA9IHRoaXMuX2dldFRpbGVTaXplKCk7DQoNCgkJaWYgKHpvb20gPiB0aGlzLm9wdGlvbnMubWF4Wm9vbSB8fCB6b29tIDwgdGhpcy5vcHRpb25zLm1pblpvb20pIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCXZhciB0aWxlQm91bmRzID0gTC5ib3VuZHMoDQoJCSAgICAgICAgYm91bmRzLm1pbi5kaXZpZGVCeSh0aWxlU2l6ZSkuX2Zsb29yKCksDQoJCSAgICAgICAgYm91bmRzLm1heC5kaXZpZGVCeSh0aWxlU2l6ZSkuX2Zsb29yKCkpOw0KDQoJCXRoaXMuX2FkZFRpbGVzRnJvbUNlbnRlck91dCh0aWxlQm91bmRzKTsNCg0KCQlpZiAodGhpcy5vcHRpb25zLnVubG9hZEludmlzaWJsZVRpbGVzIHx8IHRoaXMub3B0aW9ucy5yZXVzZVRpbGVzKSB7DQoJCQl0aGlzLl9yZW1vdmVPdGhlclRpbGVzKHRpbGVCb3VuZHMpOw0KCQl9DQoJfSwNCg0KCV9hZGRUaWxlc0Zyb21DZW50ZXJPdXQ6IGZ1bmN0aW9uIChib3VuZHMpIHsNCgkJdmFyIHF1ZXVlID0gW10sDQoJCSAgICBjZW50ZXIgPSBib3VuZHMuZ2V0Q2VudGVyKCk7DQoNCgkJdmFyIGosIGksIHBvaW50Ow0KDQoJCWZvciAoaiA9IGJvdW5kcy5taW4ueTsgaiA8PSBib3VuZHMubWF4Lnk7IGorKykgew0KCQkJZm9yIChpID0gYm91bmRzLm1pbi54OyBpIDw9IGJvdW5kcy5tYXgueDsgaSsrKSB7DQoJCQkJcG9pbnQgPSBuZXcgTC5Qb2ludChpLCBqKTsNCg0KCQkJCWlmICh0aGlzLl90aWxlU2hvdWxkQmVMb2FkZWQocG9pbnQpKSB7DQoJCQkJCXF1ZXVlLnB1c2gocG9pbnQpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCXZhciB0aWxlc1RvTG9hZCA9IHF1ZXVlLmxlbmd0aDsNCg0KCQlpZiAodGlsZXNUb0xvYWQgPT09IDApIHsgcmV0dXJuOyB9DQoNCgkJLy8gbG9hZCB0aWxlcyBpbiBvcmRlciBvZiB0aGVpciBkaXN0YW5jZSB0byBjZW50ZXINCgkJcXVldWUuc29ydChmdW5jdGlvbiAoYSwgYikgew0KCQkJcmV0dXJuIGEuZGlzdGFuY2VUbyhjZW50ZXIpIC0gYi5kaXN0YW5jZVRvKGNlbnRlcik7DQoJCX0pOw0KDQoJCXZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsNCg0KCQkvLyBpZiBpdHMgdGhlIGZpcnN0IGJhdGNoIG9mIHRpbGVzIHRvIGxvYWQNCgkJaWYgKCF0aGlzLl90aWxlc1RvTG9hZCkgew0KCQkJdGhpcy5maXJlKCdsb2FkaW5nJyk7DQoJCX0NCg0KCQl0aGlzLl90aWxlc1RvTG9hZCArPSB0aWxlc1RvTG9hZDsNCg0KCQlmb3IgKGkgPSAwOyBpIDwgdGlsZXNUb0xvYWQ7IGkrKykgew0KCQkJdGhpcy5fYWRkVGlsZShxdWV1ZVtpXSwgZnJhZ21lbnQpOw0KCQl9DQoNCgkJdGhpcy5fdGlsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7DQoJfSwNCg0KCV90aWxlU2hvdWxkQmVMb2FkZWQ6IGZ1bmN0aW9uICh0aWxlUG9pbnQpIHsNCgkJaWYgKCh0aWxlUG9pbnQueCArICc6JyArIHRpbGVQb2ludC55KSBpbiB0aGlzLl90aWxlcykgew0KCQkJcmV0dXJuIGZhbHNlOyAvLyBhbHJlYWR5IGxvYWRlZA0KCQl9DQoNCgkJdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7DQoNCgkJaWYgKCFvcHRpb25zLmNvbnRpbnVvdXNXb3JsZCkgew0KCQkJdmFyIGxpbWl0ID0gdGhpcy5fZ2V0V3JhcFRpbGVOdW0oKTsNCg0KCQkJLy8gZG9uJ3QgbG9hZCBpZiBleGNlZWRzIHdvcmxkIGJvdW5kcw0KCQkJaWYgKChvcHRpb25zLm5vV3JhcCAmJiAodGlsZVBvaW50LnggPCAwIHx8IHRpbGVQb2ludC54ID49IGxpbWl0LngpKSB8fA0KCQkJCXRpbGVQb2ludC55IDwgMCB8fCB0aWxlUG9pbnQueSA+PSBsaW1pdC55KSB7IHJldHVybiBmYWxzZTsgfQ0KCQl9DQoNCgkJaWYgKG9wdGlvbnMuYm91bmRzKSB7DQoJCQl2YXIgdGlsZVNpemUgPSBvcHRpb25zLnRpbGVTaXplLA0KCQkJICAgIG53UG9pbnQgPSB0aWxlUG9pbnQubXVsdGlwbHlCeSh0aWxlU2l6ZSksDQoJCQkgICAgc2VQb2ludCA9IG53UG9pbnQuYWRkKFt0aWxlU2l6ZSwgdGlsZVNpemVdKSwNCgkJCSAgICBudyA9IHRoaXMuX21hcC51bnByb2plY3QobndQb2ludCksDQoJCQkgICAgc2UgPSB0aGlzLl9tYXAudW5wcm9qZWN0KHNlUG9pbnQpOw0KDQoJCQkvLyBUT0RPIHRlbXBvcmFyeSBoYWNrLCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgcmVmYWN0b3JpbmcgcHJvamVjdGlvbnMNCgkJCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzE2MTgNCgkJCWlmICghb3B0aW9ucy5jb250aW51b3VzV29ybGQgJiYgIW9wdGlvbnMubm9XcmFwKSB7DQoJCQkJbncgPSBudy53cmFwKCk7DQoJCQkJc2UgPSBzZS53cmFwKCk7DQoJCQl9DQoNCgkJCWlmICghb3B0aW9ucy5ib3VuZHMuaW50ZXJzZWN0cyhbbncsIHNlXSkpIHsgcmV0dXJuIGZhbHNlOyB9DQoJCX0NCg0KCQlyZXR1cm4gdHJ1ZTsNCgl9LA0KDQoJX3JlbW92ZU90aGVyVGlsZXM6IGZ1bmN0aW9uIChib3VuZHMpIHsNCgkJdmFyIGtBcnIsIHgsIHksIGtleTsNCg0KCQlmb3IgKGtleSBpbiB0aGlzLl90aWxlcykgew0KCQkJa0FyciA9IGtleS5zcGxpdCgnOicpOw0KCQkJeCA9IHBhcnNlSW50KGtBcnJbMF0sIDEwKTsNCgkJCXkgPSBwYXJzZUludChrQXJyWzFdLCAxMCk7DQoNCgkJCS8vIHJlbW92ZSB0aWxlIGlmIGl0J3Mgb3V0IG9mIGJvdW5kcw0KCQkJaWYgKHggPCBib3VuZHMubWluLnggfHwgeCA+IGJvdW5kcy5tYXgueCB8fCB5IDwgYm91bmRzLm1pbi55IHx8IHkgPiBib3VuZHMubWF4LnkpIHsNCgkJCQl0aGlzLl9yZW1vdmVUaWxlKGtleSk7DQoJCQl9DQoJCX0NCgl9LA0KDQoJX3JlbW92ZVRpbGU6IGZ1bmN0aW9uIChrZXkpIHsNCgkJdmFyIHRpbGUgPSB0aGlzLl90aWxlc1trZXldOw0KDQoJCXRoaXMuZmlyZSgndGlsZXVubG9hZCcsIHt0aWxlOiB0aWxlLCB1cmw6IHRpbGUuc3JjfSk7DQoNCgkJaWYgKHRoaXMub3B0aW9ucy5yZXVzZVRpbGVzKSB7DQoJCQlMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGlsZSwgJ2xlYWZsZXQtdGlsZS1sb2FkZWQnKTsNCgkJCXRoaXMuX3VudXNlZFRpbGVzLnB1c2godGlsZSk7DQoNCgkJfSBlbHNlIGlmICh0aWxlLnBhcmVudE5vZGUgPT09IHRoaXMuX3RpbGVDb250YWluZXIpIHsNCgkJCXRoaXMuX3RpbGVDb250YWluZXIucmVtb3ZlQ2hpbGQodGlsZSk7DQoJCX0NCg0KCQkvLyBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0Nsb3VkTWFkZS9MZWFmbGV0L2lzc3Vlcy8xMzcNCgkJaWYgKCFMLkJyb3dzZXIuYW5kcm9pZCkgew0KCQkJdGlsZS5vbmxvYWQgPSBudWxsOw0KCQkJdGlsZS5zcmMgPSBMLlV0aWwuZW1wdHlJbWFnZVVybDsNCgkJfQ0KDQoJCWRlbGV0ZSB0aGlzLl90aWxlc1trZXldOw0KCX0sDQoNCglfYWRkVGlsZTogZnVuY3Rpb24gKHRpbGVQb2ludCwgY29udGFpbmVyKSB7DQoJCXZhciB0aWxlUG9zID0gdGhpcy5fZ2V0VGlsZVBvcyh0aWxlUG9pbnQpOw0KDQoJCS8vIGdldCB1bnVzZWQgdGlsZSAtIG9yIGNyZWF0ZSBhIG5ldyB0aWxlDQoJCXZhciB0aWxlID0gdGhpcy5fZ2V0VGlsZSgpOw0KDQoJCS8qDQoJCUNocm9tZSAyMCBsYXlvdXRzIG11Y2ggZmFzdGVyIHdpdGggdG9wL2xlZnQgKHZlcmlmeSB3aXRoIHRpbWVsaW5lLCBmcmFtZXMpDQoJCUFuZHJvaWQgNCBicm93c2VyIGhhcyBkaXNwbGF5IGlzc3VlcyB3aXRoIHRvcC9sZWZ0IGFuZCByZXF1aXJlcyB0cmFuc2Zvcm0gaW5zdGVhZA0KCQkob3RoZXIgYnJvd3NlcnMgZG9uJ3QgY3VycmVudGx5IGNhcmUpIC0gc2VlIGRlYnVnL2hhY2tzL2ppdHRlci5odG1sIGZvciBhbiBleGFtcGxlDQoJCSovDQoJCUwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aWxlLCB0aWxlUG9zLCBMLkJyb3dzZXIuY2hyb21lKTsNCg0KCQl0aGlzLl90aWxlc1t0aWxlUG9pbnQueCArICc6JyArIHRpbGVQb2ludC55XSA9IHRpbGU7DQoNCgkJdGhpcy5fbG9hZFRpbGUodGlsZSwgdGlsZVBvaW50KTsNCg0KCQlpZiAodGlsZS5wYXJlbnROb2RlICE9PSB0aGlzLl90aWxlQ29udGFpbmVyKSB7DQoJCQljb250YWluZXIuYXBwZW5kQ2hpbGQodGlsZSk7DQoJCX0NCgl9LA0KDQoJX2dldFpvb21Gb3JVcmw6IGZ1bmN0aW9uICgpIHsNCg0KCQl2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywNCgkJICAgIHpvb20gPSB0aGlzLl9tYXAuZ2V0Wm9vbSgpOw0KDQoJCWlmIChvcHRpb25zLnpvb21SZXZlcnNlKSB7DQoJCQl6b29tID0gb3B0aW9ucy5tYXhab29tIC0gem9vbTsNCgkJfQ0KDQoJCXpvb20gKz0gb3B0aW9ucy56b29tT2Zmc2V0Ow0KDQoJCXJldHVybiBvcHRpb25zLm1heE5hdGl2ZVpvb20gPyBNYXRoLm1pbih6b29tLCBvcHRpb25zLm1heE5hdGl2ZVpvb20pIDogem9vbTsNCgl9LA0KDQoJX2dldFRpbGVQb3M6IGZ1bmN0aW9uICh0aWxlUG9pbnQpIHsNCgkJdmFyIG9yaWdpbiA9IHRoaXMuX21hcC5nZXRQaXhlbE9yaWdpbigpLA0KCQkgICAgdGlsZVNpemUgPSB0aGlzLl9nZXRUaWxlU2l6ZSgpOw0KDQoJCXJldHVybiB0aWxlUG9pbnQubXVsdGlwbHlCeSh0aWxlU2l6ZSkuc3VidHJhY3Qob3JpZ2luKTsNCgl9LA0KDQoJLy8gaW1hZ2Utc3BlY2lmaWMgY29kZSAob3ZlcnJpZGUgdG8gaW1wbGVtZW50IGUuZy4gQ2FudmFzIG9yIFNWRyB0aWxlIGxheWVyKQ0KDQoJZ2V0VGlsZVVybDogZnVuY3Rpb24gKHRpbGVQb2ludCkgew0KCQlyZXR1cm4gTC5VdGlsLnRlbXBsYXRlKHRoaXMuX3VybCwgTC5leHRlbmQoew0KCQkJczogdGhpcy5fZ2V0U3ViZG9tYWluKHRpbGVQb2ludCksDQoJCQl6OiB0aWxlUG9pbnQueiwNCgkJCXg6IHRpbGVQb2ludC54LA0KCQkJeTogdGlsZVBvaW50LnkNCgkJfSwgdGhpcy5vcHRpb25zKSk7DQoJfSwNCg0KCV9nZXRXcmFwVGlsZU51bTogZnVuY3Rpb24gKCkgew0KCQl2YXIgY3JzID0gdGhpcy5fbWFwLm9wdGlvbnMuY3JzLA0KCQkgICAgc2l6ZSA9IGNycy5nZXRTaXplKHRoaXMuX21hcC5nZXRab29tKCkpOw0KCQlyZXR1cm4gc2l6ZS5kaXZpZGVCeSh0aGlzLl9nZXRUaWxlU2l6ZSgpKS5fZmxvb3IoKTsNCgl9LA0KDQoJX2FkanVzdFRpbGVQb2ludDogZnVuY3Rpb24gKHRpbGVQb2ludCkgew0KDQoJCXZhciBsaW1pdCA9IHRoaXMuX2dldFdyYXBUaWxlTnVtKCk7DQoNCgkJLy8gd3JhcCB0aWxlIGNvb3JkaW5hdGVzDQoJCWlmICghdGhpcy5vcHRpb25zLmNvbnRpbnVvdXNXb3JsZCAmJiAhdGhpcy5vcHRpb25zLm5vV3JhcCkgew0KCQkJdGlsZVBvaW50LnggPSAoKHRpbGVQb2ludC54ICUgbGltaXQueCkgKyBsaW1pdC54KSAlIGxpbWl0Lng7DQoJCX0NCg0KCQlpZiAodGhpcy5vcHRpb25zLnRtcykgew0KCQkJdGlsZVBvaW50LnkgPSBsaW1pdC55IC0gdGlsZVBvaW50LnkgLSAxOw0KCQl9DQoNCgkJdGlsZVBvaW50LnogPSB0aGlzLl9nZXRab29tRm9yVXJsKCk7DQoJfSwNCg0KCV9nZXRTdWJkb21haW46IGZ1bmN0aW9uICh0aWxlUG9pbnQpIHsNCgkJdmFyIGluZGV4ID0gTWF0aC5hYnModGlsZVBvaW50LnggKyB0aWxlUG9pbnQueSkgJSB0aGlzLm9wdGlvbnMuc3ViZG9tYWlucy5sZW5ndGg7DQoJCXJldHVybiB0aGlzLm9wdGlvbnMuc3ViZG9tYWluc1tpbmRleF07DQoJfSwNCg0KCV9nZXRUaWxlOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLm9wdGlvbnMucmV1c2VUaWxlcyAmJiB0aGlzLl91bnVzZWRUaWxlcy5sZW5ndGggPiAwKSB7DQoJCQl2YXIgdGlsZSA9IHRoaXMuX3VudXNlZFRpbGVzLnBvcCgpOw0KCQkJdGhpcy5fcmVzZXRUaWxlKHRpbGUpOw0KCQkJcmV0dXJuIHRpbGU7DQoJCX0NCgkJcmV0dXJuIHRoaXMuX2NyZWF0ZVRpbGUoKTsNCgl9LA0KDQoJLy8gT3ZlcnJpZGUgaWYgZGF0YSBzdG9yZWQgb24gYSB0aWxlIG5lZWRzIHRvIGJlIGNsZWFuZWQgdXAgYmVmb3JlIHJldXNlDQoJX3Jlc2V0VGlsZTogZnVuY3Rpb24gKC8qdGlsZSovKSB7fSwNCg0KCV9jcmVhdGVUaWxlOiBmdW5jdGlvbiAoKSB7DQoJCXZhciB0aWxlID0gTC5Eb21VdGlsLmNyZWF0ZSgnaW1nJywgJ2xlYWZsZXQtdGlsZScpOw0KCQl0aWxlLnN0eWxlLndpZHRoID0gdGlsZS5zdHlsZS5oZWlnaHQgPSB0aGlzLl9nZXRUaWxlU2l6ZSgpICsgJ3B4JzsNCgkJdGlsZS5nYWxsZXJ5aW1nID0gJ25vJzsNCg0KCQl0aWxlLm9uc2VsZWN0c3RhcnQgPSB0aWxlLm9ubW91c2Vtb3ZlID0gTC5VdGlsLmZhbHNlRm47DQoNCgkJaWYgKEwuQnJvd3Nlci5pZWx0OSAmJiB0aGlzLm9wdGlvbnMub3BhY2l0eSAhPT0gdW5kZWZpbmVkKSB7DQoJCQlMLkRvbVV0aWwuc2V0T3BhY2l0eSh0aWxlLCB0aGlzLm9wdGlvbnMub3BhY2l0eSk7DQoJCX0NCgkJLy8gd2l0aG91dCB0aGlzIGhhY2ssIHRpbGVzIGRpc2FwcGVhciBhZnRlciB6b29tIG9uIENocm9tZSBmb3IgQW5kcm9pZA0KCQkvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy8yMDc4DQoJCWlmIChMLkJyb3dzZXIubW9iaWxlV2Via2l0M2QpIHsNCgkJCXRpbGUuc3R5bGUuV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5ID0gJ2hpZGRlbic7DQoJCX0NCgkJcmV0dXJuIHRpbGU7DQoJfSwNCg0KCV9sb2FkVGlsZTogZnVuY3Rpb24gKHRpbGUsIHRpbGVQb2ludCkgew0KCQl0aWxlLl9sYXllciAgPSB0aGlzOw0KCQl0aWxlLm9ubG9hZCAgPSB0aGlzLl90aWxlT25Mb2FkOw0KCQl0aWxlLm9uZXJyb3IgPSB0aGlzLl90aWxlT25FcnJvcjsNCg0KCQl0aGlzLl9hZGp1c3RUaWxlUG9pbnQodGlsZVBvaW50KTsNCgkJdGlsZS5zcmMgICAgID0gdGhpcy5nZXRUaWxlVXJsKHRpbGVQb2ludCk7DQoNCgkJdGhpcy5maXJlKCd0aWxlbG9hZHN0YXJ0Jywgew0KCQkJdGlsZTogdGlsZSwNCgkJCXVybDogdGlsZS5zcmMNCgkJfSk7DQoJfSwNCg0KCV90aWxlTG9hZGVkOiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuX3RpbGVzVG9Mb2FkLS07DQoNCgkJaWYgKHRoaXMuX2FuaW1hdGVkKSB7DQoJCQlMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fdGlsZUNvbnRhaW5lciwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpOw0KCQl9DQoNCgkJaWYgKCF0aGlzLl90aWxlc1RvTG9hZCkgew0KCQkJdGhpcy5maXJlKCdsb2FkJyk7DQoNCgkJCWlmICh0aGlzLl9hbmltYXRlZCkgew0KCQkJCS8vIGNsZWFyIHNjYWxlZCB0aWxlcyBhZnRlciBhbGwgbmV3IHRpbGVzIGFyZSBsb2FkZWQgKGZvciBwZXJmb3JtYW5jZSkNCgkJCQljbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKTsNCgkJCQl0aGlzLl9jbGVhckJnQnVmZmVyVGltZXIgPSBzZXRUaW1lb3V0KEwuYmluZCh0aGlzLl9jbGVhckJnQnVmZmVyLCB0aGlzKSwgNTAwKTsNCgkJCX0NCgkJfQ0KCX0sDQoNCglfdGlsZU9uTG9hZDogZnVuY3Rpb24gKCkgew0KCQl2YXIgbGF5ZXIgPSB0aGlzLl9sYXllcjsNCg0KCQkvL09ubHkgaWYgd2UgYXJlIGxvYWRpbmcgYW4gYWN0dWFsIGltYWdlDQoJCWlmICh0aGlzLnNyYyAhPT0gTC5VdGlsLmVtcHR5SW1hZ2VVcmwpIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLCAnbGVhZmxldC10aWxlLWxvYWRlZCcpOw0KDQoJCQlsYXllci5maXJlKCd0aWxlbG9hZCcsIHsNCgkJCQl0aWxlOiB0aGlzLA0KCQkJCXVybDogdGhpcy5zcmMNCgkJCX0pOw0KCQl9DQoNCgkJbGF5ZXIuX3RpbGVMb2FkZWQoKTsNCgl9LA0KDQoJX3RpbGVPbkVycm9yOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBsYXllciA9IHRoaXMuX2xheWVyOw0KDQoJCWxheWVyLmZpcmUoJ3RpbGVlcnJvcicsIHsNCgkJCXRpbGU6IHRoaXMsDQoJCQl1cmw6IHRoaXMuc3JjDQoJCX0pOw0KDQoJCXZhciBuZXdVcmwgPSBsYXllci5vcHRpb25zLmVycm9yVGlsZVVybDsNCgkJaWYgKG5ld1VybCkgew0KCQkJdGhpcy5zcmMgPSBuZXdVcmw7DQoJCX0NCg0KCQlsYXllci5fdGlsZUxvYWRlZCgpOw0KCX0NCn0pOw0KDQpMLnRpbGVMYXllciA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHsNCglyZXR1cm4gbmV3IEwuVGlsZUxheWVyKHVybCwgb3B0aW9ucyk7DQp9Ow0KCgovKg0KICogTC5UaWxlTGF5ZXIuV01TIGlzIHVzZWQgZm9yIHB1dHRpbmcgV01TIHRpbGUgbGF5ZXJzIG9uIHRoZSBtYXAuDQogKi8NCg0KTC5UaWxlTGF5ZXIuV01TID0gTC5UaWxlTGF5ZXIuZXh0ZW5kKHsNCg0KCWRlZmF1bHRXbXNQYXJhbXM6IHsNCgkJc2VydmljZTogJ1dNUycsDQoJCXJlcXVlc3Q6ICdHZXRNYXAnLA0KCQl2ZXJzaW9uOiAnMS4xLjEnLA0KCQlsYXllcnM6ICcnLA0KCQlzdHlsZXM6ICcnLA0KCQlmb3JtYXQ6ICdpbWFnZS9qcGVnJywNCgkJdHJhbnNwYXJlbnQ6IGZhbHNlDQoJfSwNCg0KCWluaXRpYWxpemU6IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHsgLy8gKFN0cmluZywgT2JqZWN0KQ0KDQoJCXRoaXMuX3VybCA9IHVybDsNCg0KCQl2YXIgd21zUGFyYW1zID0gTC5leHRlbmQoe30sIHRoaXMuZGVmYXVsdFdtc1BhcmFtcyksDQoJCSAgICB0aWxlU2l6ZSA9IG9wdGlvbnMudGlsZVNpemUgfHwgdGhpcy5vcHRpb25zLnRpbGVTaXplOw0KDQoJCWlmIChvcHRpb25zLmRldGVjdFJldGluYSAmJiBMLkJyb3dzZXIucmV0aW5hKSB7DQoJCQl3bXNQYXJhbXMud2lkdGggPSB3bXNQYXJhbXMuaGVpZ2h0ID0gdGlsZVNpemUgKiAyOw0KCQl9IGVsc2Ugew0KCQkJd21zUGFyYW1zLndpZHRoID0gd21zUGFyYW1zLmhlaWdodCA9IHRpbGVTaXplOw0KCQl9DQoNCgkJZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7DQoJCQkvLyBhbGwga2V5cyB0aGF0IGFyZSBub3QgVGlsZUxheWVyIG9wdGlvbnMgZ28gdG8gV01TIHBhcmFtcw0KCQkJaWYgKCF0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoaSkgJiYgaSAhPT0gJ2NycycpIHsNCgkJCQl3bXNQYXJhbXNbaV0gPSBvcHRpb25zW2ldOw0KCQkJfQ0KCQl9DQoNCgkJdGhpcy53bXNQYXJhbXMgPSB3bXNQYXJhbXM7DQoNCgkJTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpOw0KCX0sDQoNCglvbkFkZDogZnVuY3Rpb24gKG1hcCkgew0KDQoJCXRoaXMuX2NycyA9IHRoaXMub3B0aW9ucy5jcnMgfHwgbWFwLm9wdGlvbnMuY3JzOw0KDQoJCXRoaXMuX3dtc1ZlcnNpb24gPSBwYXJzZUZsb2F0KHRoaXMud21zUGFyYW1zLnZlcnNpb24pOw0KDQoJCXZhciBwcm9qZWN0aW9uS2V5ID0gdGhpcy5fd21zVmVyc2lvbiA+PSAxLjMgPyAnY3JzJyA6ICdzcnMnOw0KCQl0aGlzLndtc1BhcmFtc1twcm9qZWN0aW9uS2V5XSA9IHRoaXMuX2Nycy5jb2RlOw0KDQoJCUwuVGlsZUxheWVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7DQoJfSwNCg0KCWdldFRpbGVVcmw6IGZ1bmN0aW9uICh0aWxlUG9pbnQpIHsgLy8gKFBvaW50LCBOdW1iZXIpIC0+IFN0cmluZw0KDQoJCXZhciBtYXAgPSB0aGlzLl9tYXAsDQoJCSAgICB0aWxlU2l6ZSA9IHRoaXMub3B0aW9ucy50aWxlU2l6ZSwNCg0KCQkgICAgbndQb2ludCA9IHRpbGVQb2ludC5tdWx0aXBseUJ5KHRpbGVTaXplKSwNCgkJICAgIHNlUG9pbnQgPSBud1BvaW50LmFkZChbdGlsZVNpemUsIHRpbGVTaXplXSksDQoNCgkJICAgIG53ID0gdGhpcy5fY3JzLnByb2plY3QobWFwLnVucHJvamVjdChud1BvaW50LCB0aWxlUG9pbnQueikpLA0KCQkgICAgc2UgPSB0aGlzLl9jcnMucHJvamVjdChtYXAudW5wcm9qZWN0KHNlUG9pbnQsIHRpbGVQb2ludC56KSksDQoJCSAgICBiYm94ID0gdGhpcy5fd21zVmVyc2lvbiA+PSAxLjMgJiYgdGhpcy5fY3JzID09PSBMLkNSUy5FUFNHNDMyNiA/DQoJCSAgICAgICAgW3NlLnksIG53LngsIG53LnksIHNlLnhdLmpvaW4oJywnKSA6DQoJCSAgICAgICAgW253LngsIHNlLnksIHNlLngsIG53LnldLmpvaW4oJywnKSwNCg0KCQkgICAgdXJsID0gTC5VdGlsLnRlbXBsYXRlKHRoaXMuX3VybCwge3M6IHRoaXMuX2dldFN1YmRvbWFpbih0aWxlUG9pbnQpfSk7DQoNCgkJcmV0dXJuIHVybCArIEwuVXRpbC5nZXRQYXJhbVN0cmluZyh0aGlzLndtc1BhcmFtcywgdXJsLCB0cnVlKSArICcmQkJPWD0nICsgYmJveDsNCgl9LA0KDQoJc2V0UGFyYW1zOiBmdW5jdGlvbiAocGFyYW1zLCBub1JlZHJhdykgew0KDQoJCUwuZXh0ZW5kKHRoaXMud21zUGFyYW1zLCBwYXJhbXMpOw0KDQoJCWlmICghbm9SZWRyYXcpIHsNCgkJCXRoaXMucmVkcmF3KCk7DQoJCX0NCg0KCQlyZXR1cm4gdGhpczsNCgl9DQp9KTsNCg0KTC50aWxlTGF5ZXIud21zID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykgew0KCXJldHVybiBuZXcgTC5UaWxlTGF5ZXIuV01TKHVybCwgb3B0aW9ucyk7DQp9Ow0KCgovKg0KICogTC5UaWxlTGF5ZXIuQ2FudmFzIGlzIGEgY2xhc3MgdGhhdCB5b3UgY2FuIHVzZSBhcyBhIGJhc2UgZm9yIGNyZWF0aW5nDQogKiBkeW5hbWljYWxseSBkcmF3biBDYW52YXMtYmFzZWQgdGlsZSBsYXllcnMuDQogKi8NCg0KTC5UaWxlTGF5ZXIuQ2FudmFzID0gTC5UaWxlTGF5ZXIuZXh0ZW5kKHsNCglvcHRpb25zOiB7DQoJCWFzeW5jOiBmYWxzZQ0KCX0sDQoNCglpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykgew0KCQlMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7DQoJfSwNCg0KCXJlZHJhdzogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5fbWFwKSB7DQoJCQl0aGlzLl9yZXNldCh7aGFyZDogdHJ1ZX0pOw0KCQkJdGhpcy5fdXBkYXRlKCk7DQoJCX0NCg0KCQlmb3IgKHZhciBpIGluIHRoaXMuX3RpbGVzKSB7DQoJCQl0aGlzLl9yZWRyYXdUaWxlKHRoaXMuX3RpbGVzW2ldKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJX3JlZHJhd1RpbGU6IGZ1bmN0aW9uICh0aWxlKSB7DQoJCXRoaXMuZHJhd1RpbGUodGlsZSwgdGlsZS5fdGlsZVBvaW50LCB0aGlzLl9tYXAuX3pvb20pOw0KCX0sDQoNCglfY3JlYXRlVGlsZTogZnVuY3Rpb24gKCkgew0KCQl2YXIgdGlsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2NhbnZhcycsICdsZWFmbGV0LXRpbGUnKTsNCgkJdGlsZS53aWR0aCA9IHRpbGUuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLnRpbGVTaXplOw0KCQl0aWxlLm9uc2VsZWN0c3RhcnQgPSB0aWxlLm9ubW91c2Vtb3ZlID0gTC5VdGlsLmZhbHNlRm47DQoJCXJldHVybiB0aWxlOw0KCX0sDQoNCglfbG9hZFRpbGU6IGZ1bmN0aW9uICh0aWxlLCB0aWxlUG9pbnQpIHsNCgkJdGlsZS5fbGF5ZXIgPSB0aGlzOw0KCQl0aWxlLl90aWxlUG9pbnQgPSB0aWxlUG9pbnQ7DQoNCgkJdGhpcy5fcmVkcmF3VGlsZSh0aWxlKTsNCg0KCQlpZiAoIXRoaXMub3B0aW9ucy5hc3luYykgew0KCQkJdGhpcy50aWxlRHJhd24odGlsZSk7DQoJCX0NCgl9LA0KDQoJZHJhd1RpbGU6IGZ1bmN0aW9uICgvKnRpbGUsIHRpbGVQb2ludCovKSB7DQoJCS8vIG92ZXJyaWRlIHdpdGggcmVuZGVyaW5nIGNvZGUNCgl9LA0KDQoJdGlsZURyYXduOiBmdW5jdGlvbiAodGlsZSkgew0KCQl0aGlzLl90aWxlT25Mb2FkLmNhbGwodGlsZSk7DQoJfQ0KfSk7DQoNCg0KTC50aWxlTGF5ZXIuY2FudmFzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCglyZXR1cm4gbmV3IEwuVGlsZUxheWVyLkNhbnZhcyhvcHRpb25zKTsNCn07DQoKCi8qDQogKiBMLkltYWdlT3ZlcmxheSBpcyB1c2VkIHRvIG92ZXJsYXkgaW1hZ2VzIG92ZXIgdGhlIG1hcCAodG8gc3BlY2lmaWMgZ2VvZ3JhcGhpY2FsIGJvdW5kcykuDQogKi8NCg0KTC5JbWFnZU92ZXJsYXkgPSBMLkNsYXNzLmV4dGVuZCh7DQoJaW5jbHVkZXM6IEwuTWl4aW4uRXZlbnRzLA0KDQoJb3B0aW9uczogew0KCQlvcGFjaXR5OiAxDQoJfSwNCg0KCWluaXRpYWxpemU6IGZ1bmN0aW9uICh1cmwsIGJvdW5kcywgb3B0aW9ucykgeyAvLyAoU3RyaW5nLCBMYXRMbmdCb3VuZHMsIE9iamVjdCkNCgkJdGhpcy5fdXJsID0gdXJsOw0KCQl0aGlzLl9ib3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhib3VuZHMpOw0KDQoJCUwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTsNCgl9LA0KDQoJb25BZGQ6IGZ1bmN0aW9uIChtYXApIHsNCgkJdGhpcy5fbWFwID0gbWFwOw0KDQoJCWlmICghdGhpcy5faW1hZ2UpIHsNCgkJCXRoaXMuX2luaXRJbWFnZSgpOw0KCQl9DQoNCgkJbWFwLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSk7DQoNCgkJbWFwLm9uKCd2aWV3cmVzZXQnLCB0aGlzLl9yZXNldCwgdGhpcyk7DQoNCgkJaWYgKG1hcC5vcHRpb25zLnpvb21BbmltYXRpb24gJiYgTC5Ccm93c2VyLmFueTNkKSB7DQoJCQltYXAub24oJ3pvb21hbmltJywgdGhpcy5fYW5pbWF0ZVpvb20sIHRoaXMpOw0KCQl9DQoNCgkJdGhpcy5fcmVzZXQoKTsNCgl9LA0KDQoJb25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwLmdldFBhbmVzKCkub3ZlcmxheVBhbmUucmVtb3ZlQ2hpbGQodGhpcy5faW1hZ2UpOw0KDQoJCW1hcC5vZmYoJ3ZpZXdyZXNldCcsIHRoaXMuX3Jlc2V0LCB0aGlzKTsNCg0KCQlpZiAobWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbikgew0KCQkJbWFwLm9mZignem9vbWFuaW0nLCB0aGlzLl9hbmltYXRlWm9vbSwgdGhpcyk7DQoJCX0NCgl9LA0KDQoJYWRkVG86IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwLmFkZExheWVyKHRoaXMpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJc2V0T3BhY2l0eTogZnVuY3Rpb24gKG9wYWNpdHkpIHsNCgkJdGhpcy5vcHRpb25zLm9wYWNpdHkgPSBvcGFjaXR5Ow0KCQl0aGlzLl91cGRhdGVPcGFjaXR5KCk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgkvLyBUT0RPIHJlbW92ZSBicmluZ1RvRnJvbnQvYnJpbmdUb0JhY2sgZHVwbGljYXRpb24gZnJvbSBUaWxlTGF5ZXIvUGF0aA0KCWJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5faW1hZ2UpIHsNCgkJCXRoaXMuX21hcC5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faW1hZ2UpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglicmluZ1RvQmFjazogZnVuY3Rpb24gKCkgew0KCQl2YXIgcGFuZSA9IHRoaXMuX21hcC5fcGFuZXMub3ZlcmxheVBhbmU7DQoJCWlmICh0aGlzLl9pbWFnZSkgew0KCQkJcGFuZS5pbnNlcnRCZWZvcmUodGhpcy5faW1hZ2UsIHBhbmUuZmlyc3RDaGlsZCk7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXNldFVybDogZnVuY3Rpb24gKHVybCkgew0KCQl0aGlzLl91cmwgPSB1cmw7DQoJCXRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX3VybDsNCgl9LA0KDQoJZ2V0QXR0cmlidXRpb246IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbjsNCgl9LA0KDQoJX2luaXRJbWFnZTogZnVuY3Rpb24gKCkgew0KCQl0aGlzLl9pbWFnZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2ltZycsICdsZWFmbGV0LWltYWdlLWxheWVyJyk7DQoNCgkJaWYgKHRoaXMuX21hcC5vcHRpb25zLnpvb21BbmltYXRpb24gJiYgTC5Ccm93c2VyLmFueTNkKSB7DQoJCQlMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsICdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnKTsNCgkJfSBlbHNlIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbWFnZSwgJ2xlYWZsZXQtem9vbS1oaWRlJyk7DQoJCX0NCg0KCQl0aGlzLl91cGRhdGVPcGFjaXR5KCk7DQoNCgkJLy9UT0RPIGNyZWF0ZUltYWdlIHV0aWwgbWV0aG9kIHRvIHJlbW92ZSBkdXBsaWNhdGlvbg0KCQlMLmV4dGVuZCh0aGlzLl9pbWFnZSwgew0KCQkJZ2FsbGVyeWltZzogJ25vJywNCgkJCW9uc2VsZWN0c3RhcnQ6IEwuVXRpbC5mYWxzZUZuLA0KCQkJb25tb3VzZW1vdmU6IEwuVXRpbC5mYWxzZUZuLA0KCQkJb25sb2FkOiBMLmJpbmQodGhpcy5fb25JbWFnZUxvYWQsIHRoaXMpLA0KCQkJc3JjOiB0aGlzLl91cmwNCgkJfSk7DQoJfSwNCg0KCV9hbmltYXRlWm9vbTogZnVuY3Rpb24gKGUpIHsNCgkJdmFyIG1hcCA9IHRoaXMuX21hcCwNCgkJICAgIGltYWdlID0gdGhpcy5faW1hZ2UsDQoJCSAgICBzY2FsZSA9IG1hcC5nZXRab29tU2NhbGUoZS56b29tKSwNCgkJICAgIG53ID0gdGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpLA0KCQkgICAgc2UgPSB0aGlzLl9ib3VuZHMuZ2V0U291dGhFYXN0KCksDQoNCgkJICAgIHRvcExlZnQgPSBtYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludChudywgZS56b29tLCBlLmNlbnRlciksDQoJCSAgICBzaXplID0gbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQoc2UsIGUuem9vbSwgZS5jZW50ZXIpLl9zdWJ0cmFjdCh0b3BMZWZ0KSwNCgkJICAgIG9yaWdpbiA9IHRvcExlZnQuX2FkZChzaXplLl9tdWx0aXBseUJ5KCgxIC8gMikgKiAoMSAtIDEgLyBzY2FsZSkpKTsNCg0KCQlpbWFnZS5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSA9DQoJCSAgICAgICAgTC5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhvcmlnaW4pICsgJyBzY2FsZSgnICsgc2NhbGUgKyAnKSAnOw0KCX0sDQoNCglfcmVzZXQ6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIGltYWdlICAgPSB0aGlzLl9pbWFnZSwNCgkJICAgIHRvcExlZnQgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2JvdW5kcy5nZXROb3J0aFdlc3QoKSksDQoJCSAgICBzaXplID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9ib3VuZHMuZ2V0U291dGhFYXN0KCkpLl9zdWJ0cmFjdCh0b3BMZWZ0KTsNCg0KCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24oaW1hZ2UsIHRvcExlZnQpOw0KDQoJCWltYWdlLnN0eWxlLndpZHRoICA9IHNpemUueCArICdweCc7DQoJCWltYWdlLnN0eWxlLmhlaWdodCA9IHNpemUueSArICdweCc7DQoJfSwNCg0KCV9vbkltYWdlTG9hZDogZnVuY3Rpb24gKCkgew0KCQl0aGlzLmZpcmUoJ2xvYWQnKTsNCgl9LA0KDQoJX3VwZGF0ZU9wYWNpdHk6IGZ1bmN0aW9uICgpIHsNCgkJTC5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faW1hZ2UsIHRoaXMub3B0aW9ucy5vcGFjaXR5KTsNCgl9DQp9KTsNCg0KTC5pbWFnZU92ZXJsYXkgPSBmdW5jdGlvbiAodXJsLCBib3VuZHMsIG9wdGlvbnMpIHsNCglyZXR1cm4gbmV3IEwuSW1hZ2VPdmVybGF5KHVybCwgYm91bmRzLCBvcHRpb25zKTsNCn07DQoKCi8qDQogKiBMLkljb24gaXMgYW4gaW1hZ2UtYmFzZWQgaWNvbiBjbGFzcyB0aGF0IHlvdSBjYW4gdXNlIHdpdGggTC5NYXJrZXIgZm9yIGN1c3RvbSBtYXJrZXJzLg0KICovDQoNCkwuSWNvbiA9IEwuQ2xhc3MuZXh0ZW5kKHsNCglvcHRpb25zOiB7DQoJCS8qDQoJCWljb25Vcmw6IChTdHJpbmcpIChyZXF1aXJlZCkNCgkJaWNvblJldGluYVVybDogKFN0cmluZykgKG9wdGlvbmFsLCB1c2VkIGZvciByZXRpbmEgZGV2aWNlcyBpZiBkZXRlY3RlZCkNCgkJaWNvblNpemU6IChQb2ludCkgKGNhbiBiZSBzZXQgdGhyb3VnaCBDU1MpDQoJCWljb25BbmNob3I6IChQb2ludCkgKGNlbnRlcmVkIGJ5IGRlZmF1bHQsIGNhbiBiZSBzZXQgaW4gQ1NTIHdpdGggbmVnYXRpdmUgbWFyZ2lucykNCgkJcG9wdXBBbmNob3I6IChQb2ludCkgKGlmIG5vdCBzcGVjaWZpZWQsIHBvcHVwIG9wZW5zIGluIHRoZSBhbmNob3IgcG9pbnQpDQoJCXNoYWRvd1VybDogKFN0cmluZykgKG5vIHNoYWRvdyBieSBkZWZhdWx0KQ0KCQlzaGFkb3dSZXRpbmFVcmw6IChTdHJpbmcpIChvcHRpb25hbCwgdXNlZCBmb3IgcmV0aW5hIGRldmljZXMgaWYgZGV0ZWN0ZWQpDQoJCXNoYWRvd1NpemU6IChQb2ludCkNCgkJc2hhZG93QW5jaG9yOiAoUG9pbnQpDQoJCSovDQoJCWNsYXNzTmFtZTogJycNCgl9LA0KDQoJaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHsNCgkJTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpOw0KCX0sDQoNCgljcmVhdGVJY29uOiBmdW5jdGlvbiAob2xkSWNvbikgew0KCQlyZXR1cm4gdGhpcy5fY3JlYXRlSWNvbignaWNvbicsIG9sZEljb24pOw0KCX0sDQoNCgljcmVhdGVTaGFkb3c6IGZ1bmN0aW9uIChvbGRJY29uKSB7DQoJCXJldHVybiB0aGlzLl9jcmVhdGVJY29uKCdzaGFkb3cnLCBvbGRJY29uKTsNCgl9LA0KDQoJX2NyZWF0ZUljb246IGZ1bmN0aW9uIChuYW1lLCBvbGRJY29uKSB7DQoJCXZhciBzcmMgPSB0aGlzLl9nZXRJY29uVXJsKG5hbWUpOw0KDQoJCWlmICghc3JjKSB7DQoJCQlpZiAobmFtZSA9PT0gJ2ljb24nKSB7DQoJCQkJdGhyb3cgbmV3IEVycm9yKCdpY29uVXJsIG5vdCBzZXQgaW4gSWNvbiBvcHRpb25zIChzZWUgdGhlIGRvY3MpLicpOw0KCQkJfQ0KCQkJcmV0dXJuIG51bGw7DQoJCX0NCg0KCQl2YXIgaW1nOw0KCQlpZiAoIW9sZEljb24gfHwgb2xkSWNvbi50YWdOYW1lICE9PSAnSU1HJykgew0KCQkJaW1nID0gdGhpcy5fY3JlYXRlSW1nKHNyYyk7DQoJCX0gZWxzZSB7DQoJCQlpbWcgPSB0aGlzLl9jcmVhdGVJbWcoc3JjLCBvbGRJY29uKTsNCgkJfQ0KCQl0aGlzLl9zZXRJY29uU3R5bGVzKGltZywgbmFtZSk7DQoNCgkJcmV0dXJuIGltZzsNCgl9LA0KDQoJX3NldEljb25TdHlsZXM6IGZ1bmN0aW9uIChpbWcsIG5hbWUpIHsNCgkJdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsDQoJCSAgICBzaXplID0gTC5wb2ludChvcHRpb25zW25hbWUgKyAnU2l6ZSddKSwNCgkJICAgIGFuY2hvcjsNCg0KCQlpZiAobmFtZSA9PT0gJ3NoYWRvdycpIHsNCgkJCWFuY2hvciA9IEwucG9pbnQob3B0aW9ucy5zaGFkb3dBbmNob3IgfHwgb3B0aW9ucy5pY29uQW5jaG9yKTsNCgkJfSBlbHNlIHsNCgkJCWFuY2hvciA9IEwucG9pbnQob3B0aW9ucy5pY29uQW5jaG9yKTsNCgkJfQ0KDQoJCWlmICghYW5jaG9yICYmIHNpemUpIHsNCgkJCWFuY2hvciA9IHNpemUuZGl2aWRlQnkoMiwgdHJ1ZSk7DQoJCX0NCg0KCQlpbWcuY2xhc3NOYW1lID0gJ2xlYWZsZXQtbWFya2VyLScgKyBuYW1lICsgJyAnICsgb3B0aW9ucy5jbGFzc05hbWU7DQoNCgkJaWYgKGFuY2hvcikgew0KCQkJaW1nLnN0eWxlLm1hcmdpbkxlZnQgPSAoLWFuY2hvci54KSArICdweCc7DQoJCQlpbWcuc3R5bGUubWFyZ2luVG9wICA9ICgtYW5jaG9yLnkpICsgJ3B4JzsNCgkJfQ0KDQoJCWlmIChzaXplKSB7DQoJCQlpbWcuc3R5bGUud2lkdGggID0gc2l6ZS54ICsgJ3B4JzsNCgkJCWltZy5zdHlsZS5oZWlnaHQgPSBzaXplLnkgKyAncHgnOw0KCQl9DQoJfSwNCg0KCV9jcmVhdGVJbWc6IGZ1bmN0aW9uIChzcmMsIGVsKSB7DQoJCWVsID0gZWwgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7DQoJCWVsLnNyYyA9IHNyYzsNCgkJcmV0dXJuIGVsOw0KCX0sDQoNCglfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHsNCgkJaWYgKEwuQnJvd3Nlci5yZXRpbmEgJiYgdGhpcy5vcHRpb25zW25hbWUgKyAnUmV0aW5hVXJsJ10pIHsNCgkJCXJldHVybiB0aGlzLm9wdGlvbnNbbmFtZSArICdSZXRpbmFVcmwnXTsNCgkJfQ0KCQlyZXR1cm4gdGhpcy5vcHRpb25zW25hbWUgKyAnVXJsJ107DQoJfQ0KfSk7DQoNCkwuaWNvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7DQoJcmV0dXJuIG5ldyBMLkljb24ob3B0aW9ucyk7DQp9Ow0KCgovKgogKiBMLkljb24uRGVmYXVsdCBpcyB0aGUgYmx1ZSBtYXJrZXIgaWNvbiB1c2VkIGJ5IGRlZmF1bHQgaW4gTGVhZmxldC4KICovCgpMLkljb24uRGVmYXVsdCA9IEwuSWNvbi5leHRlbmQoewoKCW9wdGlvbnM6IHsKCQlpY29uU2l6ZTogWzI1LCA0MV0sCgkJaWNvbkFuY2hvcjogWzEyLCA0MV0sCgkJcG9wdXBBbmNob3I6IFsxLCAtMzRdLAoKCQlzaGFkb3dTaXplOiBbNDEsIDQxXQoJfSwKCglfZ2V0SWNvblVybDogZnVuY3Rpb24gKG5hbWUpIHsKCQl2YXIga2V5ID0gbmFtZSArICdVcmwnOwoKCQlpZiAodGhpcy5vcHRpb25zW2tleV0pIHsKCQkJcmV0dXJuIHRoaXMub3B0aW9uc1trZXldOwoJCX0KCgkJaWYgKEwuQnJvd3Nlci5yZXRpbmEgJiYgbmFtZSA9PT0gJ2ljb24nKSB7CgkJCW5hbWUgKz0gJy0yeCc7CgkJfQoKCQl2YXIgcGF0aCA9IEwuSWNvbi5EZWZhdWx0LmltYWdlUGF0aDsKCgkJaWYgKCFwYXRoKSB7CgkJCXRocm93IG5ldyBFcnJvcignQ291bGRuXCd0IGF1dG9kZXRlY3QgTC5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoLCBzZXQgaXQgbWFudWFsbHkuJyk7CgkJfQoKCQlyZXR1cm4gcGF0aCArICcvbWFya2VyLScgKyBuYW1lICsgJy5wbmcnOwoJfQp9KTsKCkwuSWNvbi5EZWZhdWx0LmltYWdlUGF0aCA9IChmdW5jdGlvbiAoKSB7Cgl2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKSwKCSAgICBsZWFmbGV0UmUgPSAvW1wvXl1sZWFmbGV0W1wtXC5fXT8oW1x3XC1cLl9dKilcLmpzXD8/LzsKCgl2YXIgaSwgbGVuLCBzcmMsIG1hdGNoZXMsIHBhdGg7CgoJZm9yIChpID0gMCwgbGVuID0gc2NyaXB0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewoJCXNyYyA9IHNjcmlwdHNbaV0uc3JjOwoJCW1hdGNoZXMgPSBzcmMubWF0Y2gobGVhZmxldFJlKTsKCgkJaWYgKG1hdGNoZXMpIHsKCQkJcGF0aCA9IHNyYy5zcGxpdChsZWFmbGV0UmUpWzBdOwoJCQlyZXR1cm4gKHBhdGggPyBwYXRoICsgJy8nIDogJycpICsgJ2ltYWdlcyc7CgkJfQoJfQp9KCkpOwoKCi8qDQogKiBMLk1hcmtlciBpcyB1c2VkIHRvIGRpc3BsYXkgY2xpY2thYmxlL2RyYWdnYWJsZSBpY29ucyBvbiB0aGUgbWFwLg0KICovDQoNCkwuTWFya2VyID0gTC5DbGFzcy5leHRlbmQoew0KDQoJaW5jbHVkZXM6IEwuTWl4aW4uRXZlbnRzLA0KDQoJb3B0aW9uczogew0KCQlpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwNCgkJdGl0bGU6ICcnLA0KCQlhbHQ6ICcnLA0KCQljbGlja2FibGU6IHRydWUsDQoJCWRyYWdnYWJsZTogZmFsc2UsDQoJCWtleWJvYXJkOiB0cnVlLA0KCQl6SW5kZXhPZmZzZXQ6IDAsDQoJCW9wYWNpdHk6IDEsDQoJCXJpc2VPbkhvdmVyOiBmYWxzZSwNCgkJcmlzZU9mZnNldDogMjUwDQoJfSwNCg0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIG9wdGlvbnMpIHsNCgkJTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpOw0KCQl0aGlzLl9sYXRsbmcgPSBMLmxhdExuZyhsYXRsbmcpOw0KCX0sDQoNCglvbkFkZDogZnVuY3Rpb24gKG1hcCkgew0KCQl0aGlzLl9tYXAgPSBtYXA7DQoNCgkJbWFwLm9uKCd2aWV3cmVzZXQnLCB0aGlzLnVwZGF0ZSwgdGhpcyk7DQoNCgkJdGhpcy5faW5pdEljb24oKTsNCgkJdGhpcy51cGRhdGUoKTsNCgkJdGhpcy5maXJlKCdhZGQnKTsNCg0KCQlpZiAobWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbiAmJiBtYXAub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uKSB7DQoJCQltYXAub24oJ3pvb21hbmltJywgdGhpcy5fYW5pbWF0ZVpvb20sIHRoaXMpOw0KCQl9DQoJfSwNCg0KCWFkZFRvOiBmdW5jdGlvbiAobWFwKSB7DQoJCW1hcC5hZGRMYXllcih0aGlzKTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCW9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7DQoJCWlmICh0aGlzLmRyYWdnaW5nKSB7DQoJCQl0aGlzLmRyYWdnaW5nLmRpc2FibGUoKTsNCgkJfQ0KDQoJCXRoaXMuX3JlbW92ZUljb24oKTsNCgkJdGhpcy5fcmVtb3ZlU2hhZG93KCk7DQoNCgkJdGhpcy5maXJlKCdyZW1vdmUnKTsNCg0KCQltYXAub2ZmKHsNCgkJCSd2aWV3cmVzZXQnOiB0aGlzLnVwZGF0ZSwNCgkJCSd6b29tYW5pbSc6IHRoaXMuX2FuaW1hdGVab29tDQoJCX0sIHRoaXMpOw0KDQoJCXRoaXMuX21hcCA9IG51bGw7DQoJfSwNCg0KCWdldExhdExuZzogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5fbGF0bG5nOw0KCX0sDQoNCglzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHsNCgkJdGhpcy5fbGF0bG5nID0gTC5sYXRMbmcobGF0bG5nKTsNCg0KCQl0aGlzLnVwZGF0ZSgpOw0KDQoJCXJldHVybiB0aGlzLmZpcmUoJ21vdmUnLCB7IGxhdGxuZzogdGhpcy5fbGF0bG5nIH0pOw0KCX0sDQoNCglzZXRaSW5kZXhPZmZzZXQ6IGZ1bmN0aW9uIChvZmZzZXQpIHsNCgkJdGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCA9IG9mZnNldDsNCgkJdGhpcy51cGRhdGUoKTsNCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJc2V0SWNvbjogZnVuY3Rpb24gKGljb24pIHsNCg0KCQl0aGlzLm9wdGlvbnMuaWNvbiA9IGljb247DQoNCgkJaWYgKHRoaXMuX21hcCkgew0KCQkJdGhpcy5faW5pdEljb24oKTsNCgkJCXRoaXMudXBkYXRlKCk7DQoJCX0NCg0KCQlpZiAodGhpcy5fcG9wdXApIHsNCgkJCXRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgl1cGRhdGU6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX2ljb24pIHsNCgkJCXZhciBwb3MgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZykucm91bmQoKTsNCgkJCXRoaXMuX3NldFBvcyhwb3MpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCV9pbml0SWNvbjogZnVuY3Rpb24gKCkgew0KCQl2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywNCgkJICAgIG1hcCA9IHRoaXMuX21hcCwNCgkJICAgIGFuaW1hdGlvbiA9IChtYXAub3B0aW9ucy56b29tQW5pbWF0aW9uICYmIG1hcC5vcHRpb25zLm1hcmtlclpvb21BbmltYXRpb24pLA0KCQkgICAgY2xhc3NUb0FkZCA9IGFuaW1hdGlvbiA/ICdsZWFmbGV0LXpvb20tYW5pbWF0ZWQnIDogJ2xlYWZsZXQtem9vbS1oaWRlJzsNCg0KCQl2YXIgaWNvbiA9IG9wdGlvbnMuaWNvbi5jcmVhdGVJY29uKHRoaXMuX2ljb24pLA0KCQkJYWRkSWNvbiA9IGZhbHNlOw0KDQoJCS8vIGlmIHdlJ3JlIG5vdCByZXVzaW5nIHRoZSBpY29uLCByZW1vdmUgdGhlIG9sZCBvbmUgYW5kIGluaXQgbmV3IG9uZQ0KCQlpZiAoaWNvbiAhPT0gdGhpcy5faWNvbikgew0KCQkJaWYgKHRoaXMuX2ljb24pIHsNCgkJCQl0aGlzLl9yZW1vdmVJY29uKCk7DQoJCQl9DQoJCQlhZGRJY29uID0gdHJ1ZTsNCg0KCQkJaWYgKG9wdGlvbnMudGl0bGUpIHsNCgkJCQlpY29uLnRpdGxlID0gb3B0aW9ucy50aXRsZTsNCgkJCX0NCgkJCQ0KCQkJaWYgKG9wdGlvbnMuYWx0KSB7DQoJCQkJaWNvbi5hbHQgPSBvcHRpb25zLmFsdDsNCgkJCX0NCgkJfQ0KDQoJCUwuRG9tVXRpbC5hZGRDbGFzcyhpY29uLCBjbGFzc1RvQWRkKTsNCg0KCQlpZiAob3B0aW9ucy5rZXlib2FyZCkgew0KCQkJaWNvbi50YWJJbmRleCA9ICcwJzsNCgkJfQ0KDQoJCXRoaXMuX2ljb24gPSBpY29uOw0KDQoJCXRoaXMuX2luaXRJbnRlcmFjdGlvbigpOw0KDQoJCWlmIChvcHRpb25zLnJpc2VPbkhvdmVyKSB7DQoJCQlMLkRvbUV2ZW50DQoJCQkJLm9uKGljb24sICdtb3VzZW92ZXInLCB0aGlzLl9icmluZ1RvRnJvbnQsIHRoaXMpDQoJCQkJLm9uKGljb24sICdtb3VzZW91dCcsIHRoaXMuX3Jlc2V0WkluZGV4LCB0aGlzKTsNCgkJfQ0KDQoJCXZhciBuZXdTaGFkb3cgPSBvcHRpb25zLmljb24uY3JlYXRlU2hhZG93KHRoaXMuX3NoYWRvdyksDQoJCQlhZGRTaGFkb3cgPSBmYWxzZTsNCg0KCQlpZiAobmV3U2hhZG93ICE9PSB0aGlzLl9zaGFkb3cpIHsNCgkJCXRoaXMuX3JlbW92ZVNoYWRvdygpOw0KCQkJYWRkU2hhZG93ID0gdHJ1ZTsNCgkJfQ0KDQoJCWlmIChuZXdTaGFkb3cpIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyhuZXdTaGFkb3csIGNsYXNzVG9BZGQpOw0KCQl9DQoJCXRoaXMuX3NoYWRvdyA9IG5ld1NoYWRvdzsNCg0KDQoJCWlmIChvcHRpb25zLm9wYWNpdHkgPCAxKSB7DQoJCQl0aGlzLl91cGRhdGVPcGFjaXR5KCk7DQoJCX0NCg0KDQoJCXZhciBwYW5lcyA9IHRoaXMuX21hcC5fcGFuZXM7DQoNCgkJaWYgKGFkZEljb24pIHsNCgkJCXBhbmVzLm1hcmtlclBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faWNvbik7DQoJCX0NCg0KCQlpZiAobmV3U2hhZG93ICYmIGFkZFNoYWRvdykgew0KCQkJcGFuZXMuc2hhZG93UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9zaGFkb3cpOw0KCQl9DQoJfSwNCg0KCV9yZW1vdmVJY29uOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLm9wdGlvbnMucmlzZU9uSG92ZXIpIHsNCgkJCUwuRG9tRXZlbnQNCgkJCSAgICAub2ZmKHRoaXMuX2ljb24sICdtb3VzZW92ZXInLCB0aGlzLl9icmluZ1RvRnJvbnQpDQoJCQkgICAgLm9mZih0aGlzLl9pY29uLCAnbW91c2VvdXQnLCB0aGlzLl9yZXNldFpJbmRleCk7DQoJCX0NCg0KCQl0aGlzLl9tYXAuX3BhbmVzLm1hcmtlclBhbmUucmVtb3ZlQ2hpbGQodGhpcy5faWNvbik7DQoNCgkJdGhpcy5faWNvbiA9IG51bGw7DQoJfSwNCg0KCV9yZW1vdmVTaGFkb3c6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX3NoYWRvdykgew0KCQkJdGhpcy5fbWFwLl9wYW5lcy5zaGFkb3dQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX3NoYWRvdyk7DQoJCX0NCgkJdGhpcy5fc2hhZG93ID0gbnVsbDsNCgl9LA0KDQoJX3NldFBvczogZnVuY3Rpb24gKHBvcykgew0KCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5faWNvbiwgcG9zKTsNCg0KCQlpZiAodGhpcy5fc2hhZG93KSB7DQoJCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fc2hhZG93LCBwb3MpOw0KCQl9DQoNCgkJdGhpcy5fekluZGV4ID0gcG9zLnkgKyB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0Ow0KDQoJCXRoaXMuX3Jlc2V0WkluZGV4KCk7DQoJfSwNCg0KCV91cGRhdGVaSW5kZXg6IGZ1bmN0aW9uIChvZmZzZXQpIHsNCgkJdGhpcy5faWNvbi5zdHlsZS56SW5kZXggPSB0aGlzLl96SW5kZXggKyBvZmZzZXQ7DQoJfSwNCg0KCV9hbmltYXRlWm9vbTogZnVuY3Rpb24gKG9wdCkgew0KCQl2YXIgcG9zID0gdGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLCBvcHQuem9vbSwgb3B0LmNlbnRlcikucm91bmQoKTsNCg0KCQl0aGlzLl9zZXRQb3MocG9zKTsNCgl9LA0KDQoJX2luaXRJbnRlcmFjdGlvbjogZnVuY3Rpb24gKCkgew0KDQoJCWlmICghdGhpcy5vcHRpb25zLmNsaWNrYWJsZSkgeyByZXR1cm47IH0NCg0KCQkvLyBUT0RPIHJlZmFjdG9yIGludG8gc29tZXRoaW5nIHNoYXJlZCB3aXRoIE1hcC9QYXRoL2V0Yy4gdG8gRFJZIGl0IHVwDQoNCgkJdmFyIGljb24gPSB0aGlzLl9pY29uLA0KCQkgICAgZXZlbnRzID0gWydkYmxjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ2NvbnRleHRtZW51J107DQoNCgkJTC5Eb21VdGlsLmFkZENsYXNzKGljb24sICdsZWFmbGV0LWNsaWNrYWJsZScpOw0KCQlMLkRvbUV2ZW50Lm9uKGljb24sICdjbGljaycsIHRoaXMuX29uTW91c2VDbGljaywgdGhpcyk7DQoJCUwuRG9tRXZlbnQub24oaWNvbiwgJ2tleXByZXNzJywgdGhpcy5fb25LZXlQcmVzcywgdGhpcyk7DQoNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHsNCgkJCUwuRG9tRXZlbnQub24oaWNvbiwgZXZlbnRzW2ldLCB0aGlzLl9maXJlTW91c2VFdmVudCwgdGhpcyk7DQoJCX0NCg0KCQlpZiAoTC5IYW5kbGVyLk1hcmtlckRyYWcpIHsNCgkJCXRoaXMuZHJhZ2dpbmcgPSBuZXcgTC5IYW5kbGVyLk1hcmtlckRyYWcodGhpcyk7DQoNCgkJCWlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7DQoJCQkJdGhpcy5kcmFnZ2luZy5lbmFibGUoKTsNCgkJCX0NCgkJfQ0KCX0sDQoNCglfb25Nb3VzZUNsaWNrOiBmdW5jdGlvbiAoZSkgew0KCQl2YXIgd2FzRHJhZ2dlZCA9IHRoaXMuZHJhZ2dpbmcgJiYgdGhpcy5kcmFnZ2luZy5tb3ZlZCgpOw0KDQoJCWlmICh0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKGUudHlwZSkgfHwgd2FzRHJhZ2dlZCkgew0KCQkJTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7DQoJCX0NCg0KCQlpZiAod2FzRHJhZ2dlZCkgeyByZXR1cm47IH0NCg0KCQlpZiAoKCF0aGlzLmRyYWdnaW5nIHx8ICF0aGlzLmRyYWdnaW5nLl9lbmFibGVkKSAmJiB0aGlzLl9tYXAuZHJhZ2dpbmcgJiYgdGhpcy5fbWFwLmRyYWdnaW5nLm1vdmVkKCkpIHsgcmV0dXJuOyB9DQoNCgkJdGhpcy5maXJlKGUudHlwZSwgew0KCQkJb3JpZ2luYWxFdmVudDogZSwNCgkJCWxhdGxuZzogdGhpcy5fbGF0bG5nDQoJCX0pOw0KCX0sDQoNCglfb25LZXlQcmVzczogZnVuY3Rpb24gKGUpIHsNCgkJaWYgKGUua2V5Q29kZSA9PT0gMTMpIHsNCgkJCXRoaXMuZmlyZSgnY2xpY2snLCB7DQoJCQkJb3JpZ2luYWxFdmVudDogZSwNCgkJCQlsYXRsbmc6IHRoaXMuX2xhdGxuZw0KCQkJfSk7DQoJCX0NCgl9LA0KDQoJX2ZpcmVNb3VzZUV2ZW50OiBmdW5jdGlvbiAoZSkgew0KDQoJCXRoaXMuZmlyZShlLnR5cGUsIHsNCgkJCW9yaWdpbmFsRXZlbnQ6IGUsDQoJCQlsYXRsbmc6IHRoaXMuX2xhdGxuZw0KCQl9KTsNCg0KCQkvLyBUT0RPIHByb3BlciBjdXN0b20gZXZlbnQgcHJvcGFnYXRpb24NCgkJLy8gdGhpcyBsaW5lIHdpbGwgYWx3YXlzIGJlIGNhbGxlZCBpZiBtYXJrZXIgaXMgaW4gYSBGZWF0dXJlR3JvdXANCgkJaWYgKGUudHlwZSA9PT0gJ2NvbnRleHRtZW51JyAmJiB0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKGUudHlwZSkpIHsNCgkJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7DQoJCX0NCgkJaWYgKGUudHlwZSAhPT0gJ21vdXNlZG93bicpIHsNCgkJCUwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGUpOw0KCQl9IGVsc2Ugew0KCQkJTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdChlKTsNCgkJfQ0KCX0sDQoNCglzZXRPcGFjaXR5OiBmdW5jdGlvbiAob3BhY2l0eSkgew0KCQl0aGlzLm9wdGlvbnMub3BhY2l0eSA9IG9wYWNpdHk7DQoJCWlmICh0aGlzLl9tYXApIHsNCgkJCXRoaXMuX3VwZGF0ZU9wYWNpdHkoKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglfdXBkYXRlT3BhY2l0eTogZnVuY3Rpb24gKCkgew0KCQlMLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9pY29uLCB0aGlzLm9wdGlvbnMub3BhY2l0eSk7DQoJCWlmICh0aGlzLl9zaGFkb3cpIHsNCgkJCUwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX3NoYWRvdywgdGhpcy5vcHRpb25zLm9wYWNpdHkpOw0KCQl9DQoJfSwNCg0KCV9icmluZ1RvRnJvbnQ6IGZ1bmN0aW9uICgpIHsNCgkJdGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KTsNCgl9LA0KDQoJX3Jlc2V0WkluZGV4OiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuX3VwZGF0ZVpJbmRleCgwKTsNCgl9DQp9KTsNCg0KTC5tYXJrZXIgPSBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7DQoJcmV0dXJuIG5ldyBMLk1hcmtlcihsYXRsbmcsIG9wdGlvbnMpOw0KfTsNCgoKLyoKICogTC5EaXZJY29uIGlzIGEgbGlnaHR3ZWlnaHQgSFRNTC1iYXNlZCBpY29uIGNsYXNzIChhcyBvcHBvc2VkIHRvIHRoZSBpbWFnZS1iYXNlZCBMLkljb24pCiAqIHRvIHVzZSB3aXRoIEwuTWFya2VyLgogKi8KCkwuRGl2SWNvbiA9IEwuSWNvbi5leHRlbmQoewoJb3B0aW9uczogewoJCWljb25TaXplOiBbMTIsIDEyXSwgLy8gYWxzbyBjYW4gYmUgc2V0IHRocm91Z2ggQ1NTCgkJLyoKCQlpY29uQW5jaG9yOiAoUG9pbnQpCgkJcG9wdXBBbmNob3I6IChQb2ludCkKCQlodG1sOiAoU3RyaW5nKQoJCWJnUG9zOiAoUG9pbnQpCgkJKi8KCQljbGFzc05hbWU6ICdsZWFmbGV0LWRpdi1pY29uJywKCQlodG1sOiBmYWxzZQoJfSwKCgljcmVhdGVJY29uOiBmdW5jdGlvbiAob2xkSWNvbikgewoJCXZhciBkaXYgPSAob2xkSWNvbiAmJiBvbGRJY29uLnRhZ05hbWUgPT09ICdESVYnKSA/IG9sZEljb24gOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwKCQkgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsKCgkJaWYgKG9wdGlvbnMuaHRtbCAhPT0gZmFsc2UpIHsKCQkJZGl2LmlubmVySFRNTCA9IG9wdGlvbnMuaHRtbDsKCQl9IGVsc2UgewoJCQlkaXYuaW5uZXJIVE1MID0gJyc7CgkJfQoKCQlpZiAob3B0aW9ucy5iZ1BvcykgewoJCQlkaXYuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0KCQkJICAgICAgICAoLW9wdGlvbnMuYmdQb3MueCkgKyAncHggJyArICgtb3B0aW9ucy5iZ1Bvcy55KSArICdweCc7CgkJfQoKCQl0aGlzLl9zZXRJY29uU3R5bGVzKGRpdiwgJ2ljb24nKTsKCQlyZXR1cm4gZGl2OwoJfSwKCgljcmVhdGVTaGFkb3c6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gbnVsbDsKCX0KfSk7CgpMLmRpdkljb24gPSBmdW5jdGlvbiAob3B0aW9ucykgewoJcmV0dXJuIG5ldyBMLkRpdkljb24ob3B0aW9ucyk7Cn07CgoKLyoNCiAqIEwuUG9wdXAgaXMgdXNlZCBmb3IgZGlzcGxheWluZyBwb3B1cHMgb24gdGhlIG1hcC4NCiAqLw0KDQpMLk1hcC5tZXJnZU9wdGlvbnMoew0KCWNsb3NlUG9wdXBPbkNsaWNrOiB0cnVlDQp9KTsNCg0KTC5Qb3B1cCA9IEwuQ2xhc3MuZXh0ZW5kKHsNCglpbmNsdWRlczogTC5NaXhpbi5FdmVudHMsDQoNCglvcHRpb25zOiB7DQoJCW1pbldpZHRoOiA1MCwNCgkJbWF4V2lkdGg6IDMwMCwNCgkJLy8gbWF4SGVpZ2h0OiBudWxsLA0KCQlhdXRvUGFuOiB0cnVlLA0KCQljbG9zZUJ1dHRvbjogdHJ1ZSwNCgkJb2Zmc2V0OiBbMCwgN10sDQoJCWF1dG9QYW5QYWRkaW5nOiBbNSwgNV0sDQoJCS8vIGF1dG9QYW5QYWRkaW5nVG9wTGVmdDogbnVsbCwNCgkJLy8gYXV0b1BhblBhZGRpbmdCb3R0b21SaWdodDogbnVsbCwNCgkJa2VlcEluVmlldzogZmFsc2UsDQoJCWNsYXNzTmFtZTogJycsDQoJCXpvb21BbmltYXRpb246IHRydWUNCgl9LA0KDQoJaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkgew0KCQlMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7DQoNCgkJdGhpcy5fc291cmNlID0gc291cmNlOw0KCQl0aGlzLl9hbmltYXRlZCA9IEwuQnJvd3Nlci5hbnkzZCAmJiB0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbjsNCgkJdGhpcy5faXNPcGVuID0gZmFsc2U7DQoJfSwNCg0KCW9uQWRkOiBmdW5jdGlvbiAobWFwKSB7DQoJCXRoaXMuX21hcCA9IG1hcDsNCg0KCQlpZiAoIXRoaXMuX2NvbnRhaW5lcikgew0KCQkJdGhpcy5faW5pdExheW91dCgpOw0KCQl9DQoNCgkJdmFyIGFuaW1GYWRlID0gbWFwLm9wdGlvbnMuZmFkZUFuaW1hdGlvbjsNCg0KCQlpZiAoYW5pbUZhZGUpIHsNCgkJCUwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgMCk7DQoJCX0NCgkJbWFwLl9wYW5lcy5wb3B1cFBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKTsNCg0KCQltYXAub24odGhpcy5fZ2V0RXZlbnRzKCksIHRoaXMpOw0KDQoJCXRoaXMudXBkYXRlKCk7DQoNCgkJaWYgKGFuaW1GYWRlKSB7DQoJCQlMLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsIDEpOw0KCQl9DQoNCgkJdGhpcy5maXJlKCdvcGVuJyk7DQoNCgkJbWFwLmZpcmUoJ3BvcHVwb3BlbicsIHtwb3B1cDogdGhpc30pOw0KDQoJCWlmICh0aGlzLl9zb3VyY2UpIHsNCgkJCXRoaXMuX3NvdXJjZS5maXJlKCdwb3B1cG9wZW4nLCB7cG9wdXA6IHRoaXN9KTsNCgkJfQ0KCX0sDQoNCglhZGRUbzogZnVuY3Rpb24gKG1hcCkgew0KCQltYXAuYWRkTGF5ZXIodGhpcyk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglvcGVuT246IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwLm9wZW5Qb3B1cCh0aGlzKTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCW9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7DQoJCW1hcC5fcGFuZXMucG9wdXBQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcik7DQoNCgkJTC5VdGlsLmZhbHNlRm4odGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoKTsgLy8gZm9yY2UgcmVmbG93DQoNCgkJbWFwLm9mZih0aGlzLl9nZXRFdmVudHMoKSwgdGhpcyk7DQoNCgkJaWYgKG1hcC5vcHRpb25zLmZhZGVBbmltYXRpb24pIHsNCgkJCUwuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwgMCk7DQoJCX0NCg0KCQl0aGlzLl9tYXAgPSBudWxsOw0KDQoJCXRoaXMuZmlyZSgnY2xvc2UnKTsNCg0KCQltYXAuZmlyZSgncG9wdXBjbG9zZScsIHtwb3B1cDogdGhpc30pOw0KDQoJCWlmICh0aGlzLl9zb3VyY2UpIHsNCgkJCXRoaXMuX3NvdXJjZS5maXJlKCdwb3B1cGNsb3NlJywge3BvcHVwOiB0aGlzfSk7DQoJCX0NCgl9LA0KDQoJZ2V0TGF0TG5nOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl9sYXRsbmc7DQoJfSwNCg0KCXNldExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykgew0KCQl0aGlzLl9sYXRsbmcgPSBMLmxhdExuZyhsYXRsbmcpOw0KCQlpZiAodGhpcy5fbWFwKSB7DQoJCQl0aGlzLl91cGRhdGVQb3NpdGlvbigpOw0KCQkJdGhpcy5fYWRqdXN0UGFuKCk7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWdldENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX2NvbnRlbnQ7DQoJfSwNCg0KCXNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KSB7DQoJCXRoaXMuX2NvbnRlbnQgPSBjb250ZW50Ow0KCQl0aGlzLnVwZGF0ZSgpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJdXBkYXRlOiBmdW5jdGlvbiAoKSB7DQoJCWlmICghdGhpcy5fbWFwKSB7IHJldHVybjsgfQ0KDQoJCXRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7DQoNCgkJdGhpcy5fdXBkYXRlQ29udGVudCgpOw0KCQl0aGlzLl91cGRhdGVMYXlvdXQoKTsNCgkJdGhpcy5fdXBkYXRlUG9zaXRpb24oKTsNCg0KCQl0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICcnOw0KDQoJCXRoaXMuX2FkanVzdFBhbigpOw0KCX0sDQoNCglfZ2V0RXZlbnRzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBldmVudHMgPSB7DQoJCQl2aWV3cmVzZXQ6IHRoaXMuX3VwZGF0ZVBvc2l0aW9uDQoJCX07DQoNCgkJaWYgKHRoaXMuX2FuaW1hdGVkKSB7DQoJCQlldmVudHMuem9vbWFuaW0gPSB0aGlzLl96b29tQW5pbWF0aW9uOw0KCQl9DQoJCWlmICgnY2xvc2VPbkNsaWNrJyBpbiB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrIDogdGhpcy5fbWFwLm9wdGlvbnMuY2xvc2VQb3B1cE9uQ2xpY2spIHsNCgkJCWV2ZW50cy5wcmVjbGljayA9IHRoaXMuX2Nsb3NlOw0KCQl9DQoJCWlmICh0aGlzLm9wdGlvbnMua2VlcEluVmlldykgew0KCQkJZXZlbnRzLm1vdmVlbmQgPSB0aGlzLl9hZGp1c3RQYW47DQoJCX0NCg0KCQlyZXR1cm4gZXZlbnRzOw0KCX0sDQoNCglfY2xvc2U6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX21hcCkgew0KCQkJdGhpcy5fbWFwLmNsb3NlUG9wdXAodGhpcyk7DQoJCX0NCgl9LA0KDQoJX2luaXRMYXlvdXQ6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIHByZWZpeCA9ICdsZWFmbGV0LXBvcHVwJywNCgkJCWNvbnRhaW5lckNsYXNzID0gcHJlZml4ICsgJyAnICsgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSArICcgbGVhZmxldC16b29tLScgKw0KCQkJICAgICAgICAodGhpcy5fYW5pbWF0ZWQgPyAnYW5pbWF0ZWQnIDogJ2hpZGUnKSwNCgkJCWNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNvbnRhaW5lckNsYXNzKSwNCgkJCWNsb3NlQnV0dG9uOw0KDQoJCWlmICh0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pIHsNCgkJCWNsb3NlQnV0dG9uID0gdGhpcy5fY2xvc2VCdXR0b24gPQ0KCQkJICAgICAgICBMLkRvbVV0aWwuY3JlYXRlKCdhJywgcHJlZml4ICsgJy1jbG9zZS1idXR0b24nLCBjb250YWluZXIpOw0KCQkJY2xvc2VCdXR0b24uaHJlZiA9ICcjY2xvc2UnOw0KCQkJY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJyYjMjE1Oyc7DQoJCQlMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGNsb3NlQnV0dG9uKTsNCg0KCQkJTC5Eb21FdmVudC5vbihjbG9zZUJ1dHRvbiwgJ2NsaWNrJywgdGhpcy5fb25DbG9zZUJ1dHRvbkNsaWNrLCB0aGlzKTsNCgkJfQ0KDQoJCXZhciB3cmFwcGVyID0gdGhpcy5fd3JhcHBlciA9DQoJCSAgICAgICAgTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy1jb250ZW50LXdyYXBwZXInLCBjb250YWluZXIpOw0KCQlMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHdyYXBwZXIpOw0KDQoJCXRoaXMuX2NvbnRlbnROb2RlID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgcHJlZml4ICsgJy1jb250ZW50Jywgd3JhcHBlcik7DQoNCgkJTC5Eb21FdmVudC5kaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24odGhpcy5fY29udGVudE5vZGUpOw0KCQlMLkRvbUV2ZW50Lm9uKHdyYXBwZXIsICdjb250ZXh0bWVudScsIEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTsNCg0KCQl0aGlzLl90aXBDb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLXRpcC1jb250YWluZXInLCBjb250YWluZXIpOw0KCQl0aGlzLl90aXAgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBwcmVmaXggKyAnLXRpcCcsIHRoaXMuX3RpcENvbnRhaW5lcik7DQoJfSwNCg0KCV91cGRhdGVDb250ZW50OiBmdW5jdGlvbiAoKSB7DQoJCWlmICghdGhpcy5fY29udGVudCkgeyByZXR1cm47IH0NCg0KCQlpZiAodHlwZW9mIHRoaXMuX2NvbnRlbnQgPT09ICdzdHJpbmcnKSB7DQoJCQl0aGlzLl9jb250ZW50Tm9kZS5pbm5lckhUTUwgPSB0aGlzLl9jb250ZW50Ow0KCQl9IGVsc2Ugew0KCQkJd2hpbGUgKHRoaXMuX2NvbnRlbnROb2RlLmhhc0NoaWxkTm9kZXMoKSkgew0KCQkJCXRoaXMuX2NvbnRlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRlbnROb2RlLmZpcnN0Q2hpbGQpOw0KCQkJfQ0KCQkJdGhpcy5fY29udGVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCk7DQoJCX0NCgkJdGhpcy5maXJlKCdjb250ZW50dXBkYXRlJyk7DQoJfSwNCg0KCV91cGRhdGVMYXlvdXQ6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NvbnRlbnROb2RlLA0KCQkgICAgc3R5bGUgPSBjb250YWluZXIuc3R5bGU7DQoNCgkJc3R5bGUud2lkdGggPSAnJzsNCgkJc3R5bGUud2hpdGVTcGFjZSA9ICdub3dyYXAnOw0KDQoJCXZhciB3aWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aDsNCgkJd2lkdGggPSBNYXRoLm1pbih3aWR0aCwgdGhpcy5vcHRpb25zLm1heFdpZHRoKTsNCgkJd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgdGhpcy5vcHRpb25zLm1pbldpZHRoKTsNCg0KCQlzdHlsZS53aWR0aCA9ICh3aWR0aCArIDEpICsgJ3B4JzsNCgkJc3R5bGUud2hpdGVTcGFjZSA9ICcnOw0KDQoJCXN0eWxlLmhlaWdodCA9ICcnOw0KDQoJCXZhciBoZWlnaHQgPSBjb250YWluZXIub2Zmc2V0SGVpZ2h0LA0KCQkgICAgbWF4SGVpZ2h0ID0gdGhpcy5vcHRpb25zLm1heEhlaWdodCwNCgkJICAgIHNjcm9sbGVkQ2xhc3MgPSAnbGVhZmxldC1wb3B1cC1zY3JvbGxlZCc7DQoNCgkJaWYgKG1heEhlaWdodCAmJiBoZWlnaHQgPiBtYXhIZWlnaHQpIHsNCgkJCXN0eWxlLmhlaWdodCA9IG1heEhlaWdodCArICdweCc7DQoJCQlMLkRvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCBzY3JvbGxlZENsYXNzKTsNCgkJfSBlbHNlIHsNCgkJCUwuRG9tVXRpbC5yZW1vdmVDbGFzcyhjb250YWluZXIsIHNjcm9sbGVkQ2xhc3MpOw0KCQl9DQoNCgkJdGhpcy5fY29udGFpbmVyV2lkdGggPSB0aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGg7DQoJfSwNCg0KCV91cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24gKCkgew0KCQlpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH0NCg0KCQl2YXIgcG9zID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcpLA0KCQkgICAgYW5pbWF0ZWQgPSB0aGlzLl9hbmltYXRlZCwNCgkJICAgIG9mZnNldCA9IEwucG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCk7DQoNCgkJaWYgKGFuaW1hdGVkKSB7DQoJCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MpOw0KCQl9DQoNCgkJdGhpcy5fY29udGFpbmVyQm90dG9tID0gLW9mZnNldC55IC0gKGFuaW1hdGVkID8gMCA6IHBvcy55KTsNCgkJdGhpcy5fY29udGFpbmVyTGVmdCA9IC1NYXRoLnJvdW5kKHRoaXMuX2NvbnRhaW5lcldpZHRoIC8gMikgKyBvZmZzZXQueCArIChhbmltYXRlZCA/IDAgOiBwb3MueCk7DQoNCgkJLy8gYm90dG9tIHBvc2l0aW9uIHRoZSBwb3B1cCBpbiBjYXNlIHRoZSBoZWlnaHQgb2YgdGhlIHBvcHVwIGNoYW5nZXMgKGltYWdlcyBsb2FkaW5nIGV0YykNCgkJdGhpcy5fY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9IHRoaXMuX2NvbnRhaW5lckJvdHRvbSArICdweCc7DQoJCXRoaXMuX2NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gdGhpcy5fY29udGFpbmVyTGVmdCArICdweCc7DQoJfSwNCg0KCV96b29tQW5pbWF0aW9uOiBmdW5jdGlvbiAob3B0KSB7DQoJCXZhciBwb3MgPSB0aGlzLl9tYXAuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludCh0aGlzLl9sYXRsbmcsIG9wdC56b29tLCBvcHQuY2VudGVyKTsNCg0KCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLCBwb3MpOw0KCX0sDQoNCglfYWRqdXN0UGFuOiBmdW5jdGlvbiAoKSB7DQoJCWlmICghdGhpcy5vcHRpb25zLmF1dG9QYW4pIHsgcmV0dXJuOyB9DQoNCgkJdmFyIG1hcCA9IHRoaXMuX21hcCwNCgkJICAgIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQsDQoJCSAgICBjb250YWluZXJXaWR0aCA9IHRoaXMuX2NvbnRhaW5lcldpZHRoLA0KDQoJCSAgICBsYXllclBvcyA9IG5ldyBMLlBvaW50KHRoaXMuX2NvbnRhaW5lckxlZnQsIC1jb250YWluZXJIZWlnaHQgLSB0aGlzLl9jb250YWluZXJCb3R0b20pOw0KDQoJCWlmICh0aGlzLl9hbmltYXRlZCkgew0KCQkJbGF5ZXJQb3MuX2FkZChMLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7DQoJCX0NCg0KCQl2YXIgY29udGFpbmVyUG9zID0gbWFwLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KGxheWVyUG9zKSwNCgkJICAgIHBhZGRpbmcgPSBMLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZyksDQoJCSAgICBwYWRkaW5nVEwgPSBMLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ1RvcExlZnQgfHwgcGFkZGluZyksDQoJCSAgICBwYWRkaW5nQlIgPSBMLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0IHx8IHBhZGRpbmcpLA0KCQkgICAgc2l6ZSA9IG1hcC5nZXRTaXplKCksDQoJCSAgICBkeCA9IDAsDQoJCSAgICBkeSA9IDA7DQoNCgkJaWYgKGNvbnRhaW5lclBvcy54ICsgY29udGFpbmVyV2lkdGggKyBwYWRkaW5nQlIueCA+IHNpemUueCkgeyAvLyByaWdodA0KCQkJZHggPSBjb250YWluZXJQb3MueCArIGNvbnRhaW5lcldpZHRoIC0gc2l6ZS54ICsgcGFkZGluZ0JSLng7DQoJCX0NCgkJaWYgKGNvbnRhaW5lclBvcy54IC0gZHggLSBwYWRkaW5nVEwueCA8IDApIHsgLy8gbGVmdA0KCQkJZHggPSBjb250YWluZXJQb3MueCAtIHBhZGRpbmdUTC54Ow0KCQl9DQoJCWlmIChjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCArIHBhZGRpbmdCUi55ID4gc2l6ZS55KSB7IC8vIGJvdHRvbQ0KCQkJZHkgPSBjb250YWluZXJQb3MueSArIGNvbnRhaW5lckhlaWdodCAtIHNpemUueSArIHBhZGRpbmdCUi55Ow0KCQl9DQoJCWlmIChjb250YWluZXJQb3MueSAtIGR5IC0gcGFkZGluZ1RMLnkgPCAwKSB7IC8vIHRvcA0KCQkJZHkgPSBjb250YWluZXJQb3MueSAtIHBhZGRpbmdUTC55Ow0KCQl9DQoNCgkJaWYgKGR4IHx8IGR5KSB7DQoJCQltYXANCgkJCSAgICAuZmlyZSgnYXV0b3BhbnN0YXJ0JykNCgkJCSAgICAucGFuQnkoW2R4LCBkeV0pOw0KCQl9DQoJfSwNCg0KCV9vbkNsb3NlQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7DQoJCXRoaXMuX2Nsb3NlKCk7DQoJCUwuRG9tRXZlbnQuc3RvcChlKTsNCgl9DQp9KTsNCg0KTC5wb3B1cCA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHsNCglyZXR1cm4gbmV3IEwuUG9wdXAob3B0aW9ucywgc291cmNlKTsNCn07DQoNCg0KTC5NYXAuaW5jbHVkZSh7DQoJb3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXAsIGxhdGxuZywgb3B0aW9ucykgeyAvLyAoUG9wdXApIG9yIChTdHJpbmcgfHwgSFRNTEVsZW1lbnQsIExhdExuZ1ssIE9iamVjdF0pDQoJCXRoaXMuY2xvc2VQb3B1cCgpOw0KDQoJCWlmICghKHBvcHVwIGluc3RhbmNlb2YgTC5Qb3B1cCkpIHsNCgkJCXZhciBjb250ZW50ID0gcG9wdXA7DQoNCgkJCXBvcHVwID0gbmV3IEwuUG9wdXAob3B0aW9ucykNCgkJCSAgICAuc2V0TGF0TG5nKGxhdGxuZykNCgkJCSAgICAuc2V0Q29udGVudChjb250ZW50KTsNCgkJfQ0KCQlwb3B1cC5faXNPcGVuID0gdHJ1ZTsNCg0KCQl0aGlzLl9wb3B1cCA9IHBvcHVwOw0KCQlyZXR1cm4gdGhpcy5hZGRMYXllcihwb3B1cCk7DQoJfSwNCg0KCWNsb3NlUG9wdXA6IGZ1bmN0aW9uIChwb3B1cCkgew0KCQlpZiAoIXBvcHVwIHx8IHBvcHVwID09PSB0aGlzLl9wb3B1cCkgew0KCQkJcG9wdXAgPSB0aGlzLl9wb3B1cDsNCgkJCXRoaXMuX3BvcHVwID0gbnVsbDsNCgkJfQ0KCQlpZiAocG9wdXApIHsNCgkJCXRoaXMucmVtb3ZlTGF5ZXIocG9wdXApOw0KCQkJcG9wdXAuX2lzT3BlbiA9IGZhbHNlOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0NCn0pOw0KCgovKg0KICogUG9wdXAgZXh0ZW5zaW9uIHRvIEwuTWFya2VyLCBhZGRpbmcgcG9wdXAtcmVsYXRlZCBtZXRob2RzLg0KICovDQoNCkwuTWFya2VyLmluY2x1ZGUoew0KCW9wZW5Qb3B1cDogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5fcG9wdXAgJiYgdGhpcy5fbWFwICYmICF0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcy5fcG9wdXApKSB7DQoJCQl0aGlzLl9wb3B1cC5zZXRMYXRMbmcodGhpcy5fbGF0bG5nKTsNCgkJCXRoaXMuX21hcC5vcGVuUG9wdXAodGhpcy5fcG9wdXApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWNsb3NlUG9wdXA6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX3BvcHVwKSB7DQoJCQl0aGlzLl9wb3B1cC5fY2xvc2UoKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJdG9nZ2xlUG9wdXA6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX3BvcHVwKSB7DQoJCQlpZiAodGhpcy5fcG9wdXAuX2lzT3Blbikgew0KCQkJCXRoaXMuY2xvc2VQb3B1cCgpOw0KCQkJfSBlbHNlIHsNCgkJCQl0aGlzLm9wZW5Qb3B1cCgpOw0KCQkJfQ0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgliaW5kUG9wdXA6IGZ1bmN0aW9uIChjb250ZW50LCBvcHRpb25zKSB7DQoJCXZhciBhbmNob3IgPSBMLnBvaW50KHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMucG9wdXBBbmNob3IgfHwgWzAsIDBdKTsNCg0KCQlhbmNob3IgPSBhbmNob3IuYWRkKEwuUG9wdXAucHJvdG90eXBlLm9wdGlvbnMub2Zmc2V0KTsNCg0KCQlpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9mZnNldCkgew0KCQkJYW5jaG9yID0gYW5jaG9yLmFkZChvcHRpb25zLm9mZnNldCk7DQoJCX0NCg0KCQlvcHRpb25zID0gTC5leHRlbmQoe29mZnNldDogYW5jaG9yfSwgb3B0aW9ucyk7DQoNCgkJaWYgKCF0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQpIHsNCgkJCXRoaXMNCgkJCSAgICAub24oJ2NsaWNrJywgdGhpcy50b2dnbGVQb3B1cCwgdGhpcykNCgkJCSAgICAub24oJ3JlbW92ZScsIHRoaXMuY2xvc2VQb3B1cCwgdGhpcykNCgkJCSAgICAub24oJ21vdmUnLCB0aGlzLl9tb3ZlUG9wdXAsIHRoaXMpOw0KCQkJdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkID0gdHJ1ZTsNCgkJfQ0KDQoJCWlmIChjb250ZW50IGluc3RhbmNlb2YgTC5Qb3B1cCkgew0KCQkJTC5zZXRPcHRpb25zKGNvbnRlbnQsIG9wdGlvbnMpOw0KCQkJdGhpcy5fcG9wdXAgPSBjb250ZW50Ow0KCQl9IGVsc2Ugew0KCQkJdGhpcy5fcG9wdXAgPSBuZXcgTC5Qb3B1cChvcHRpb25zLCB0aGlzKQ0KCQkJCS5zZXRDb250ZW50KGNvbnRlbnQpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXNldFBvcHVwQ29udGVudDogZnVuY3Rpb24gKGNvbnRlbnQpIHsNCgkJaWYgKHRoaXMuX3BvcHVwKSB7DQoJCQl0aGlzLl9wb3B1cC5zZXRDb250ZW50KGNvbnRlbnQpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgl1bmJpbmRQb3B1cDogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5fcG9wdXApIHsNCgkJCXRoaXMuX3BvcHVwID0gbnVsbDsNCgkJCXRoaXMNCgkJCSAgICAub2ZmKCdjbGljaycsIHRoaXMudG9nZ2xlUG9wdXAsIHRoaXMpDQoJCQkgICAgLm9mZigncmVtb3ZlJywgdGhpcy5jbG9zZVBvcHVwLCB0aGlzKQ0KCQkJICAgIC5vZmYoJ21vdmUnLCB0aGlzLl9tb3ZlUG9wdXAsIHRoaXMpOw0KCQkJdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkID0gZmFsc2U7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWdldFBvcHVwOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl9wb3B1cDsNCgl9LA0KDQoJX21vdmVQb3B1cDogZnVuY3Rpb24gKGUpIHsNCgkJdGhpcy5fcG9wdXAuc2V0TGF0TG5nKGUubGF0bG5nKTsNCgl9DQp9KTsNCgoKLyoNCiAqIEwuTGF5ZXJHcm91cCBpcyBhIGNsYXNzIHRvIGNvbWJpbmUgc2V2ZXJhbCBsYXllcnMgaW50byBvbmUgc28gdGhhdA0KICogeW91IGNhbiBtYW5pcHVsYXRlIHRoZSBncm91cCAoZS5nLiBhZGQvcmVtb3ZlIGl0KSBhcyBvbmUgbGF5ZXIuDQogKi8NCg0KTC5MYXllckdyb3VwID0gTC5DbGFzcy5leHRlbmQoew0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXllcnMpIHsNCgkJdGhpcy5fbGF5ZXJzID0ge307DQoNCgkJdmFyIGksIGxlbjsNCg0KCQlpZiAobGF5ZXJzKSB7DQoJCQlmb3IgKGkgPSAwLCBsZW4gPSBsYXllcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCQl0aGlzLmFkZExheWVyKGxheWVyc1tpXSk7DQoJCQl9DQoJCX0NCgl9LA0KDQoJYWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikgew0KCQl2YXIgaWQgPSB0aGlzLmdldExheWVySWQobGF5ZXIpOw0KDQoJCXRoaXMuX2xheWVyc1tpZF0gPSBsYXllcjsNCg0KCQlpZiAodGhpcy5fbWFwKSB7DQoJCQl0aGlzLl9tYXAuYWRkTGF5ZXIobGF5ZXIpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXJlbW92ZUxheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHsNCgkJdmFyIGlkID0gbGF5ZXIgaW4gdGhpcy5fbGF5ZXJzID8gbGF5ZXIgOiB0aGlzLmdldExheWVySWQobGF5ZXIpOw0KDQoJCWlmICh0aGlzLl9tYXAgJiYgdGhpcy5fbGF5ZXJzW2lkXSkgew0KCQkJdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xheWVyc1tpZF0pOw0KCQl9DQoNCgkJZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWhhc0xheWVyOiBmdW5jdGlvbiAobGF5ZXIpIHsNCgkJaWYgKCFsYXllcikgeyByZXR1cm4gZmFsc2U7IH0NCg0KCQlyZXR1cm4gKGxheWVyIGluIHRoaXMuX2xheWVycyB8fCB0aGlzLmdldExheWVySWQobGF5ZXIpIGluIHRoaXMuX2xheWVycyk7DQoJfSwNCg0KCWNsZWFyTGF5ZXJzOiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuZWFjaExheWVyKHRoaXMucmVtb3ZlTGF5ZXIsIHRoaXMpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJaW52b2tlOiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgew0KCQl2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksDQoJCSAgICBpLCBsYXllcjsNCg0KCQlmb3IgKGkgaW4gdGhpcy5fbGF5ZXJzKSB7DQoJCQlsYXllciA9IHRoaXMuX2xheWVyc1tpXTsNCg0KCQkJaWYgKGxheWVyW21ldGhvZE5hbWVdKSB7DQoJCQkJbGF5ZXJbbWV0aG9kTmFtZV0uYXBwbHkobGF5ZXIsIGFyZ3MpOw0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCW9uQWRkOiBmdW5jdGlvbiAobWFwKSB7DQoJCXRoaXMuX21hcCA9IG1hcDsNCgkJdGhpcy5lYWNoTGF5ZXIobWFwLmFkZExheWVyLCBtYXApOw0KCX0sDQoNCglvblJlbW92ZTogZnVuY3Rpb24gKG1hcCkgew0KCQl0aGlzLmVhY2hMYXllcihtYXAucmVtb3ZlTGF5ZXIsIG1hcCk7DQoJCXRoaXMuX21hcCA9IG51bGw7DQoJfSwNCg0KCWFkZFRvOiBmdW5jdGlvbiAobWFwKSB7DQoJCW1hcC5hZGRMYXllcih0aGlzKTsNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWVhY2hMYXllcjogZnVuY3Rpb24gKG1ldGhvZCwgY29udGV4dCkgew0KCQlmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykgew0KCQkJbWV0aG9kLmNhbGwoY29udGV4dCwgdGhpcy5fbGF5ZXJzW2ldKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJZ2V0TGF5ZXI6IGZ1bmN0aW9uIChpZCkgew0KCQlyZXR1cm4gdGhpcy5fbGF5ZXJzW2lkXTsNCgl9LA0KDQoJZ2V0TGF5ZXJzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBsYXllcnMgPSBbXTsNCg0KCQlmb3IgKHZhciBpIGluIHRoaXMuX2xheWVycykgew0KCQkJbGF5ZXJzLnB1c2godGhpcy5fbGF5ZXJzW2ldKTsNCgkJfQ0KCQlyZXR1cm4gbGF5ZXJzOw0KCX0sDQoNCglzZXRaSW5kZXg6IGZ1bmN0aW9uICh6SW5kZXgpIHsNCgkJcmV0dXJuIHRoaXMuaW52b2tlKCdzZXRaSW5kZXgnLCB6SW5kZXgpOw0KCX0sDQoNCglnZXRMYXllcklkOiBmdW5jdGlvbiAobGF5ZXIpIHsNCgkJcmV0dXJuIEwuc3RhbXAobGF5ZXIpOw0KCX0NCn0pOw0KDQpMLmxheWVyR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJzKSB7DQoJcmV0dXJuIG5ldyBMLkxheWVyR3JvdXAobGF5ZXJzKTsNCn07DQoKCi8qDQogKiBMLkZlYXR1cmVHcm91cCBleHRlbmRzIEwuTGF5ZXJHcm91cCBieSBpbnRyb2R1Y2luZyBtb3VzZSBldmVudHMgYW5kIGFkZGl0aW9uYWwgbWV0aG9kcw0KICogc2hhcmVkIGJldHdlZW4gYSBncm91cCBvZiBpbnRlcmFjdGl2ZSBsYXllcnMgKGxpa2UgdmVjdG9ycyBvciBtYXJrZXJzKS4NCiAqLw0KDQpMLkZlYXR1cmVHcm91cCA9IEwuTGF5ZXJHcm91cC5leHRlbmQoew0KCWluY2x1ZGVzOiBMLk1peGluLkV2ZW50cywNCg0KCXN0YXRpY3M6IHsNCgkJRVZFTlRTOiAnY2xpY2sgZGJsY2xpY2sgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBjb250ZXh0bWVudSBwb3B1cG9wZW4gcG9wdXBjbG9zZScNCgl9LA0KDQoJYWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikgew0KCQlpZiAodGhpcy5oYXNMYXllcihsYXllcikpIHsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoNCgkJaWYgKCdvbicgaW4gbGF5ZXIpIHsNCgkJCWxheWVyLm9uKEwuRmVhdHVyZUdyb3VwLkVWRU5UUywgdGhpcy5fcHJvcGFnYXRlRXZlbnQsIHRoaXMpOw0KCQl9DQoNCgkJTC5MYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsIGxheWVyKTsNCg0KCQlpZiAodGhpcy5fcG9wdXBDb250ZW50ICYmIGxheWVyLmJpbmRQb3B1cCkgew0KCQkJbGF5ZXIuYmluZFBvcHVwKHRoaXMuX3BvcHVwQ29udGVudCwgdGhpcy5fcG9wdXBPcHRpb25zKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzLmZpcmUoJ2xheWVyYWRkJywge2xheWVyOiBsYXllcn0pOw0KCX0sDQoNCglyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7DQoJCWlmICghdGhpcy5oYXNMYXllcihsYXllcikpIHsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoJCWlmIChsYXllciBpbiB0aGlzLl9sYXllcnMpIHsNCgkJCWxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVyXTsNCgkJfQ0KDQoJCWxheWVyLm9mZihMLkZlYXR1cmVHcm91cC5FVkVOVFMsIHRoaXMuX3Byb3BhZ2F0ZUV2ZW50LCB0aGlzKTsNCg0KCQlMLkxheWVyR3JvdXAucHJvdG90eXBlLnJlbW92ZUxheWVyLmNhbGwodGhpcywgbGF5ZXIpOw0KDQoJCWlmICh0aGlzLl9wb3B1cENvbnRlbnQpIHsNCgkJCXRoaXMuaW52b2tlKCd1bmJpbmRQb3B1cCcpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXMuZmlyZSgnbGF5ZXJyZW1vdmUnLCB7bGF5ZXI6IGxheWVyfSk7DQoJfSwNCg0KCWJpbmRQb3B1cDogZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHsNCgkJdGhpcy5fcG9wdXBDb250ZW50ID0gY29udGVudDsNCgkJdGhpcy5fcG9wdXBPcHRpb25zID0gb3B0aW9uczsNCgkJcmV0dXJuIHRoaXMuaW52b2tlKCdiaW5kUG9wdXAnLCBjb250ZW50LCBvcHRpb25zKTsNCgl9LA0KDQoJb3BlblBvcHVwOiBmdW5jdGlvbiAobGF0bG5nKSB7DQoJCS8vIG9wZW4gcG9wdXAgb24gdGhlIGZpcnN0IGxheWVyDQoJCWZvciAodmFyIGlkIGluIHRoaXMuX2xheWVycykgew0KCQkJdGhpcy5fbGF5ZXJzW2lkXS5vcGVuUG9wdXAobGF0bG5nKTsNCgkJCWJyZWFrOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlKSB7DQoJCXJldHVybiB0aGlzLmludm9rZSgnc2V0U3R5bGUnLCBzdHlsZSk7DQoJfSwNCg0KCWJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5pbnZva2UoJ2JyaW5nVG9Gcm9udCcpOw0KCX0sDQoNCglicmluZ1RvQmFjazogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5pbnZva2UoJ2JyaW5nVG9CYWNrJyk7DQoJfSwNCg0KCWdldEJvdW5kczogZnVuY3Rpb24gKCkgew0KCQl2YXIgYm91bmRzID0gbmV3IEwuTGF0TG5nQm91bmRzKCk7DQoNCgkJdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7DQoJCQlib3VuZHMuZXh0ZW5kKGxheWVyIGluc3RhbmNlb2YgTC5NYXJrZXIgPyBsYXllci5nZXRMYXRMbmcoKSA6IGxheWVyLmdldEJvdW5kcygpKTsNCgkJfSk7DQoNCgkJcmV0dXJuIGJvdW5kczsNCgl9LA0KDQoJX3Byb3BhZ2F0ZUV2ZW50OiBmdW5jdGlvbiAoZSkgew0KCQllID0gTC5leHRlbmQoew0KCQkJbGF5ZXI6IGUudGFyZ2V0LA0KCQkJdGFyZ2V0OiB0aGlzDQoJCX0sIGUpOw0KCQl0aGlzLmZpcmUoZS50eXBlLCBlKTsNCgl9DQp9KTsNCg0KTC5mZWF0dXJlR3JvdXAgPSBmdW5jdGlvbiAobGF5ZXJzKSB7DQoJcmV0dXJuIG5ldyBMLkZlYXR1cmVHcm91cChsYXllcnMpOw0KfTsNCgoKLyoNCiAqIEwuUGF0aCBpcyBhIGJhc2UgY2xhc3MgZm9yIHJlbmRlcmluZyB2ZWN0b3IgcGF0aHMgb24gYSBtYXAuIEluaGVyaXRlZCBieSBQb2x5bGluZSwgQ2lyY2xlLCBldGMuDQogKi8NCg0KTC5QYXRoID0gTC5DbGFzcy5leHRlbmQoew0KCWluY2x1ZGVzOiBbTC5NaXhpbi5FdmVudHNdLA0KDQoJc3RhdGljczogew0KCQkvLyBob3cgbXVjaCB0byBleHRlbmQgdGhlIGNsaXAgYXJlYSBhcm91bmQgdGhlIG1hcCB2aWV3DQoJCS8vIChyZWxhdGl2ZSB0byBpdHMgc2l6ZSwgZS5nLiAwLjUgaXMgaGFsZiB0aGUgc2NyZWVuIGluIGVhY2ggZGlyZWN0aW9uKQ0KCQkvLyBzZXQgaXQgc28gdGhhdCBTVkcgZWxlbWVudCBkb2Vzbid0IGV4Y2VlZCAxMjgwcHggKHZlY3RvcnMgZmxpY2tlciBvbiBkcmFnZW5kIGlmIGl0IGlzKQ0KCQlDTElQX1BBRERJTkc6IChmdW5jdGlvbiAoKSB7DQoJCQl2YXIgbWF4ID0gTC5Ccm93c2VyLm1vYmlsZSA/IDEyODAgOiAyMDAwLA0KCQkJICAgIHRhcmdldCA9IChtYXggLyBNYXRoLm1heCh3aW5kb3cub3V0ZXJXaWR0aCwgd2luZG93Lm91dGVySGVpZ2h0KSAtIDEpIC8gMjsNCgkJCXJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigwLjUsIHRhcmdldCkpOw0KCQl9KSgpDQoJfSwNCg0KCW9wdGlvbnM6IHsNCgkJc3Ryb2tlOiB0cnVlLA0KCQljb2xvcjogJyMwMDMzZmYnLA0KCQlkYXNoQXJyYXk6IG51bGwsDQoJCWxpbmVDYXA6IG51bGwsDQoJCWxpbmVKb2luOiBudWxsLA0KCQl3ZWlnaHQ6IDUsDQoJCW9wYWNpdHk6IDAuNSwNCg0KCQlmaWxsOiBmYWxzZSwNCgkJZmlsbENvbG9yOiBudWxsLCAvL3NhbWUgYXMgY29sb3IgYnkgZGVmYXVsdA0KCQlmaWxsT3BhY2l0eTogMC4yLA0KDQoJCWNsaWNrYWJsZTogdHJ1ZQ0KCX0sDQoNCglpbml0aWFsaXplOiBmdW5jdGlvbiAob3B0aW9ucykgew0KCQlMLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7DQoJfSwNCg0KCW9uQWRkOiBmdW5jdGlvbiAobWFwKSB7DQoJCXRoaXMuX21hcCA9IG1hcDsNCg0KCQlpZiAoIXRoaXMuX2NvbnRhaW5lcikgew0KCQkJdGhpcy5faW5pdEVsZW1lbnRzKCk7DQoJCQl0aGlzLl9pbml0RXZlbnRzKCk7DQoJCX0NCg0KCQl0aGlzLnByb2plY3RMYXRsbmdzKCk7DQoJCXRoaXMuX3VwZGF0ZVBhdGgoKTsNCg0KCQlpZiAodGhpcy5fY29udGFpbmVyKSB7DQoJCQl0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7DQoJCX0NCg0KCQl0aGlzLmZpcmUoJ2FkZCcpOw0KDQoJCW1hcC5vbih7DQoJCQkndmlld3Jlc2V0JzogdGhpcy5wcm9qZWN0TGF0bG5ncywNCgkJCSdtb3ZlZW5kJzogdGhpcy5fdXBkYXRlUGF0aA0KCQl9LCB0aGlzKTsNCgl9LA0KDQoJYWRkVG86IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwLmFkZExheWVyKHRoaXMpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJb25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwLl9wYXRoUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpOw0KDQoJCS8vIE5lZWQgdG8gZmlyZSByZW1vdmUgZXZlbnQgYmVmb3JlIHdlIHNldCBfbWFwIHRvIG51bGwgYXMgdGhlIGV2ZW50IGhvb2tzIG1pZ2h0IG5lZWQgdGhlIG9iamVjdA0KCQl0aGlzLmZpcmUoJ3JlbW92ZScpOw0KCQl0aGlzLl9tYXAgPSBudWxsOw0KDQoJCWlmIChMLkJyb3dzZXIudm1sKSB7DQoJCQl0aGlzLl9jb250YWluZXIgPSBudWxsOw0KCQkJdGhpcy5fc3Ryb2tlID0gbnVsbDsNCgkJCXRoaXMuX2ZpbGwgPSBudWxsOw0KCQl9DQoNCgkJbWFwLm9mZih7DQoJCQkndmlld3Jlc2V0JzogdGhpcy5wcm9qZWN0TGF0bG5ncywNCgkJCSdtb3ZlZW5kJzogdGhpcy5fdXBkYXRlUGF0aA0KCQl9LCB0aGlzKTsNCgl9LA0KDQoJcHJvamVjdExhdGxuZ3M6IGZ1bmN0aW9uICgpIHsNCgkJLy8gZG8gYWxsIHByb2plY3Rpb24gc3R1ZmYgaGVyZQ0KCX0sDQoNCglzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlKSB7DQoJCUwuc2V0T3B0aW9ucyh0aGlzLCBzdHlsZSk7DQoNCgkJaWYgKHRoaXMuX2NvbnRhaW5lcikgew0KCQkJdGhpcy5fdXBkYXRlU3R5bGUoKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglyZWRyYXc6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX21hcCkgew0KCQkJdGhpcy5wcm9qZWN0TGF0bG5ncygpOw0KCQkJdGhpcy5fdXBkYXRlUGF0aCgpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0NCn0pOw0KDQpMLk1hcC5pbmNsdWRlKHsNCglfdXBkYXRlUGF0aFZpZXdwb3J0OiBmdW5jdGlvbiAoKSB7DQoJCXZhciBwID0gTC5QYXRoLkNMSVBfUEFERElORywNCgkJICAgIHNpemUgPSB0aGlzLmdldFNpemUoKSwNCgkJICAgIHBhbmVQb3MgPSBMLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSksDQoJCSAgICBtaW4gPSBwYW5lUG9zLm11bHRpcGx5QnkoLTEpLl9zdWJ0cmFjdChzaXplLm11bHRpcGx5QnkocCkuX3JvdW5kKCkpLA0KCQkgICAgbWF4ID0gbWluLmFkZChzaXplLm11bHRpcGx5QnkoMSArIHAgKiAyKS5fcm91bmQoKSk7DQoNCgkJdGhpcy5fcGF0aFZpZXdwb3J0ID0gbmV3IEwuQm91bmRzKG1pbiwgbWF4KTsNCgl9DQp9KTsNCgoKLyoNCiAqIEV4dGVuZHMgTC5QYXRoIHdpdGggU1ZHLXNwZWNpZmljIHJlbmRlcmluZyBjb2RlLg0KICovDQoNCkwuUGF0aC5TVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnOw0KDQpMLkJyb3dzZXIuc3ZnID0gISEoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhMLlBhdGguU1ZHX05TLCAnc3ZnJykuY3JlYXRlU1ZHUmVjdCk7DQoNCkwuUGF0aCA9IEwuUGF0aC5leHRlbmQoew0KCXN0YXRpY3M6IHsNCgkJU1ZHOiBMLkJyb3dzZXIuc3ZnDQoJfSwNCg0KCWJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKCkgew0KCQl2YXIgcm9vdCA9IHRoaXMuX21hcC5fcGF0aFJvb3QsDQoJCSAgICBwYXRoID0gdGhpcy5fY29udGFpbmVyOw0KDQoJCWlmIChwYXRoICYmIHJvb3QubGFzdENoaWxkICE9PSBwYXRoKSB7DQoJCQlyb290LmFwcGVuZENoaWxkKHBhdGgpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglicmluZ1RvQmFjazogZnVuY3Rpb24gKCkgew0KCQl2YXIgcm9vdCA9IHRoaXMuX21hcC5fcGF0aFJvb3QsDQoJCSAgICBwYXRoID0gdGhpcy5fY29udGFpbmVyLA0KCQkgICAgZmlyc3QgPSByb290LmZpcnN0Q2hpbGQ7DQoNCgkJaWYgKHBhdGggJiYgZmlyc3QgIT09IHBhdGgpIHsNCgkJCXJvb3QuaW5zZXJ0QmVmb3JlKHBhdGgsIGZpcnN0KTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJZ2V0UGF0aFN0cmluZzogZnVuY3Rpb24gKCkgew0KCQkvLyBmb3JtIHBhdGggc3RyaW5nIGhlcmUNCgl9LA0KDQoJX2NyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIChuYW1lKSB7DQoJCXJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoTC5QYXRoLlNWR19OUywgbmFtZSk7DQoJfSwNCg0KCV9pbml0RWxlbWVudHM6IGZ1bmN0aW9uICgpIHsNCgkJdGhpcy5fbWFwLl9pbml0UGF0aFJvb3QoKTsNCgkJdGhpcy5faW5pdFBhdGgoKTsNCgkJdGhpcy5faW5pdFN0eWxlKCk7DQoJfSwNCg0KCV9pbml0UGF0aDogZnVuY3Rpb24gKCkgew0KCQl0aGlzLl9jb250YWluZXIgPSB0aGlzLl9jcmVhdGVFbGVtZW50KCdnJyk7DQoNCgkJdGhpcy5fcGF0aCA9IHRoaXMuX2NyZWF0ZUVsZW1lbnQoJ3BhdGgnKTsNCg0KCQlpZiAodGhpcy5vcHRpb25zLmNsYXNzTmFtZSkgew0KCQkJTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3BhdGgsIHRoaXMub3B0aW9ucy5jbGFzc05hbWUpOw0KCQl9DQoNCgkJdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3BhdGgpOw0KCX0sDQoNCglfaW5pdFN0eWxlOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLm9wdGlvbnMuc3Ryb2tlKSB7DQoJCQl0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVqb2luJywgJ3JvdW5kJyk7DQoJCQl0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVjYXAnLCAncm91bmQnKTsNCgkJfQ0KCQlpZiAodGhpcy5vcHRpb25zLmZpbGwpIHsNCgkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdmaWxsLXJ1bGUnLCAnZXZlbm9kZCcpOw0KCQl9DQoJCWlmICh0aGlzLm9wdGlvbnMucG9pbnRlckV2ZW50cykgew0KCQkJdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoJ3BvaW50ZXItZXZlbnRzJywgdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpOw0KCQl9DQoJCWlmICghdGhpcy5vcHRpb25zLmNsaWNrYWJsZSAmJiAhdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpIHsNCgkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7DQoJCX0NCgkJdGhpcy5fdXBkYXRlU3R5bGUoKTsNCgl9LA0KDQoJX3VwZGF0ZVN0eWxlOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLm9wdGlvbnMuc3Ryb2tlKSB7DQoJCQl0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgdGhpcy5vcHRpb25zLmNvbG9yKTsNCgkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utb3BhY2l0eScsIHRoaXMub3B0aW9ucy5vcGFjaXR5KTsNCgkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCB0aGlzLm9wdGlvbnMud2VpZ2h0KTsNCgkJCWlmICh0aGlzLm9wdGlvbnMuZGFzaEFycmF5KSB7DQoJCQkJdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCB0aGlzLm9wdGlvbnMuZGFzaEFycmF5KTsNCgkJCX0gZWxzZSB7DQoJCQkJdGhpcy5fcGF0aC5yZW1vdmVBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknKTsNCgkJCX0NCgkJCWlmICh0aGlzLm9wdGlvbnMubGluZUNhcCkgew0KCQkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsIHRoaXMub3B0aW9ucy5saW5lQ2FwKTsNCgkJCX0NCgkJCWlmICh0aGlzLm9wdGlvbnMubGluZUpvaW4pIHsNCgkJCQl0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWxpbmVqb2luJywgdGhpcy5vcHRpb25zLmxpbmVKb2luKTsNCgkJCX0NCgkJfSBlbHNlIHsNCgkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpOw0KCQl9DQoJCWlmICh0aGlzLm9wdGlvbnMuZmlsbCkgew0KCQkJdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCB0aGlzLm9wdGlvbnMuZmlsbENvbG9yIHx8IHRoaXMub3B0aW9ucy5jb2xvcik7DQoJCQl0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywgdGhpcy5vcHRpb25zLmZpbGxPcGFjaXR5KTsNCgkJfSBlbHNlIHsNCgkJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTsNCgkJfQ0KCX0sDQoNCglfdXBkYXRlUGF0aDogZnVuY3Rpb24gKCkgew0KCQl2YXIgc3RyID0gdGhpcy5nZXRQYXRoU3RyaW5nKCk7DQoJCWlmICghc3RyKSB7DQoJCQkvLyBmaXggd2Via2l0IGVtcHR5IHN0cmluZyBwYXJzaW5nIGJ1Zw0KCQkJc3RyID0gJ00wIDAnOw0KCQl9DQoJCXRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCdkJywgc3RyKTsNCgl9LA0KDQoJLy8gVE9ETyByZW1vdmUgZHVwbGljYXRpb24gd2l0aCBMLk1hcA0KCV9pbml0RXZlbnRzOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLm9wdGlvbnMuY2xpY2thYmxlKSB7DQoJCQlpZiAoTC5Ccm93c2VyLnN2ZyB8fCAhTC5Ccm93c2VyLnZtbCkgew0KCQkJCUwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoLCAnbGVhZmxldC1jbGlja2FibGUnKTsNCgkJCX0NCg0KCQkJTC5Eb21FdmVudC5vbih0aGlzLl9jb250YWluZXIsICdjbGljaycsIHRoaXMuX29uTW91c2VDbGljaywgdGhpcyk7DQoNCgkJCXZhciBldmVudHMgPSBbJ2RibGNsaWNrJywgJ21vdXNlZG93bicsICdtb3VzZW92ZXInLA0KCQkJICAgICAgICAgICAgICAnbW91c2VvdXQnLCAnbW91c2Vtb3ZlJywgJ2NvbnRleHRtZW51J107DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykgew0KCQkJCUwuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCBldmVudHNbaV0sIHRoaXMuX2ZpcmVNb3VzZUV2ZW50LCB0aGlzKTsNCgkJCX0NCgkJfQ0KCX0sDQoNCglfb25Nb3VzZUNsaWNrOiBmdW5jdGlvbiAoZSkgew0KCQlpZiAodGhpcy5fbWFwLmRyYWdnaW5nICYmIHRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpKSB7IHJldHVybjsgfQ0KDQoJCXRoaXMuX2ZpcmVNb3VzZUV2ZW50KGUpOw0KCX0sDQoNCglfZmlyZU1vdXNlRXZlbnQ6IGZ1bmN0aW9uIChlKSB7DQoJCWlmICghdGhpcy5oYXNFdmVudExpc3RlbmVycyhlLnR5cGUpKSB7IHJldHVybjsgfQ0KDQoJCXZhciBtYXAgPSB0aGlzLl9tYXAsDQoJCSAgICBjb250YWluZXJQb2ludCA9IG1hcC5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludChlKSwNCgkJICAgIGxheWVyUG9pbnQgPSBtYXAuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoY29udGFpbmVyUG9pbnQpLA0KCQkgICAgbGF0bG5nID0gbWFwLmxheWVyUG9pbnRUb0xhdExuZyhsYXllclBvaW50KTsNCg0KCQl0aGlzLmZpcmUoZS50eXBlLCB7DQoJCQlsYXRsbmc6IGxhdGxuZywNCgkJCWxheWVyUG9pbnQ6IGxheWVyUG9pbnQsDQoJCQljb250YWluZXJQb2ludDogY29udGFpbmVyUG9pbnQsDQoJCQlvcmlnaW5hbEV2ZW50OiBlDQoJCX0pOw0KDQoJCWlmIChlLnR5cGUgPT09ICdjb250ZXh0bWVudScpIHsNCgkJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7DQoJCX0NCgkJaWYgKGUudHlwZSAhPT0gJ21vdXNlbW92ZScpIHsNCgkJCUwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGUpOw0KCQl9DQoJfQ0KfSk7DQoNCkwuTWFwLmluY2x1ZGUoew0KCV9pbml0UGF0aFJvb3Q6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCF0aGlzLl9wYXRoUm9vdCkgew0KCQkJdGhpcy5fcGF0aFJvb3QgPSBMLlBhdGgucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50KCdzdmcnKTsNCgkJCXRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHRoaXMuX3BhdGhSb290KTsNCg0KCQkJaWYgKHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uICYmIEwuQnJvd3Nlci5hbnkzZCkgew0KCQkJCUwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoUm9vdCwgJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpOw0KDQoJCQkJdGhpcy5vbih7DQoJCQkJCSd6b29tYW5pbSc6IHRoaXMuX2FuaW1hdGVQYXRoWm9vbSwNCgkJCQkJJ3pvb21lbmQnOiB0aGlzLl9lbmRQYXRoWm9vbQ0KCQkJCX0pOw0KCQkJfSBlbHNlIHsNCgkJCQlMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aFJvb3QsICdsZWFmbGV0LXpvb20taGlkZScpOw0KCQkJfQ0KDQoJCQl0aGlzLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlU3ZnVmlld3BvcnQpOw0KCQkJdGhpcy5fdXBkYXRlU3ZnVmlld3BvcnQoKTsNCgkJfQ0KCX0sDQoNCglfYW5pbWF0ZVBhdGhab29tOiBmdW5jdGlvbiAoZSkgew0KCQl2YXIgc2NhbGUgPSB0aGlzLmdldFpvb21TY2FsZShlLnpvb20pLA0KCQkgICAgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGUuY2VudGVyKS5fbXVsdGlwbHlCeSgtc2NhbGUpLl9hZGQodGhpcy5fcGF0aFZpZXdwb3J0Lm1pbik7DQoNCgkJdGhpcy5fcGF0aFJvb3Quc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STV0gPQ0KCQkgICAgICAgIEwuRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcob2Zmc2V0KSArICcgc2NhbGUoJyArIHNjYWxlICsgJykgJzsNCg0KCQl0aGlzLl9wYXRoWm9vbWluZyA9IHRydWU7DQoJfSwNCg0KCV9lbmRQYXRoWm9vbTogZnVuY3Rpb24gKCkgew0KCQl0aGlzLl9wYXRoWm9vbWluZyA9IGZhbHNlOw0KCX0sDQoNCglfdXBkYXRlU3ZnVmlld3BvcnQ6IGZ1bmN0aW9uICgpIHsNCg0KCQlpZiAodGhpcy5fcGF0aFpvb21pbmcpIHsNCgkJCS8vIERvIG5vdCB1cGRhdGUgU1ZHcyB3aGlsZSBhIHpvb20gYW5pbWF0aW9uIGlzIGdvaW5nIG9uIG90aGVyd2lzZSB0aGUgYW5pbWF0aW9uIHdpbGwgYnJlYWsuDQoJCQkvLyBXaGVuIHRoZSB6b29tIGFuaW1hdGlvbiBlbmRzIHdlIHdpbGwgYmUgdXBkYXRlZCBhZ2FpbiBhbnl3YXkNCgkJCS8vIFRoaXMgZml4ZXMgdGhlIGNhc2Ugd2hlcmUgeW91IGRvIGEgbW9tZW50dW0gbW92ZSBhbmQgem9vbSB3aGlsZSB0aGUgbW92ZSBpcyBzdGlsbCBvbmdvaW5nLg0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJdGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCk7DQoNCgkJdmFyIHZwID0gdGhpcy5fcGF0aFZpZXdwb3J0LA0KCQkgICAgbWluID0gdnAubWluLA0KCQkgICAgbWF4ID0gdnAubWF4LA0KCQkgICAgd2lkdGggPSBtYXgueCAtIG1pbi54LA0KCQkgICAgaGVpZ2h0ID0gbWF4LnkgLSBtaW4ueSwNCgkJICAgIHJvb3QgPSB0aGlzLl9wYXRoUm9vdCwNCgkJICAgIHBhbmUgPSB0aGlzLl9wYW5lcy5vdmVybGF5UGFuZTsNCg0KCQkvLyBIYWNrIHRvIG1ha2UgZmxpY2tlciBvbiBkcmFnIGVuZCBvbiBtb2JpbGUgd2Via2l0IGxlc3MgaXJyaXRhdGluZw0KCQlpZiAoTC5Ccm93c2VyLm1vYmlsZVdlYmtpdCkgew0KCQkJcGFuZS5yZW1vdmVDaGlsZChyb290KTsNCgkJfQ0KDQoJCUwuRG9tVXRpbC5zZXRQb3NpdGlvbihyb290LCBtaW4pOw0KCQlyb290LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7DQoJCXJvb3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpOw0KCQlyb290LnNldEF0dHJpYnV0ZSgndmlld0JveCcsIFttaW4ueCwgbWluLnksIHdpZHRoLCBoZWlnaHRdLmpvaW4oJyAnKSk7DQoNCgkJaWYgKEwuQnJvd3Nlci5tb2JpbGVXZWJraXQpIHsNCgkJCXBhbmUuYXBwZW5kQ2hpbGQocm9vdCk7DQoJCX0NCgl9DQp9KTsNCgoKLyoNCiAqIFBvcHVwIGV4dGVuc2lvbiB0byBMLlBhdGggKHBvbHlsaW5lcywgcG9seWdvbnMsIGNpcmNsZXMpLCBhZGRpbmcgcG9wdXAtcmVsYXRlZCBtZXRob2RzLg0KICovDQoNCkwuUGF0aC5pbmNsdWRlKHsNCg0KCWJpbmRQb3B1cDogZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHsNCg0KCQlpZiAoY29udGVudCBpbnN0YW5jZW9mIEwuUG9wdXApIHsNCgkJCXRoaXMuX3BvcHVwID0gY29udGVudDsNCgkJfSBlbHNlIHsNCgkJCWlmICghdGhpcy5fcG9wdXAgfHwgb3B0aW9ucykgew0KCQkJCXRoaXMuX3BvcHVwID0gbmV3IEwuUG9wdXAob3B0aW9ucywgdGhpcyk7DQoJCQl9DQoJCQl0aGlzLl9wb3B1cC5zZXRDb250ZW50KGNvbnRlbnQpOw0KCQl9DQoNCgkJaWYgKCF0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQpIHsNCgkJCXRoaXMNCgkJCSAgICAub24oJ2NsaWNrJywgdGhpcy5fb3BlblBvcHVwLCB0aGlzKQ0KCQkJICAgIC5vbigncmVtb3ZlJywgdGhpcy5jbG9zZVBvcHVwLCB0aGlzKTsNCg0KCQkJdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkID0gdHJ1ZTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgl1bmJpbmRQb3B1cDogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5fcG9wdXApIHsNCgkJCXRoaXMuX3BvcHVwID0gbnVsbDsNCgkJCXRoaXMNCgkJCSAgICAub2ZmKCdjbGljaycsIHRoaXMuX29wZW5Qb3B1cCkNCgkJCSAgICAub2ZmKCdyZW1vdmUnLCB0aGlzLmNsb3NlUG9wdXApOw0KDQoJCQl0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQgPSBmYWxzZTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJb3BlblBvcHVwOiBmdW5jdGlvbiAobGF0bG5nKSB7DQoNCgkJaWYgKHRoaXMuX3BvcHVwKSB7DQoJCQkvLyBvcGVuIHRoZSBwb3B1cCBmcm9tIG9uZSBvZiB0aGUgcGF0aCdzIHBvaW50cyBpZiBub3Qgc3BlY2lmaWVkDQoJCQlsYXRsbmcgPSBsYXRsbmcgfHwgdGhpcy5fbGF0bG5nIHx8DQoJCQkgICAgICAgICB0aGlzLl9sYXRsbmdzW01hdGguZmxvb3IodGhpcy5fbGF0bG5ncy5sZW5ndGggLyAyKV07DQoNCgkJCXRoaXMuX29wZW5Qb3B1cCh7bGF0bG5nOiBsYXRsbmd9KTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgljbG9zZVBvcHVwOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLl9wb3B1cCkgew0KCQkJdGhpcy5fcG9wdXAuX2Nsb3NlKCk7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCV9vcGVuUG9wdXA6IGZ1bmN0aW9uIChlKSB7DQoJCXRoaXMuX3BvcHVwLnNldExhdExuZyhlLmxhdGxuZyk7DQoJCXRoaXMuX21hcC5vcGVuUG9wdXAodGhpcy5fcG9wdXApOw0KCX0NCn0pOw0KCgovKg0KICogVmVjdG9yIHJlbmRlcmluZyBmb3IgSUU2LTggdGhyb3VnaCBWTUwuDQogKiBUaGFua3MgdG8gRG1pdHJ5IEJhcmFub3Zza3kgYW5kIGhpcyBSYXBoYWVsIGxpYnJhcnkgZm9yIGluc3BpcmF0aW9uIQ0KICovDQoNCkwuQnJvd3Nlci52bWwgPSAhTC5Ccm93c2VyLnN2ZyAmJiAoZnVuY3Rpb24gKCkgew0KCXRyeSB7DQoJCXZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCgkJZGl2LmlubmVySFRNTCA9ICc8djpzaGFwZSBhZGo9IjEiLz4nOw0KDQoJCXZhciBzaGFwZSA9IGRpdi5maXJzdENoaWxkOw0KCQlzaGFwZS5zdHlsZS5iZWhhdmlvciA9ICd1cmwoI2RlZmF1bHQjVk1MKSc7DQoNCgkJcmV0dXJuIHNoYXBlICYmICh0eXBlb2Ygc2hhcGUuYWRqID09PSAnb2JqZWN0Jyk7DQoNCgl9IGNhdGNoIChlKSB7DQoJCXJldHVybiBmYWxzZTsNCgl9DQp9KCkpOw0KDQpMLlBhdGggPSBMLkJyb3dzZXIuc3ZnIHx8ICFMLkJyb3dzZXIudm1sID8gTC5QYXRoIDogTC5QYXRoLmV4dGVuZCh7DQoJc3RhdGljczogew0KCQlWTUw6IHRydWUsDQoJCUNMSVBfUEFERElORzogMC4wMg0KCX0sDQoNCglfY3JlYXRlRWxlbWVudDogKGZ1bmN0aW9uICgpIHsNCgkJdHJ5IHsNCgkJCWRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKCdsdm1sJywgJ3VybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sJyk7DQoJCQlyZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHsNCgkJCQlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnPGx2bWw6JyArIG5hbWUgKyAnIGNsYXNzPSJsdm1sIj4nKTsNCgkJCX07DQoJCX0gY2F0Y2ggKGUpIHsNCgkJCXJldHVybiBmdW5jdGlvbiAobmFtZSkgew0KCQkJCXJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KA0KCQkJCSAgICAgICAgJzwnICsgbmFtZSArICcgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ibHZtbCI+Jyk7DQoJCQl9Ow0KCQl9DQoJfSgpKSwNCg0KCV9pbml0UGF0aDogZnVuY3Rpb24gKCkgew0KCQl2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5fY3JlYXRlRWxlbWVudCgnc2hhcGUnKTsNCg0KCQlMLkRvbVV0aWwuYWRkQ2xhc3MoY29udGFpbmVyLCAnbGVhZmxldC12bWwtc2hhcGUnICsNCgkJCSh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lID8gJyAnICsgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSA6ICcnKSk7DQoNCgkJaWYgKHRoaXMub3B0aW9ucy5jbGlja2FibGUpIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWNsaWNrYWJsZScpOw0KCQl9DQoNCgkJY29udGFpbmVyLmNvb3Jkc2l6ZSA9ICcxIDEnOw0KDQoJCXRoaXMuX3BhdGggPSB0aGlzLl9jcmVhdGVFbGVtZW50KCdwYXRoJyk7DQoJCWNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9wYXRoKTsNCg0KCQl0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7DQoJfSwNCg0KCV9pbml0U3R5bGU6IGZ1bmN0aW9uICgpIHsNCgkJdGhpcy5fdXBkYXRlU3R5bGUoKTsNCgl9LA0KDQoJX3VwZGF0ZVN0eWxlOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBzdHJva2UgPSB0aGlzLl9zdHJva2UsDQoJCSAgICBmaWxsID0gdGhpcy5fZmlsbCwNCgkJICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsDQoJCSAgICBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7DQoNCgkJY29udGFpbmVyLnN0cm9rZWQgPSBvcHRpb25zLnN0cm9rZTsNCgkJY29udGFpbmVyLmZpbGxlZCA9IG9wdGlvbnMuZmlsbDsNCg0KCQlpZiAob3B0aW9ucy5zdHJva2UpIHsNCgkJCWlmICghc3Ryb2tlKSB7DQoJCQkJc3Ryb2tlID0gdGhpcy5fc3Ryb2tlID0gdGhpcy5fY3JlYXRlRWxlbWVudCgnc3Ryb2tlJyk7DQoJCQkJc3Ryb2tlLmVuZGNhcCA9ICdyb3VuZCc7DQoJCQkJY29udGFpbmVyLmFwcGVuZENoaWxkKHN0cm9rZSk7DQoJCQl9DQoJCQlzdHJva2Uud2VpZ2h0ID0gb3B0aW9ucy53ZWlnaHQgKyAncHgnOw0KCQkJc3Ryb2tlLmNvbG9yID0gb3B0aW9ucy5jb2xvcjsNCgkJCXN0cm9rZS5vcGFjaXR5ID0gb3B0aW9ucy5vcGFjaXR5Ow0KDQoJCQlpZiAob3B0aW9ucy5kYXNoQXJyYXkpIHsNCgkJCQlzdHJva2UuZGFzaFN0eWxlID0gTC5VdGlsLmlzQXJyYXkob3B0aW9ucy5kYXNoQXJyYXkpID8NCgkJCQkgICAgb3B0aW9ucy5kYXNoQXJyYXkuam9pbignICcpIDoNCgkJCQkgICAgb3B0aW9ucy5kYXNoQXJyYXkucmVwbGFjZSgvKCAqLCAqKS9nLCAnICcpOw0KCQkJfSBlbHNlIHsNCgkJCQlzdHJva2UuZGFzaFN0eWxlID0gJyc7DQoJCQl9DQoJCQlpZiAob3B0aW9ucy5saW5lQ2FwKSB7DQoJCQkJc3Ryb2tlLmVuZGNhcCA9IG9wdGlvbnMubGluZUNhcC5yZXBsYWNlKCdidXR0JywgJ2ZsYXQnKTsNCgkJCX0NCgkJCWlmIChvcHRpb25zLmxpbmVKb2luKSB7DQoJCQkJc3Ryb2tlLmpvaW5zdHlsZSA9IG9wdGlvbnMubGluZUpvaW47DQoJCQl9DQoNCgkJfSBlbHNlIGlmIChzdHJva2UpIHsNCgkJCWNvbnRhaW5lci5yZW1vdmVDaGlsZChzdHJva2UpOw0KCQkJdGhpcy5fc3Ryb2tlID0gbnVsbDsNCgkJfQ0KDQoJCWlmIChvcHRpb25zLmZpbGwpIHsNCgkJCWlmICghZmlsbCkgew0KCQkJCWZpbGwgPSB0aGlzLl9maWxsID0gdGhpcy5fY3JlYXRlRWxlbWVudCgnZmlsbCcpOw0KCQkJCWNvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxsKTsNCgkJCX0NCgkJCWZpbGwuY29sb3IgPSBvcHRpb25zLmZpbGxDb2xvciB8fCBvcHRpb25zLmNvbG9yOw0KCQkJZmlsbC5vcGFjaXR5ID0gb3B0aW9ucy5maWxsT3BhY2l0eTsNCg0KCQl9IGVsc2UgaWYgKGZpbGwpIHsNCgkJCWNvbnRhaW5lci5yZW1vdmVDaGlsZChmaWxsKTsNCgkJCXRoaXMuX2ZpbGwgPSBudWxsOw0KCQl9DQoJfSwNCg0KCV91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBzdHlsZSA9IHRoaXMuX2NvbnRhaW5lci5zdHlsZTsNCg0KCQlzdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KCQl0aGlzLl9wYXRoLnYgPSB0aGlzLmdldFBhdGhTdHJpbmcoKSArICcgJzsgLy8gdGhlIHNwYWNlIGZpeGVzIElFIGVtcHR5IHBhdGggc3RyaW5nIGJ1Zw0KCQlzdHlsZS5kaXNwbGF5ID0gJyc7DQoJfQ0KfSk7DQoNCkwuTWFwLmluY2x1ZGUoTC5Ccm93c2VyLnN2ZyB8fCAhTC5Ccm93c2VyLnZtbCA/IHt9IDogew0KCV9pbml0UGF0aFJvb3Q6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX3BhdGhSb290KSB7IHJldHVybjsgfQ0KDQoJCXZhciByb290ID0gdGhpcy5fcGF0aFJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCgkJcm9vdC5jbGFzc05hbWUgPSAnbGVhZmxldC12bWwtY29udGFpbmVyJzsNCgkJdGhpcy5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQocm9vdCk7DQoNCgkJdGhpcy5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCk7DQoJCXRoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCgpOw0KCX0NCn0pOw0KCgovKg0KICogVmVjdG9yIHJlbmRlcmluZyBmb3IgYWxsIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjYW52YXMuDQogKi8NCg0KTC5Ccm93c2VyLmNhbnZhcyA9IChmdW5jdGlvbiAoKSB7DQoJcmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dDsNCn0oKSk7DQoNCkwuUGF0aCA9IChMLlBhdGguU1ZHICYmICF3aW5kb3cuTF9QUkVGRVJfQ0FOVkFTKSB8fCAhTC5Ccm93c2VyLmNhbnZhcyA/IEwuUGF0aCA6IEwuUGF0aC5leHRlbmQoew0KCXN0YXRpY3M6IHsNCgkJLy9DTElQX1BBRERJTkc6IDAuMDIsIC8vIG5vdCBzdXJlIGlmIHRoZXJlJ3MgYSBuZWVkIHRvIHNldCBpdCB0byBhIHNtYWxsIHZhbHVlDQoJCUNBTlZBUzogdHJ1ZSwNCgkJU1ZHOiBmYWxzZQ0KCX0sDQoNCglyZWRyYXc6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX21hcCkgew0KCQkJdGhpcy5wcm9qZWN0TGF0bG5ncygpOw0KCQkJdGhpcy5fcmVxdWVzdFVwZGF0ZSgpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlKSB7DQoJCUwuc2V0T3B0aW9ucyh0aGlzLCBzdHlsZSk7DQoNCgkJaWYgKHRoaXMuX21hcCkgew0KCQkJdGhpcy5fdXBkYXRlU3R5bGUoKTsNCgkJCXRoaXMuX3JlcXVlc3RVcGRhdGUoKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJb25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwDQoJCSAgICAub2ZmKCd2aWV3cmVzZXQnLCB0aGlzLnByb2plY3RMYXRsbmdzLCB0aGlzKQ0KCQkgICAgLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZVBhdGgsIHRoaXMpOw0KDQoJCWlmICh0aGlzLm9wdGlvbnMuY2xpY2thYmxlKSB7DQoJCQl0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX29uQ2xpY2ssIHRoaXMpOw0KCQkJdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRoaXMpOw0KCQl9DQoNCgkJdGhpcy5fcmVxdWVzdFVwZGF0ZSgpOw0KDQoJCXRoaXMuX21hcCA9IG51bGw7DQoJfSwNCg0KCV9yZXF1ZXN0VXBkYXRlOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLl9tYXAgJiYgIUwuUGF0aC5fdXBkYXRlUmVxdWVzdCkgew0KCQkJTC5QYXRoLl91cGRhdGVSZXF1ZXN0ID0gTC5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fZmlyZU1hcE1vdmVFbmQsIHRoaXMuX21hcCk7DQoJCX0NCgl9LA0KDQoJX2ZpcmVNYXBNb3ZlRW5kOiBmdW5jdGlvbiAoKSB7DQoJCUwuUGF0aC5fdXBkYXRlUmVxdWVzdCA9IG51bGw7DQoJCXRoaXMuZmlyZSgnbW92ZWVuZCcpOw0KCX0sDQoNCglfaW5pdEVsZW1lbnRzOiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuX21hcC5faW5pdFBhdGhSb290KCk7DQoJCXRoaXMuX2N0eCA9IHRoaXMuX21hcC5fY2FudmFzQ3R4Ow0KCX0sDQoNCglfdXBkYXRlU3R5bGU6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7DQoNCgkJaWYgKG9wdGlvbnMuc3Ryb2tlKSB7DQoJCQl0aGlzLl9jdHgubGluZVdpZHRoID0gb3B0aW9ucy53ZWlnaHQ7DQoJCQl0aGlzLl9jdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmNvbG9yOw0KCQl9DQoJCWlmIChvcHRpb25zLmZpbGwpIHsNCgkJCXRoaXMuX2N0eC5maWxsU3R5bGUgPSBvcHRpb25zLmZpbGxDb2xvciB8fCBvcHRpb25zLmNvbG9yOw0KCQl9DQoJfSwNCg0KCV9kcmF3UGF0aDogZnVuY3Rpb24gKCkgew0KCQl2YXIgaSwgaiwgbGVuLCBsZW4yLCBwb2ludCwgZHJhd01ldGhvZDsNCg0KCQl0aGlzLl9jdHguYmVnaW5QYXRoKCk7DQoNCgkJZm9yIChpID0gMCwgbGVuID0gdGhpcy5fcGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCWZvciAoaiA9IDAsIGxlbjIgPSB0aGlzLl9wYXJ0c1tpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHsNCgkJCQlwb2ludCA9IHRoaXMuX3BhcnRzW2ldW2pdOw0KCQkJCWRyYXdNZXRob2QgPSAoaiA9PT0gMCA/ICdtb3ZlJyA6ICdsaW5lJykgKyAnVG8nOw0KDQoJCQkJdGhpcy5fY3R4W2RyYXdNZXRob2RdKHBvaW50LngsIHBvaW50LnkpOw0KCQkJfQ0KCQkJLy8gVE9ETyByZWZhY3RvciB1Z2x5IGhhY2sNCgkJCWlmICh0aGlzIGluc3RhbmNlb2YgTC5Qb2x5Z29uKSB7DQoJCQkJdGhpcy5fY3R4LmNsb3NlUGF0aCgpOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCV9jaGVja0lmRW1wdHk6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuICF0aGlzLl9wYXJ0cy5sZW5ndGg7DQoJfSwNCg0KCV91cGRhdGVQYXRoOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLl9jaGVja0lmRW1wdHkoKSkgeyByZXR1cm47IH0NCg0KCQl2YXIgY3R4ID0gdGhpcy5fY3R4LA0KCQkgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsNCg0KCQl0aGlzLl9kcmF3UGF0aCgpOw0KCQljdHguc2F2ZSgpOw0KCQl0aGlzLl91cGRhdGVTdHlsZSgpOw0KDQoJCWlmIChvcHRpb25zLmZpbGwpIHsNCgkJCWN0eC5nbG9iYWxBbHBoYSA9IG9wdGlvbnMuZmlsbE9wYWNpdHk7DQoJCQljdHguZmlsbCgpOw0KCQl9DQoNCgkJaWYgKG9wdGlvbnMuc3Ryb2tlKSB7DQoJCQljdHguZ2xvYmFsQWxwaGEgPSBvcHRpb25zLm9wYWNpdHk7DQoJCQljdHguc3Ryb2tlKCk7DQoJCX0NCg0KCQljdHgucmVzdG9yZSgpOw0KDQoJCS8vIFRPRE8gb3B0aW1pemF0aW9uOiAxIGZpbGwvc3Ryb2tlIGZvciBhbGwgZmVhdHVyZXMgd2l0aCBlcXVhbCBzdHlsZSBpbnN0ZWFkIG9mIDEgZm9yIGVhY2ggZmVhdHVyZQ0KCX0sDQoNCglfaW5pdEV2ZW50czogZnVuY3Rpb24gKCkgew0KCQlpZiAodGhpcy5vcHRpb25zLmNsaWNrYWJsZSkgew0KCQkJLy8gVE9ETyBkYmxjbGljaw0KCQkJdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdGhpcyk7DQoJCQl0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fb25DbGljaywgdGhpcyk7DQoJCX0NCgl9LA0KDQoJX29uQ2xpY2s6IGZ1bmN0aW9uIChlKSB7DQoJCWlmICh0aGlzLl9jb250YWluc1BvaW50KGUubGF5ZXJQb2ludCkpIHsNCgkJCXRoaXMuZmlyZSgnY2xpY2snLCBlKTsNCgkJfQ0KCX0sDQoNCglfb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7DQoJCWlmICghdGhpcy5fbWFwIHx8IHRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm47IH0NCg0KCQkvLyBUT0RPIGRvbid0IGRvIG9uIGVhY2ggbW92ZQ0KCQlpZiAodGhpcy5fY29udGFpbnNQb2ludChlLmxheWVyUG9pbnQpKSB7DQoJCQl0aGlzLl9jdHguY2FudmFzLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsNCgkJCXRoaXMuX21vdXNlSW5zaWRlID0gdHJ1ZTsNCgkJCXRoaXMuZmlyZSgnbW91c2VvdmVyJywgZSk7DQoNCgkJfSBlbHNlIGlmICh0aGlzLl9tb3VzZUluc2lkZSkgew0KCQkJdGhpcy5fY3R4LmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnJzsNCgkJCXRoaXMuX21vdXNlSW5zaWRlID0gZmFsc2U7DQoJCQl0aGlzLmZpcmUoJ21vdXNlb3V0JywgZSk7DQoJCX0NCgl9DQp9KTsNCg0KTC5NYXAuaW5jbHVkZSgoTC5QYXRoLlNWRyAmJiAhd2luZG93LkxfUFJFRkVSX0NBTlZBUykgfHwgIUwuQnJvd3Nlci5jYW52YXMgPyB7fSA6IHsNCglfaW5pdFBhdGhSb290OiBmdW5jdGlvbiAoKSB7DQoJCXZhciByb290ID0gdGhpcy5fcGF0aFJvb3QsDQoJCSAgICBjdHg7DQoNCgkJaWYgKCFyb290KSB7DQoJCQlyb290ID0gdGhpcy5fcGF0aFJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCgkJCXJvb3Quc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOw0KCQkJY3R4ID0gdGhpcy5fY2FudmFzQ3R4ID0gcm9vdC5nZXRDb250ZXh0KCcyZCcpOw0KDQoJCQljdHgubGluZUNhcCA9ICdyb3VuZCc7DQoJCQljdHgubGluZUpvaW4gPSAncm91bmQnOw0KDQoJCQl0aGlzLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZChyb290KTsNCg0KCQkJaWYgKHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uKSB7DQoJCQkJdGhpcy5fcGF0aFJvb3QuY2xhc3NOYW1lID0gJ2xlYWZsZXQtem9vbS1hbmltYXRlZCc7DQoJCQkJdGhpcy5vbignem9vbWFuaW0nLCB0aGlzLl9hbmltYXRlUGF0aFpvb20pOw0KCQkJCXRoaXMub24oJ3pvb21lbmQnLCB0aGlzLl9lbmRQYXRoWm9vbSk7DQoJCQl9DQoJCQl0aGlzLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlQ2FudmFzVmlld3BvcnQpOw0KCQkJdGhpcy5fdXBkYXRlQ2FudmFzVmlld3BvcnQoKTsNCgkJfQ0KCX0sDQoNCglfdXBkYXRlQ2FudmFzVmlld3BvcnQ6IGZ1bmN0aW9uICgpIHsNCgkJLy8gZG9uJ3QgcmVkcmF3IHdoaWxlIHpvb21pbmcuIFNlZSBfdXBkYXRlU3ZnVmlld3BvcnQgZm9yIG1vcmUgZGV0YWlscw0KCQlpZiAodGhpcy5fcGF0aFpvb21pbmcpIHsgcmV0dXJuOyB9DQoJCXRoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCgpOw0KDQoJCXZhciB2cCA9IHRoaXMuX3BhdGhWaWV3cG9ydCwNCgkJICAgIG1pbiA9IHZwLm1pbiwNCgkJICAgIHNpemUgPSB2cC5tYXguc3VidHJhY3QobWluKSwNCgkJICAgIHJvb3QgPSB0aGlzLl9wYXRoUm9vdDsNCg0KCQkvL1RPRE8gY2hlY2sgaWYgdGhpcyB3b3JrcyBwcm9wZXJseSBvbiBtb2JpbGUgd2Via2l0DQoJCUwuRG9tVXRpbC5zZXRQb3NpdGlvbihyb290LCBtaW4pOw0KCQlyb290LndpZHRoID0gc2l6ZS54Ow0KCQlyb290LmhlaWdodCA9IHNpemUueTsNCgkJcm9vdC5nZXRDb250ZXh0KCcyZCcpLnRyYW5zbGF0ZSgtbWluLngsIC1taW4ueSk7DQoJfQ0KfSk7DQoKCi8qDQogKiBMLkxpbmVVdGlsIGNvbnRhaW5zIGRpZmZlcmVudCB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgbGluZSBzZWdtZW50cw0KICogYW5kIHBvbHlsaW5lcyAoY2xpcHBpbmcsIHNpbXBsaWZpY2F0aW9uLCBkaXN0YW5jZXMsIGV0Yy4pDQogKi8NCg0KLypqc2hpbnQgYml0d2lzZTpmYWxzZSAqLyAvLyBhbGxvdyBiaXR3aXNlIG9wZXJhdGlvbnMgZm9yIHRoaXMgZmlsZQ0KDQpMLkxpbmVVdGlsID0gew0KDQoJLy8gU2ltcGxpZnkgcG9seWxpbmUgd2l0aCB2ZXJ0ZXggcmVkdWN0aW9uIGFuZCBEb3VnbGFzLVBldWNrZXIgc2ltcGxpZmljYXRpb24uDQoJLy8gSW1wcm92ZXMgcmVuZGVyaW5nIHBlcmZvcm1hbmNlIGRyYW1hdGljYWxseSBieSBsZXNzZW5pbmcgdGhlIG51bWJlciBvZiBwb2ludHMgdG8gZHJhdy4NCg0KCXNpbXBsaWZ5OiBmdW5jdGlvbiAoLypQb2ludFtdKi8gcG9pbnRzLCAvKk51bWJlciovIHRvbGVyYW5jZSkgew0KCQlpZiAoIXRvbGVyYW5jZSB8fCAhcG9pbnRzLmxlbmd0aCkgew0KCQkJcmV0dXJuIHBvaW50cy5zbGljZSgpOw0KCQl9DQoNCgkJdmFyIHNxVG9sZXJhbmNlID0gdG9sZXJhbmNlICogdG9sZXJhbmNlOw0KDQoJCS8vIHN0YWdlIDE6IHZlcnRleCByZWR1Y3Rpb24NCgkJcG9pbnRzID0gdGhpcy5fcmVkdWNlUG9pbnRzKHBvaW50cywgc3FUb2xlcmFuY2UpOw0KDQoJCS8vIHN0YWdlIDI6IERvdWdsYXMtUGV1Y2tlciBzaW1wbGlmaWNhdGlvbg0KCQlwb2ludHMgPSB0aGlzLl9zaW1wbGlmeURQKHBvaW50cywgc3FUb2xlcmFuY2UpOw0KDQoJCXJldHVybiBwb2ludHM7DQoJfSwNCg0KCS8vIGRpc3RhbmNlIGZyb20gYSBwb2ludCB0byBhIHNlZ21lbnQgYmV0d2VlbiB0d28gcG9pbnRzDQoJcG9pbnRUb1NlZ21lbnREaXN0YW5jZTogIGZ1bmN0aW9uICgvKlBvaW50Ki8gcCwgLypQb2ludCovIHAxLCAvKlBvaW50Ki8gcDIpIHsNCgkJcmV0dXJuIE1hdGguc3FydCh0aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudChwLCBwMSwgcDIsIHRydWUpKTsNCgl9LA0KDQoJY2xvc2VzdFBvaW50T25TZWdtZW50OiBmdW5jdGlvbiAoLypQb2ludCovIHAsIC8qUG9pbnQqLyBwMSwgLypQb2ludCovIHAyKSB7DQoJCXJldHVybiB0aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudChwLCBwMSwgcDIpOw0KCX0sDQoNCgkvLyBEb3VnbGFzLVBldWNrZXIgc2ltcGxpZmljYXRpb24sIHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RvdWdsYXMtUGV1Y2tlcl9hbGdvcml0aG0NCglfc2ltcGxpZnlEUDogZnVuY3Rpb24gKHBvaW50cywgc3FUb2xlcmFuY2UpIHsNCg0KCQl2YXIgbGVuID0gcG9pbnRzLmxlbmd0aCwNCgkJICAgIEFycmF5Q29uc3RydWN0b3IgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gdW5kZWZpbmVkICsgJycgPyBVaW50OEFycmF5IDogQXJyYXksDQoJCSAgICBtYXJrZXJzID0gbmV3IEFycmF5Q29uc3RydWN0b3IobGVuKTsNCg0KCQltYXJrZXJzWzBdID0gbWFya2Vyc1tsZW4gLSAxXSA9IDE7DQoNCgkJdGhpcy5fc2ltcGxpZnlEUFN0ZXAocG9pbnRzLCBtYXJrZXJzLCBzcVRvbGVyYW5jZSwgMCwgbGVuIC0gMSk7DQoNCgkJdmFyIGksDQoJCSAgICBuZXdQb2ludHMgPSBbXTsNCg0KCQlmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsNCgkJCWlmIChtYXJrZXJzW2ldKSB7DQoJCQkJbmV3UG9pbnRzLnB1c2gocG9pbnRzW2ldKTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiBuZXdQb2ludHM7DQoJfSwNCg0KCV9zaW1wbGlmeURQU3RlcDogZnVuY3Rpb24gKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGZpcnN0LCBsYXN0KSB7DQoNCgkJdmFyIG1heFNxRGlzdCA9IDAsDQoJCSAgICBpbmRleCwgaSwgc3FEaXN0Ow0KDQoJCWZvciAoaSA9IGZpcnN0ICsgMTsgaSA8PSBsYXN0IC0gMTsgaSsrKSB7DQoJCQlzcURpc3QgPSB0aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudChwb2ludHNbaV0sIHBvaW50c1tmaXJzdF0sIHBvaW50c1tsYXN0XSwgdHJ1ZSk7DQoNCgkJCWlmIChzcURpc3QgPiBtYXhTcURpc3QpIHsNCgkJCQlpbmRleCA9IGk7DQoJCQkJbWF4U3FEaXN0ID0gc3FEaXN0Ow0KCQkJfQ0KCQl9DQoNCgkJaWYgKG1heFNxRGlzdCA+IHNxVG9sZXJhbmNlKSB7DQoJCQltYXJrZXJzW2luZGV4XSA9IDE7DQoNCgkJCXRoaXMuX3NpbXBsaWZ5RFBTdGVwKHBvaW50cywgbWFya2Vycywgc3FUb2xlcmFuY2UsIGZpcnN0LCBpbmRleCk7DQoJCQl0aGlzLl9zaW1wbGlmeURQU3RlcChwb2ludHMsIG1hcmtlcnMsIHNxVG9sZXJhbmNlLCBpbmRleCwgbGFzdCk7DQoJCX0NCgl9LA0KDQoJLy8gcmVkdWNlIHBvaW50cyB0aGF0IGFyZSB0b28gY2xvc2UgdG8gZWFjaCBvdGhlciB0byBhIHNpbmdsZSBwb2ludA0KCV9yZWR1Y2VQb2ludHM6IGZ1bmN0aW9uIChwb2ludHMsIHNxVG9sZXJhbmNlKSB7DQoJCXZhciByZWR1Y2VkUG9pbnRzID0gW3BvaW50c1swXV07DQoNCgkJZm9yICh2YXIgaSA9IDEsIHByZXYgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCWlmICh0aGlzLl9zcURpc3QocG9pbnRzW2ldLCBwb2ludHNbcHJldl0pID4gc3FUb2xlcmFuY2UpIHsNCgkJCQlyZWR1Y2VkUG9pbnRzLnB1c2gocG9pbnRzW2ldKTsNCgkJCQlwcmV2ID0gaTsNCgkJCX0NCgkJfQ0KCQlpZiAocHJldiA8IGxlbiAtIDEpIHsNCgkJCXJlZHVjZWRQb2ludHMucHVzaChwb2ludHNbbGVuIC0gMV0pOw0KCQl9DQoJCXJldHVybiByZWR1Y2VkUG9pbnRzOw0KCX0sDQoNCgkvLyBDb2hlbi1TdXRoZXJsYW5kIGxpbmUgY2xpcHBpbmcgYWxnb3JpdGhtLg0KCS8vIFVzZWQgdG8gYXZvaWQgcmVuZGVyaW5nIHBhcnRzIG9mIGEgcG9seWxpbmUgdGhhdCBhcmUgbm90IGN1cnJlbnRseSB2aXNpYmxlLg0KDQoJY2xpcFNlZ21lbnQ6IGZ1bmN0aW9uIChhLCBiLCBib3VuZHMsIHVzZUxhc3RDb2RlKSB7DQoJCXZhciBjb2RlQSA9IHVzZUxhc3RDb2RlID8gdGhpcy5fbGFzdENvZGUgOiB0aGlzLl9nZXRCaXRDb2RlKGEsIGJvdW5kcyksDQoJCSAgICBjb2RlQiA9IHRoaXMuX2dldEJpdENvZGUoYiwgYm91bmRzKSwNCg0KCQkgICAgY29kZU91dCwgcCwgbmV3Q29kZTsNCg0KCQkvLyBzYXZlIDJuZCBjb2RlIHRvIGF2b2lkIGNhbGN1bGF0aW5nIGl0IG9uIHRoZSBuZXh0IHNlZ21lbnQNCgkJdGhpcy5fbGFzdENvZGUgPSBjb2RlQjsNCg0KCQl3aGlsZSAodHJ1ZSkgew0KCQkJLy8gaWYgYSxiIGlzIGluc2lkZSB0aGUgY2xpcCB3aW5kb3cgKHRyaXZpYWwgYWNjZXB0KQ0KCQkJaWYgKCEoY29kZUEgfCBjb2RlQikpIHsNCgkJCQlyZXR1cm4gW2EsIGJdOw0KCQkJLy8gaWYgYSxiIGlzIG91dHNpZGUgdGhlIGNsaXAgd2luZG93ICh0cml2aWFsIHJlamVjdCkNCgkJCX0gZWxzZSBpZiAoY29kZUEgJiBjb2RlQikgew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCS8vIG90aGVyIGNhc2VzDQoJCQl9IGVsc2Ugew0KCQkJCWNvZGVPdXQgPSBjb2RlQSB8fCBjb2RlQjsNCgkJCQlwID0gdGhpcy5fZ2V0RWRnZUludGVyc2VjdGlvbihhLCBiLCBjb2RlT3V0LCBib3VuZHMpOw0KCQkJCW5ld0NvZGUgPSB0aGlzLl9nZXRCaXRDb2RlKHAsIGJvdW5kcyk7DQoNCgkJCQlpZiAoY29kZU91dCA9PT0gY29kZUEpIHsNCgkJCQkJYSA9IHA7DQoJCQkJCWNvZGVBID0gbmV3Q29kZTsNCgkJCQl9IGVsc2Ugew0KCQkJCQliID0gcDsNCgkJCQkJY29kZUIgPSBuZXdDb2RlOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoNCglfZ2V0RWRnZUludGVyc2VjdGlvbjogZnVuY3Rpb24gKGEsIGIsIGNvZGUsIGJvdW5kcykgew0KCQl2YXIgZHggPSBiLnggLSBhLngsDQoJCSAgICBkeSA9IGIueSAtIGEueSwNCgkJICAgIG1pbiA9IGJvdW5kcy5taW4sDQoJCSAgICBtYXggPSBib3VuZHMubWF4Ow0KDQoJCWlmIChjb2RlICYgOCkgeyAvLyB0b3ANCgkJCXJldHVybiBuZXcgTC5Qb2ludChhLnggKyBkeCAqIChtYXgueSAtIGEueSkgLyBkeSwgbWF4LnkpOw0KCQl9IGVsc2UgaWYgKGNvZGUgJiA0KSB7IC8vIGJvdHRvbQ0KCQkJcmV0dXJuIG5ldyBMLlBvaW50KGEueCArIGR4ICogKG1pbi55IC0gYS55KSAvIGR5LCBtaW4ueSk7DQoJCX0gZWxzZSBpZiAoY29kZSAmIDIpIHsgLy8gcmlnaHQNCgkJCXJldHVybiBuZXcgTC5Qb2ludChtYXgueCwgYS55ICsgZHkgKiAobWF4LnggLSBhLngpIC8gZHgpOw0KCQl9IGVsc2UgaWYgKGNvZGUgJiAxKSB7IC8vIGxlZnQNCgkJCXJldHVybiBuZXcgTC5Qb2ludChtaW4ueCwgYS55ICsgZHkgKiAobWluLnggLSBhLngpIC8gZHgpOw0KCQl9DQoJfSwNCg0KCV9nZXRCaXRDb2RlOiBmdW5jdGlvbiAoLypQb2ludCovIHAsIGJvdW5kcykgew0KCQl2YXIgY29kZSA9IDA7DQoNCgkJaWYgKHAueCA8IGJvdW5kcy5taW4ueCkgeyAvLyBsZWZ0DQoJCQljb2RlIHw9IDE7DQoJCX0gZWxzZSBpZiAocC54ID4gYm91bmRzLm1heC54KSB7IC8vIHJpZ2h0DQoJCQljb2RlIHw9IDI7DQoJCX0NCgkJaWYgKHAueSA8IGJvdW5kcy5taW4ueSkgeyAvLyBib3R0b20NCgkJCWNvZGUgfD0gNDsNCgkJfSBlbHNlIGlmIChwLnkgPiBib3VuZHMubWF4LnkpIHsgLy8gdG9wDQoJCQljb2RlIHw9IDg7DQoJCX0NCg0KCQlyZXR1cm4gY29kZTsNCgl9LA0KDQoJLy8gc3F1YXJlIGRpc3RhbmNlICh0byBhdm9pZCB1bm5lY2Vzc2FyeSBNYXRoLnNxcnQgY2FsbHMpDQoJX3NxRGlzdDogZnVuY3Rpb24gKHAxLCBwMikgew0KCQl2YXIgZHggPSBwMi54IC0gcDEueCwNCgkJICAgIGR5ID0gcDIueSAtIHAxLnk7DQoJCXJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTsNCgl9LA0KDQoJLy8gcmV0dXJuIGNsb3Nlc3QgcG9pbnQgb24gc2VnbWVudCBvciBkaXN0YW5jZSB0byB0aGF0IHBvaW50DQoJX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50OiBmdW5jdGlvbiAocCwgcDEsIHAyLCBzcURpc3QpIHsNCgkJdmFyIHggPSBwMS54LA0KCQkgICAgeSA9IHAxLnksDQoJCSAgICBkeCA9IHAyLnggLSB4LA0KCQkgICAgZHkgPSBwMi55IC0geSwNCgkJICAgIGRvdCA9IGR4ICogZHggKyBkeSAqIGR5LA0KCQkgICAgdDsNCg0KCQlpZiAoZG90ID4gMCkgew0KCQkJdCA9ICgocC54IC0geCkgKiBkeCArIChwLnkgLSB5KSAqIGR5KSAvIGRvdDsNCg0KCQkJaWYgKHQgPiAxKSB7DQoJCQkJeCA9IHAyLng7DQoJCQkJeSA9IHAyLnk7DQoJCQl9IGVsc2UgaWYgKHQgPiAwKSB7DQoJCQkJeCArPSBkeCAqIHQ7DQoJCQkJeSArPSBkeSAqIHQ7DQoJCQl9DQoJCX0NCg0KCQlkeCA9IHAueCAtIHg7DQoJCWR5ID0gcC55IC0geTsNCg0KCQlyZXR1cm4gc3FEaXN0ID8gZHggKiBkeCArIGR5ICogZHkgOiBuZXcgTC5Qb2ludCh4LCB5KTsNCgl9DQp9Ow0KCgovKg0KICogTC5Qb2x5bGluZSBpcyB1c2VkIHRvIGRpc3BsYXkgcG9seWxpbmVzIG9uIGEgbWFwLg0KICovDQoNCkwuUG9seWxpbmUgPSBMLlBhdGguZXh0ZW5kKHsNCglpbml0aWFsaXplOiBmdW5jdGlvbiAobGF0bG5ncywgb3B0aW9ucykgew0KCQlMLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBvcHRpb25zKTsNCg0KCQl0aGlzLl9sYXRsbmdzID0gdGhpcy5fY29udmVydExhdExuZ3MobGF0bG5ncyk7DQoJfSwNCg0KCW9wdGlvbnM6IHsNCgkJLy8gaG93IG11Y2ggdG8gc2ltcGxpZnkgdGhlIHBvbHlsaW5lIG9uIGVhY2ggem9vbSBsZXZlbA0KCQkvLyBtb3JlID0gYmV0dGVyIHBlcmZvcm1hbmNlIGFuZCBzbW9vdGhlciBsb29rLCBsZXNzID0gbW9yZSBhY2N1cmF0ZQ0KCQlzbW9vdGhGYWN0b3I6IDEuMCwNCgkJbm9DbGlwOiBmYWxzZQ0KCX0sDQoNCglwcm9qZWN0TGF0bG5nczogZnVuY3Rpb24gKCkgew0KCQl0aGlzLl9vcmlnaW5hbFBvaW50cyA9IFtdOw0KDQoJCWZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9sYXRsbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7DQoJCQl0aGlzLl9vcmlnaW5hbFBvaW50c1tpXSA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nc1tpXSk7DQoJCX0NCgl9LA0KDQoJZ2V0UGF0aFN0cmluZzogZnVuY3Rpb24gKCkgew0KCQlmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fcGFydHMubGVuZ3RoLCBzdHIgPSAnJzsgaSA8IGxlbjsgaSsrKSB7DQoJCQlzdHIgKz0gdGhpcy5fZ2V0UGF0aFBhcnRTdHIodGhpcy5fcGFydHNbaV0pOw0KCQl9DQoJCXJldHVybiBzdHI7DQoJfSwNCg0KCWdldExhdExuZ3M6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX2xhdGxuZ3M7DQoJfSwNCg0KCXNldExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzKSB7DQoJCXRoaXMuX2xhdGxuZ3MgPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzKTsNCgkJcmV0dXJuIHRoaXMucmVkcmF3KCk7DQoJfSwNCg0KCWFkZExhdExuZzogZnVuY3Rpb24gKGxhdGxuZykgew0KCQl0aGlzLl9sYXRsbmdzLnB1c2goTC5sYXRMbmcobGF0bG5nKSk7DQoJCXJldHVybiB0aGlzLnJlZHJhdygpOw0KCX0sDQoNCglzcGxpY2VMYXRMbmdzOiBmdW5jdGlvbiAoKSB7IC8vIChOdW1iZXIgaW5kZXgsIE51bWJlciBob3dNYW55KQ0KCQl2YXIgcmVtb3ZlZCA9IFtdLnNwbGljZS5hcHBseSh0aGlzLl9sYXRsbmdzLCBhcmd1bWVudHMpOw0KCQl0aGlzLl9jb252ZXJ0TGF0TG5ncyh0aGlzLl9sYXRsbmdzLCB0cnVlKTsNCgkJdGhpcy5yZWRyYXcoKTsNCgkJcmV0dXJuIHJlbW92ZWQ7DQoJfSwNCg0KCWNsb3Nlc3RMYXllclBvaW50OiBmdW5jdGlvbiAocCkgew0KCQl2YXIgbWluRGlzdGFuY2UgPSBJbmZpbml0eSwgcGFydHMgPSB0aGlzLl9wYXJ0cywgcDEsIHAyLCBtaW5Qb2ludCA9IG51bGw7DQoNCgkJZm9yICh2YXIgaiA9IDAsIGpMZW4gPSBwYXJ0cy5sZW5ndGg7IGogPCBqTGVuOyBqKyspIHsNCgkJCXZhciBwb2ludHMgPSBwYXJ0c1tqXTsNCgkJCWZvciAodmFyIGkgPSAxLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCQlwMSA9IHBvaW50c1tpIC0gMV07DQoJCQkJcDIgPSBwb2ludHNbaV07DQoJCQkJdmFyIHNxRGlzdCA9IEwuTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMiwgdHJ1ZSk7DQoJCQkJaWYgKHNxRGlzdCA8IG1pbkRpc3RhbmNlKSB7DQoJCQkJCW1pbkRpc3RhbmNlID0gc3FEaXN0Ow0KCQkJCQltaW5Qb2ludCA9IEwuTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHAsIHAxLCBwMik7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWlmIChtaW5Qb2ludCkgew0KCQkJbWluUG9pbnQuZGlzdGFuY2UgPSBNYXRoLnNxcnQobWluRGlzdGFuY2UpOw0KCQl9DQoJCXJldHVybiBtaW5Qb2ludDsNCgl9LA0KDQoJZ2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiBuZXcgTC5MYXRMbmdCb3VuZHModGhpcy5nZXRMYXRMbmdzKCkpOw0KCX0sDQoNCglfY29udmVydExhdExuZ3M6IGZ1bmN0aW9uIChsYXRsbmdzLCBvdmVyd3JpdGUpIHsNCgkJdmFyIGksIGxlbiwgdGFyZ2V0ID0gb3ZlcndyaXRlID8gbGF0bG5ncyA6IFtdOw0KDQoJCWZvciAoaSA9IDAsIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCWlmIChMLlV0aWwuaXNBcnJheShsYXRsbmdzW2ldKSAmJiB0eXBlb2YgbGF0bG5nc1tpXVswXSAhPT0gJ251bWJlcicpIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQl0YXJnZXRbaV0gPSBMLmxhdExuZyhsYXRsbmdzW2ldKTsNCgkJfQ0KCQlyZXR1cm4gdGFyZ2V0Ow0KCX0sDQoNCglfaW5pdEV2ZW50czogZnVuY3Rpb24gKCkgew0KCQlMLlBhdGgucHJvdG90eXBlLl9pbml0RXZlbnRzLmNhbGwodGhpcyk7DQoJfSwNCg0KCV9nZXRQYXRoUGFydFN0cjogZnVuY3Rpb24gKHBvaW50cykgew0KCQl2YXIgcm91bmQgPSBMLlBhdGguVk1MOw0KDQoJCWZvciAodmFyIGogPSAwLCBsZW4yID0gcG9pbnRzLmxlbmd0aCwgc3RyID0gJycsIHA7IGogPCBsZW4yOyBqKyspIHsNCgkJCXAgPSBwb2ludHNbal07DQoJCQlpZiAocm91bmQpIHsNCgkJCQlwLl9yb3VuZCgpOw0KCQkJfQ0KCQkJc3RyICs9IChqID8gJ0wnIDogJ00nKSArIHAueCArICcgJyArIHAueTsNCgkJfQ0KCQlyZXR1cm4gc3RyOw0KCX0sDQoNCglfY2xpcFBvaW50czogZnVuY3Rpb24gKCkgew0KCQl2YXIgcG9pbnRzID0gdGhpcy5fb3JpZ2luYWxQb2ludHMsDQoJCSAgICBsZW4gPSBwb2ludHMubGVuZ3RoLA0KCQkgICAgaSwgaywgc2VnbWVudDsNCg0KCQlpZiAodGhpcy5vcHRpb25zLm5vQ2xpcCkgew0KCQkJdGhpcy5fcGFydHMgPSBbcG9pbnRzXTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCXRoaXMuX3BhcnRzID0gW107DQoNCgkJdmFyIHBhcnRzID0gdGhpcy5fcGFydHMsDQoJCSAgICB2cCA9IHRoaXMuX21hcC5fcGF0aFZpZXdwb3J0LA0KCQkgICAgbHUgPSBMLkxpbmVVdGlsOw0KDQoJCWZvciAoaSA9IDAsIGsgPSAwOyBpIDwgbGVuIC0gMTsgaSsrKSB7DQoJCQlzZWdtZW50ID0gbHUuY2xpcFNlZ21lbnQocG9pbnRzW2ldLCBwb2ludHNbaSArIDFdLCB2cCwgaSk7DQoJCQlpZiAoIXNlZ21lbnQpIHsNCgkJCQljb250aW51ZTsNCgkJCX0NCg0KCQkJcGFydHNba10gPSBwYXJ0c1trXSB8fCBbXTsNCgkJCXBhcnRzW2tdLnB1c2goc2VnbWVudFswXSk7DQoNCgkJCS8vIGlmIHNlZ21lbnQgZ29lcyBvdXQgb2Ygc2NyZWVuLCBvciBpdCdzIHRoZSBsYXN0IG9uZSwgaXQncyB0aGUgZW5kIG9mIHRoZSBsaW5lIHBhcnQNCgkJCWlmICgoc2VnbWVudFsxXSAhPT0gcG9pbnRzW2kgKyAxXSkgfHwgKGkgPT09IGxlbiAtIDIpKSB7DQoJCQkJcGFydHNba10ucHVzaChzZWdtZW50WzFdKTsNCgkJCQlrKys7DQoJCQl9DQoJCX0NCgl9LA0KDQoJLy8gc2ltcGxpZnkgZWFjaCBjbGlwcGVkIHBhcnQgb2YgdGhlIHBvbHlsaW5lDQoJX3NpbXBsaWZ5UG9pbnRzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBwYXJ0cyA9IHRoaXMuX3BhcnRzLA0KCQkgICAgbHUgPSBMLkxpbmVVdGlsOw0KDQoJCWZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJcGFydHNbaV0gPSBsdS5zaW1wbGlmeShwYXJ0c1tpXSwgdGhpcy5vcHRpb25zLnNtb290aEZhY3Rvcik7DQoJCX0NCgl9LA0KDQoJX3VwZGF0ZVBhdGg6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCF0aGlzLl9tYXApIHsgcmV0dXJuOyB9DQoNCgkJdGhpcy5fY2xpcFBvaW50cygpOw0KCQl0aGlzLl9zaW1wbGlmeVBvaW50cygpOw0KDQoJCUwuUGF0aC5wcm90b3R5cGUuX3VwZGF0ZVBhdGguY2FsbCh0aGlzKTsNCgl9DQp9KTsNCg0KTC5wb2x5bGluZSA9IGZ1bmN0aW9uIChsYXRsbmdzLCBvcHRpb25zKSB7DQoJcmV0dXJuIG5ldyBMLlBvbHlsaW5lKGxhdGxuZ3MsIG9wdGlvbnMpOw0KfTsNCgoKLyoNCiAqIEwuUG9seVV0aWwgY29udGFpbnMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHBvbHlnb25zIChjbGlwcGluZywgZXRjLikuDQogKi8NCg0KLypqc2hpbnQgYml0d2lzZTpmYWxzZSAqLyAvLyBhbGxvdyBiaXR3aXNlIG9wZXJhdGlvbnMgaGVyZQ0KDQpMLlBvbHlVdGlsID0ge307DQoNCi8qDQogKiBTdXRoZXJsYW5kLUhvZGdlbWFuIHBvbHlnb24gY2xpcHBpbmcgYWxnb3JpdGhtLg0KICogVXNlZCB0byBhdm9pZCByZW5kZXJpbmcgcGFydHMgb2YgYSBwb2x5Z29uIHRoYXQgYXJlIG5vdCBjdXJyZW50bHkgdmlzaWJsZS4NCiAqLw0KTC5Qb2x5VXRpbC5jbGlwUG9seWdvbiA9IGZ1bmN0aW9uIChwb2ludHMsIGJvdW5kcykgew0KCXZhciBjbGlwcGVkUG9pbnRzLA0KCSAgICBlZGdlcyA9IFsxLCA0LCAyLCA4XSwNCgkgICAgaSwgaiwgaywNCgkgICAgYSwgYiwNCgkgICAgbGVuLCBlZGdlLCBwLA0KCSAgICBsdSA9IEwuTGluZVV0aWw7DQoNCglmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJcG9pbnRzW2ldLl9jb2RlID0gbHUuX2dldEJpdENvZGUocG9pbnRzW2ldLCBib3VuZHMpOw0KCX0NCg0KCS8vIGZvciBlYWNoIGVkZ2UgKGxlZnQsIGJvdHRvbSwgcmlnaHQsIHRvcCkNCglmb3IgKGsgPSAwOyBrIDwgNDsgaysrKSB7DQoJCWVkZ2UgPSBlZGdlc1trXTsNCgkJY2xpcHBlZFBvaW50cyA9IFtdOw0KDQoJCWZvciAoaSA9IDAsIGxlbiA9IHBvaW50cy5sZW5ndGgsIGogPSBsZW4gLSAxOyBpIDwgbGVuOyBqID0gaSsrKSB7DQoJCQlhID0gcG9pbnRzW2ldOw0KCQkJYiA9IHBvaW50c1tqXTsNCg0KCQkJLy8gaWYgYSBpcyBpbnNpZGUgdGhlIGNsaXAgd2luZG93DQoJCQlpZiAoIShhLl9jb2RlICYgZWRnZSkpIHsNCgkJCQkvLyBpZiBiIGlzIG91dHNpZGUgdGhlIGNsaXAgd2luZG93IChhLT5iIGdvZXMgb3V0IG9mIHNjcmVlbikNCgkJCQlpZiAoYi5fY29kZSAmIGVkZ2UpIHsNCgkJCQkJcCA9IGx1Ll9nZXRFZGdlSW50ZXJzZWN0aW9uKGIsIGEsIGVkZ2UsIGJvdW5kcyk7DQoJCQkJCXAuX2NvZGUgPSBsdS5fZ2V0Qml0Q29kZShwLCBib3VuZHMpOw0KCQkJCQljbGlwcGVkUG9pbnRzLnB1c2gocCk7DQoJCQkJfQ0KCQkJCWNsaXBwZWRQb2ludHMucHVzaChhKTsNCg0KCQkJLy8gZWxzZSBpZiBiIGlzIGluc2lkZSB0aGUgY2xpcCB3aW5kb3cgKGEtPmIgZW50ZXJzIHRoZSBzY3JlZW4pDQoJCQl9IGVsc2UgaWYgKCEoYi5fY29kZSAmIGVkZ2UpKSB7DQoJCQkJcCA9IGx1Ll9nZXRFZGdlSW50ZXJzZWN0aW9uKGIsIGEsIGVkZ2UsIGJvdW5kcyk7DQoJCQkJcC5fY29kZSA9IGx1Ll9nZXRCaXRDb2RlKHAsIGJvdW5kcyk7DQoJCQkJY2xpcHBlZFBvaW50cy5wdXNoKHApOw0KCQkJfQ0KCQl9DQoJCXBvaW50cyA9IGNsaXBwZWRQb2ludHM7DQoJfQ0KDQoJcmV0dXJuIHBvaW50czsNCn07DQoKCi8qDQogKiBMLlBvbHlnb24gaXMgdXNlZCB0byBkaXNwbGF5IHBvbHlnb25zIG9uIGEgbWFwLg0KICovDQoNCkwuUG9seWdvbiA9IEwuUG9seWxpbmUuZXh0ZW5kKHsNCglvcHRpb25zOiB7DQoJCWZpbGw6IHRydWUNCgl9LA0KDQoJaW5pdGlhbGl6ZTogZnVuY3Rpb24gKGxhdGxuZ3MsIG9wdGlvbnMpIHsNCgkJTC5Qb2x5bGluZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGxhdGxuZ3MsIG9wdGlvbnMpOw0KCQl0aGlzLl9pbml0V2l0aEhvbGVzKGxhdGxuZ3MpOw0KCX0sDQoNCglfaW5pdFdpdGhIb2xlczogZnVuY3Rpb24gKGxhdGxuZ3MpIHsNCgkJdmFyIGksIGxlbiwgaG9sZTsNCgkJaWYgKGxhdGxuZ3MgJiYgTC5VdGlsLmlzQXJyYXkobGF0bG5nc1swXSkgJiYgKHR5cGVvZiBsYXRsbmdzWzBdWzBdICE9PSAnbnVtYmVyJykpIHsNCgkJCXRoaXMuX2xhdGxuZ3MgPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyhsYXRsbmdzWzBdKTsNCgkJCXRoaXMuX2hvbGVzID0gbGF0bG5ncy5zbGljZSgxKTsNCg0KCQkJZm9yIChpID0gMCwgbGVuID0gdGhpcy5faG9sZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCQlob2xlID0gdGhpcy5faG9sZXNbaV0gPSB0aGlzLl9jb252ZXJ0TGF0TG5ncyh0aGlzLl9ob2xlc1tpXSk7DQoJCQkJaWYgKGhvbGVbMF0uZXF1YWxzKGhvbGVbaG9sZS5sZW5ndGggLSAxXSkpIHsNCgkJCQkJaG9sZS5wb3AoKTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQkvLyBmaWx0ZXIgb3V0IGxhc3QgcG9pbnQgaWYgaXRzIGVxdWFsIHRvIHRoZSBmaXJzdCBvbmUNCgkJbGF0bG5ncyA9IHRoaXMuX2xhdGxuZ3M7DQoNCgkJaWYgKGxhdGxuZ3MubGVuZ3RoID49IDIgJiYgbGF0bG5nc1swXS5lcXVhbHMobGF0bG5nc1tsYXRsbmdzLmxlbmd0aCAtIDFdKSkgew0KCQkJbGF0bG5ncy5wb3AoKTsNCgkJfQ0KCX0sDQoNCglwcm9qZWN0TGF0bG5nczogZnVuY3Rpb24gKCkgew0KCQlMLlBvbHlsaW5lLnByb3RvdHlwZS5wcm9qZWN0TGF0bG5ncy5jYWxsKHRoaXMpOw0KDQoJCS8vIHByb2plY3QgcG9seWdvbiBob2xlcyBwb2ludHMNCgkJLy8gVE9ETyBtb3ZlIHRoaXMgbG9naWMgdG8gUG9seWxpbmUgdG8gZ2V0IHJpZCBvZiBkdXBsaWNhdGlvbg0KCQl0aGlzLl9ob2xlUG9pbnRzID0gW107DQoNCgkJaWYgKCF0aGlzLl9ob2xlcykgeyByZXR1cm47IH0NCg0KCQl2YXIgaSwgaiwgbGVuLCBsZW4yOw0KDQoJCWZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX2hvbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7DQoJCQl0aGlzLl9ob2xlUG9pbnRzW2ldID0gW107DQoNCgkJCWZvciAoaiA9IDAsIGxlbjIgPSB0aGlzLl9ob2xlc1tpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHsNCgkJCQl0aGlzLl9ob2xlUG9pbnRzW2ldW2pdID0gdGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9ob2xlc1tpXVtqXSk7DQoJCQl9DQoJCX0NCgl9LA0KDQoJc2V0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHsNCgkJaWYgKGxhdGxuZ3MgJiYgTC5VdGlsLmlzQXJyYXkobGF0bG5nc1swXSkgJiYgKHR5cGVvZiBsYXRsbmdzWzBdWzBdICE9PSAnbnVtYmVyJykpIHsNCgkJCXRoaXMuX2luaXRXaXRoSG9sZXMobGF0bG5ncyk7DQoJCQlyZXR1cm4gdGhpcy5yZWRyYXcoKTsNCgkJfSBlbHNlIHsNCgkJCXJldHVybiBMLlBvbHlsaW5lLnByb3RvdHlwZS5zZXRMYXRMbmdzLmNhbGwodGhpcywgbGF0bG5ncyk7DQoJCX0NCgl9LA0KDQoJX2NsaXBQb2ludHM6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIHBvaW50cyA9IHRoaXMuX29yaWdpbmFsUG9pbnRzLA0KCQkgICAgbmV3UGFydHMgPSBbXTsNCg0KCQl0aGlzLl9wYXJ0cyA9IFtwb2ludHNdLmNvbmNhdCh0aGlzLl9ob2xlUG9pbnRzKTsNCg0KCQlpZiAodGhpcy5vcHRpb25zLm5vQ2xpcCkgeyByZXR1cm47IH0NCg0KCQlmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fcGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCXZhciBjbGlwcGVkID0gTC5Qb2x5VXRpbC5jbGlwUG9seWdvbih0aGlzLl9wYXJ0c1tpXSwgdGhpcy5fbWFwLl9wYXRoVmlld3BvcnQpOw0KCQkJaWYgKGNsaXBwZWQubGVuZ3RoKSB7DQoJCQkJbmV3UGFydHMucHVzaChjbGlwcGVkKTsNCgkJCX0NCgkJfQ0KDQoJCXRoaXMuX3BhcnRzID0gbmV3UGFydHM7DQoJfSwNCg0KCV9nZXRQYXRoUGFydFN0cjogZnVuY3Rpb24gKHBvaW50cykgew0KCQl2YXIgc3RyID0gTC5Qb2x5bGluZS5wcm90b3R5cGUuX2dldFBhdGhQYXJ0U3RyLmNhbGwodGhpcywgcG9pbnRzKTsNCgkJcmV0dXJuIHN0ciArIChMLkJyb3dzZXIuc3ZnID8gJ3onIDogJ3gnKTsNCgl9DQp9KTsNCg0KTC5wb2x5Z29uID0gZnVuY3Rpb24gKGxhdGxuZ3MsIG9wdGlvbnMpIHsNCglyZXR1cm4gbmV3IEwuUG9seWdvbihsYXRsbmdzLCBvcHRpb25zKTsNCn07DQoKCi8qDQogKiBDb250YWlucyBMLk11bHRpUG9seWxpbmUgYW5kIEwuTXVsdGlQb2x5Z29uIGxheWVycy4NCiAqLw0KDQooZnVuY3Rpb24gKCkgew0KCWZ1bmN0aW9uIGNyZWF0ZU11bHRpKEtsYXNzKSB7DQoNCgkJcmV0dXJuIEwuRmVhdHVyZUdyb3VwLmV4dGVuZCh7DQoNCgkJCWluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmdzLCBvcHRpb25zKSB7DQoJCQkJdGhpcy5fbGF5ZXJzID0ge307DQoJCQkJdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7DQoJCQkJdGhpcy5zZXRMYXRMbmdzKGxhdGxuZ3MpOw0KCQkJfSwNCg0KCQkJc2V0TGF0TG5nczogZnVuY3Rpb24gKGxhdGxuZ3MpIHsNCgkJCQl2YXIgaSA9IDAsDQoJCQkJICAgIGxlbiA9IGxhdGxuZ3MubGVuZ3RoOw0KDQoJCQkJdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7DQoJCQkJCWlmIChpIDwgbGVuKSB7DQoJCQkJCQlsYXllci5zZXRMYXRMbmdzKGxhdGxuZ3NbaSsrXSk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQl0aGlzLnJlbW92ZUxheWVyKGxheWVyKTsNCgkJCQkJfQ0KCQkJCX0sIHRoaXMpOw0KDQoJCQkJd2hpbGUgKGkgPCBsZW4pIHsNCgkJCQkJdGhpcy5hZGRMYXllcihuZXcgS2xhc3MobGF0bG5nc1tpKytdLCB0aGlzLl9vcHRpb25zKSk7DQoJCQkJfQ0KDQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9LA0KDQoJCQlnZXRMYXRMbmdzOiBmdW5jdGlvbiAoKSB7DQoJCQkJdmFyIGxhdGxuZ3MgPSBbXTsNCg0KCQkJCXRoaXMuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikgew0KCQkJCQlsYXRsbmdzLnB1c2gobGF5ZXIuZ2V0TGF0TG5ncygpKTsNCgkJCQl9KTsNCg0KCQkJCXJldHVybiBsYXRsbmdzOw0KCQkJfQ0KCQl9KTsNCgl9DQoNCglMLk11bHRpUG9seWxpbmUgPSBjcmVhdGVNdWx0aShMLlBvbHlsaW5lKTsNCglMLk11bHRpUG9seWdvbiA9IGNyZWF0ZU11bHRpKEwuUG9seWdvbik7DQoNCglMLm11bHRpUG9seWxpbmUgPSBmdW5jdGlvbiAobGF0bG5ncywgb3B0aW9ucykgew0KCQlyZXR1cm4gbmV3IEwuTXVsdGlQb2x5bGluZShsYXRsbmdzLCBvcHRpb25zKTsNCgl9Ow0KDQoJTC5tdWx0aVBvbHlnb24gPSBmdW5jdGlvbiAobGF0bG5ncywgb3B0aW9ucykgew0KCQlyZXR1cm4gbmV3IEwuTXVsdGlQb2x5Z29uKGxhdGxuZ3MsIG9wdGlvbnMpOw0KCX07DQp9KCkpOw0KCgovKg0KICogTC5SZWN0YW5nbGUgZXh0ZW5kcyBQb2x5Z29uIGFuZCBjcmVhdGVzIGEgcmVjdGFuZ2xlIHdoZW4gcGFzc2VkIGEgTGF0TG5nQm91bmRzIG9iamVjdC4NCiAqLw0KDQpMLlJlY3RhbmdsZSA9IEwuUG9seWdvbi5leHRlbmQoew0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMsIG9wdGlvbnMpIHsNCgkJTC5Qb2x5Z29uLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgdGhpcy5fYm91bmRzVG9MYXRMbmdzKGxhdExuZ0JvdW5kcyksIG9wdGlvbnMpOw0KCX0sDQoNCglzZXRCb3VuZHM6IGZ1bmN0aW9uIChsYXRMbmdCb3VuZHMpIHsNCgkJdGhpcy5zZXRMYXRMbmdzKHRoaXMuX2JvdW5kc1RvTGF0TG5ncyhsYXRMbmdCb3VuZHMpKTsNCgl9LA0KDQoJX2JvdW5kc1RvTGF0TG5nczogZnVuY3Rpb24gKGxhdExuZ0JvdW5kcykgew0KCQlsYXRMbmdCb3VuZHMgPSBMLmxhdExuZ0JvdW5kcyhsYXRMbmdCb3VuZHMpOw0KCQlyZXR1cm4gWw0KCQkJbGF0TG5nQm91bmRzLmdldFNvdXRoV2VzdCgpLA0KCQkJbGF0TG5nQm91bmRzLmdldE5vcnRoV2VzdCgpLA0KCQkJbGF0TG5nQm91bmRzLmdldE5vcnRoRWFzdCgpLA0KCQkJbGF0TG5nQm91bmRzLmdldFNvdXRoRWFzdCgpDQoJCV07DQoJfQ0KfSk7DQoNCkwucmVjdGFuZ2xlID0gZnVuY3Rpb24gKGxhdExuZ0JvdW5kcywgb3B0aW9ucykgew0KCXJldHVybiBuZXcgTC5SZWN0YW5nbGUobGF0TG5nQm91bmRzLCBvcHRpb25zKTsNCn07DQoKCi8qDQogKiBMLkNpcmNsZSBpcyBhIGNpcmNsZSBvdmVybGF5ICh3aXRoIGEgY2VydGFpbiByYWRpdXMgaW4gbWV0ZXJzKS4NCiAqLw0KDQpMLkNpcmNsZSA9IEwuUGF0aC5leHRlbmQoew0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIHJhZGl1cywgb3B0aW9ucykgew0KCQlMLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBvcHRpb25zKTsNCg0KCQl0aGlzLl9sYXRsbmcgPSBMLmxhdExuZyhsYXRsbmcpOw0KCQl0aGlzLl9tUmFkaXVzID0gcmFkaXVzOw0KCX0sDQoNCglvcHRpb25zOiB7DQoJCWZpbGw6IHRydWUNCgl9LA0KDQoJc2V0TGF0TG5nOiBmdW5jdGlvbiAobGF0bG5nKSB7DQoJCXRoaXMuX2xhdGxuZyA9IEwubGF0TG5nKGxhdGxuZyk7DQoJCXJldHVybiB0aGlzLnJlZHJhdygpOw0KCX0sDQoNCglzZXRSYWRpdXM6IGZ1bmN0aW9uIChyYWRpdXMpIHsNCgkJdGhpcy5fbVJhZGl1cyA9IHJhZGl1czsNCgkJcmV0dXJuIHRoaXMucmVkcmF3KCk7DQoJfSwNCg0KCXByb2plY3RMYXRsbmdzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBsbmdSYWRpdXMgPSB0aGlzLl9nZXRMbmdSYWRpdXMoKSwNCgkJICAgIGxhdGxuZyA9IHRoaXMuX2xhdGxuZywNCgkJICAgIHBvaW50TGVmdCA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQoW2xhdGxuZy5sYXQsIGxhdGxuZy5sbmcgLSBsbmdSYWRpdXNdKTsNCg0KCQl0aGlzLl9wb2ludCA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQobGF0bG5nKTsNCgkJdGhpcy5fcmFkaXVzID0gTWF0aC5tYXgodGhpcy5fcG9pbnQueCAtIHBvaW50TGVmdC54LCAxKTsNCgl9LA0KDQoJZ2V0Qm91bmRzOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBsbmdSYWRpdXMgPSB0aGlzLl9nZXRMbmdSYWRpdXMoKSwNCgkJICAgIGxhdFJhZGl1cyA9ICh0aGlzLl9tUmFkaXVzIC8gNDAwNzUwMTcpICogMzYwLA0KCQkgICAgbGF0bG5nID0gdGhpcy5fbGF0bG5nOw0KDQoJCXJldHVybiBuZXcgTC5MYXRMbmdCb3VuZHMoDQoJCSAgICAgICAgW2xhdGxuZy5sYXQgLSBsYXRSYWRpdXMsIGxhdGxuZy5sbmcgLSBsbmdSYWRpdXNdLA0KCQkgICAgICAgIFtsYXRsbmcubGF0ICsgbGF0UmFkaXVzLCBsYXRsbmcubG5nICsgbG5nUmFkaXVzXSk7DQoJfSwNCg0KCWdldExhdExuZzogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gdGhpcy5fbGF0bG5nOw0KCX0sDQoNCglnZXRQYXRoU3RyaW5nOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBwID0gdGhpcy5fcG9pbnQsDQoJCSAgICByID0gdGhpcy5fcmFkaXVzOw0KDQoJCWlmICh0aGlzLl9jaGVja0lmRW1wdHkoKSkgew0KCQkJcmV0dXJuICcnOw0KCQl9DQoNCgkJaWYgKEwuQnJvd3Nlci5zdmcpIHsNCgkJCXJldHVybiAnTScgKyBwLnggKyAnLCcgKyAocC55IC0gcikgKw0KCQkJICAgICAgICdBJyArIHIgKyAnLCcgKyByICsgJywwLDEsMSwnICsNCgkJCSAgICAgICAocC54IC0gMC4xKSArICcsJyArIChwLnkgLSByKSArICcgeic7DQoJCX0gZWxzZSB7DQoJCQlwLl9yb3VuZCgpOw0KCQkJciA9IE1hdGgucm91bmQocik7DQoJCQlyZXR1cm4gJ0FMICcgKyBwLnggKyAnLCcgKyBwLnkgKyAnICcgKyByICsgJywnICsgciArICcgMCwnICsgKDY1NTM1ICogMzYwKTsNCgkJfQ0KCX0sDQoNCglnZXRSYWRpdXM6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX21SYWRpdXM7DQoJfSwNCg0KCS8vIFRPRE8gRWFydGggaGFyZGNvZGVkLCBtb3ZlIGludG8gcHJvamVjdGlvbiBjb2RlIQ0KDQoJX2dldExhdFJhZGl1czogZnVuY3Rpb24gKCkgew0KCQlyZXR1cm4gKHRoaXMuX21SYWRpdXMgLyA0MDA3NTAxNykgKiAzNjA7DQoJfSwNCg0KCV9nZXRMbmdSYWRpdXM6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX2dldExhdFJhZGl1cygpIC8gTWF0aC5jb3MoTC5MYXRMbmcuREVHX1RPX1JBRCAqIHRoaXMuX2xhdGxuZy5sYXQpOw0KCX0sDQoNCglfY2hlY2tJZkVtcHR5OiBmdW5jdGlvbiAoKSB7DQoJCWlmICghdGhpcy5fbWFwKSB7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgkJdmFyIHZwID0gdGhpcy5fbWFwLl9wYXRoVmlld3BvcnQsDQoJCSAgICByID0gdGhpcy5fcmFkaXVzLA0KCQkgICAgcCA9IHRoaXMuX3BvaW50Ow0KDQoJCXJldHVybiBwLnggLSByID4gdnAubWF4LnggfHwgcC55IC0gciA+IHZwLm1heC55IHx8DQoJCSAgICAgICBwLnggKyByIDwgdnAubWluLnggfHwgcC55ICsgciA8IHZwLm1pbi55Ow0KCX0NCn0pOw0KDQpMLmNpcmNsZSA9IGZ1bmN0aW9uIChsYXRsbmcsIHJhZGl1cywgb3B0aW9ucykgew0KCXJldHVybiBuZXcgTC5DaXJjbGUobGF0bG5nLCByYWRpdXMsIG9wdGlvbnMpOw0KfTsNCgoKLyoNCiAqIEwuQ2lyY2xlTWFya2VyIGlzIGEgY2lyY2xlIG92ZXJsYXkgd2l0aCBhIHBlcm1hbmVudCBwaXhlbCByYWRpdXMuDQogKi8NCg0KTC5DaXJjbGVNYXJrZXIgPSBMLkNpcmNsZS5leHRlbmQoew0KCW9wdGlvbnM6IHsNCgkJcmFkaXVzOiAxMCwNCgkJd2VpZ2h0OiAyDQoJfSwNCg0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmcsIG9wdGlvbnMpIHsNCgkJTC5DaXJjbGUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBsYXRsbmcsIG51bGwsIG9wdGlvbnMpOw0KCQl0aGlzLl9yYWRpdXMgPSB0aGlzLm9wdGlvbnMucmFkaXVzOw0KCX0sDQoNCglwcm9qZWN0TGF0bG5nczogZnVuY3Rpb24gKCkgew0KCQl0aGlzLl9wb2ludCA9IHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKTsNCgl9LA0KDQoJX3VwZGF0ZVN0eWxlIDogZnVuY3Rpb24gKCkgew0KCQlMLkNpcmNsZS5wcm90b3R5cGUuX3VwZGF0ZVN0eWxlLmNhbGwodGhpcyk7DQoJCXRoaXMuc2V0UmFkaXVzKHRoaXMub3B0aW9ucy5yYWRpdXMpOw0KCX0sDQoNCglzZXRMYXRMbmc6IGZ1bmN0aW9uIChsYXRsbmcpIHsNCgkJTC5DaXJjbGUucHJvdG90eXBlLnNldExhdExuZy5jYWxsKHRoaXMsIGxhdGxuZyk7DQoJCWlmICh0aGlzLl9wb3B1cCAmJiB0aGlzLl9wb3B1cC5faXNPcGVuKSB7DQoJCQl0aGlzLl9wb3B1cC5zZXRMYXRMbmcobGF0bG5nKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJc2V0UmFkaXVzOiBmdW5jdGlvbiAocmFkaXVzKSB7DQoJCXRoaXMub3B0aW9ucy5yYWRpdXMgPSB0aGlzLl9yYWRpdXMgPSByYWRpdXM7DQoJCXJldHVybiB0aGlzLnJlZHJhdygpOw0KCX0sDQoNCglnZXRSYWRpdXM6IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMuX3JhZGl1czsNCgl9DQp9KTsNCg0KTC5jaXJjbGVNYXJrZXIgPSBmdW5jdGlvbiAobGF0bG5nLCBvcHRpb25zKSB7DQoJcmV0dXJuIG5ldyBMLkNpcmNsZU1hcmtlcihsYXRsbmcsIG9wdGlvbnMpOw0KfTsNCgoKLyoNCiAqIEV4dGVuZHMgTC5Qb2x5bGluZSB0byBiZSBhYmxlIHRvIG1hbnVhbGx5IGRldGVjdCBjbGlja3Mgb24gQ2FudmFzLXJlbmRlcmVkIHBvbHlsaW5lcy4NCiAqLw0KDQpMLlBvbHlsaW5lLmluY2x1ZGUoIUwuUGF0aC5DQU5WQVMgPyB7fSA6IHsNCglfY29udGFpbnNQb2ludDogZnVuY3Rpb24gKHAsIGNsb3NlZCkgew0KCQl2YXIgaSwgaiwgaywgbGVuLCBsZW4yLCBkaXN0LCBwYXJ0LA0KCQkgICAgdyA9IHRoaXMub3B0aW9ucy53ZWlnaHQgLyAyOw0KDQoJCWlmIChMLkJyb3dzZXIudG91Y2gpIHsNCgkJCXcgKz0gMTA7IC8vIHBvbHlsaW5lIGNsaWNrIHRvbGVyYW5jZSBvbiB0b3VjaCBkZXZpY2VzDQoJCX0NCg0KCQlmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9wYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJcGFydCA9IHRoaXMuX3BhcnRzW2ldOw0KCQkJZm9yIChqID0gMCwgbGVuMiA9IHBhcnQubGVuZ3RoLCBrID0gbGVuMiAtIDE7IGogPCBsZW4yOyBrID0gaisrKSB7DQoJCQkJaWYgKCFjbG9zZWQgJiYgKGogPT09IDApKSB7DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCg0KCQkJCWRpc3QgPSBMLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UocCwgcGFydFtrXSwgcGFydFtqXSk7DQoNCgkJCQlpZiAoZGlzdCA8PSB3KSB7DQoJCQkJCXJldHVybiB0cnVlOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlyZXR1cm4gZmFsc2U7DQoJfQ0KfSk7DQoKCi8qDQogKiBFeHRlbmRzIEwuUG9seWdvbiB0byBiZSBhYmxlIHRvIG1hbnVhbGx5IGRldGVjdCBjbGlja3Mgb24gQ2FudmFzLXJlbmRlcmVkIHBvbHlnb25zLg0KICovDQoNCkwuUG9seWdvbi5pbmNsdWRlKCFMLlBhdGguQ0FOVkFTID8ge30gOiB7DQoJX2NvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uIChwKSB7DQoJCXZhciBpbnNpZGUgPSBmYWxzZSwNCgkJICAgIHBhcnQsIHAxLCBwMiwNCgkJICAgIGksIGosIGssDQoJCSAgICBsZW4sIGxlbjI7DQoNCgkJLy8gVE9ETyBvcHRpbWl6YXRpb246IGNoZWNrIGlmIHdpdGhpbiBib3VuZHMgZmlyc3QNCg0KCQlpZiAoTC5Qb2x5bGluZS5wcm90b3R5cGUuX2NvbnRhaW5zUG9pbnQuY2FsbCh0aGlzLCBwLCB0cnVlKSkgew0KCQkJLy8gY2xpY2sgb24gcG9seWdvbiBib3JkZXINCgkJCXJldHVybiB0cnVlOw0KCQl9DQoNCgkJLy8gcmF5IGNhc3RpbmcgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgaWYgcG9pbnQgaXMgaW4gcG9seWdvbg0KDQoJCWZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX3BhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7DQoJCQlwYXJ0ID0gdGhpcy5fcGFydHNbaV07DQoNCgkJCWZvciAoaiA9IDAsIGxlbjIgPSBwYXJ0Lmxlbmd0aCwgayA9IGxlbjIgLSAxOyBqIDwgbGVuMjsgayA9IGorKykgew0KCQkJCXAxID0gcGFydFtqXTsNCgkJCQlwMiA9IHBhcnRba107DQoNCgkJCQlpZiAoKChwMS55ID4gcC55KSAhPT0gKHAyLnkgPiBwLnkpKSAmJg0KCQkJCQkJKHAueCA8IChwMi54IC0gcDEueCkgKiAocC55IC0gcDEueSkgLyAocDIueSAtIHAxLnkpICsgcDEueCkpIHsNCgkJCQkJaW5zaWRlID0gIWluc2lkZTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gaW5zaWRlOw0KCX0NCn0pOw0KCgovKg0KICogRXh0ZW5kcyBMLkNpcmNsZSB3aXRoIENhbnZhcy1zcGVjaWZpYyBjb2RlLg0KICovDQoNCkwuQ2lyY2xlLmluY2x1ZGUoIUwuUGF0aC5DQU5WQVMgPyB7fSA6IHsNCglfZHJhd1BhdGg6IGZ1bmN0aW9uICgpIHsNCgkJdmFyIHAgPSB0aGlzLl9wb2ludDsNCgkJdGhpcy5fY3R4LmJlZ2luUGF0aCgpOw0KCQl0aGlzLl9jdHguYXJjKHAueCwgcC55LCB0aGlzLl9yYWRpdXMsIDAsIE1hdGguUEkgKiAyLCBmYWxzZSk7DQoJfSwNCg0KCV9jb250YWluc1BvaW50OiBmdW5jdGlvbiAocCkgew0KCQl2YXIgY2VudGVyID0gdGhpcy5fcG9pbnQsDQoJCSAgICB3MiA9IHRoaXMub3B0aW9ucy5zdHJva2UgPyB0aGlzLm9wdGlvbnMud2VpZ2h0IC8gMiA6IDA7DQoNCgkJcmV0dXJuIChwLmRpc3RhbmNlVG8oY2VudGVyKSA8PSB0aGlzLl9yYWRpdXMgKyB3Mik7DQoJfQ0KfSk7DQoKCi8qCiAqIENpcmNsZU1hcmtlciBjYW52YXMgc3BlY2lmaWMgZHJhd2luZyBwYXJ0cy4KICovCgpMLkNpcmNsZU1hcmtlci5pbmNsdWRlKCFMLlBhdGguQ0FOVkFTID8ge30gOiB7CglfdXBkYXRlU3R5bGU6IGZ1bmN0aW9uICgpIHsKCQlMLlBhdGgucHJvdG90eXBlLl91cGRhdGVTdHlsZS5jYWxsKHRoaXMpOwoJfQp9KTsKCgovKg0KICogTC5HZW9KU09OIHR1cm5zIGFueSBHZW9KU09OIGRhdGEgaW50byBhIExlYWZsZXQgbGF5ZXIuDQogKi8NCg0KTC5HZW9KU09OID0gTC5GZWF0dXJlR3JvdXAuZXh0ZW5kKHsNCg0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChnZW9qc29uLCBvcHRpb25zKSB7DQoJCUwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTsNCg0KCQl0aGlzLl9sYXllcnMgPSB7fTsNCg0KCQlpZiAoZ2VvanNvbikgew0KCQkJdGhpcy5hZGREYXRhKGdlb2pzb24pOw0KCQl9DQoJfSwNCg0KCWFkZERhdGE6IGZ1bmN0aW9uIChnZW9qc29uKSB7DQoJCXZhciBmZWF0dXJlcyA9IEwuVXRpbC5pc0FycmF5KGdlb2pzb24pID8gZ2VvanNvbiA6IGdlb2pzb24uZmVhdHVyZXMsDQoJCSAgICBpLCBsZW4sIGZlYXR1cmU7DQoNCgkJaWYgKGZlYXR1cmVzKSB7DQoJCQlmb3IgKGkgPSAwLCBsZW4gPSBmZWF0dXJlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KCQkJCS8vIE9ubHkgYWRkIHRoaXMgaWYgZ2VvbWV0cnkgb3IgZ2VvbWV0cmllcyBhcmUgc2V0IGFuZCBub3QgbnVsbA0KCQkJCWZlYXR1cmUgPSBmZWF0dXJlc1tpXTsNCgkJCQlpZiAoZmVhdHVyZS5nZW9tZXRyaWVzIHx8IGZlYXR1cmUuZ2VvbWV0cnkgfHwgZmVhdHVyZS5mZWF0dXJlcyB8fCBmZWF0dXJlLmNvb3JkaW5hdGVzKSB7DQoJCQkJCXRoaXMuYWRkRGF0YShmZWF0dXJlc1tpXSk7DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIHRoaXM7DQoJCX0NCg0KCQl2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsNCg0KCQlpZiAob3B0aW9ucy5maWx0ZXIgJiYgIW9wdGlvbnMuZmlsdGVyKGdlb2pzb24pKSB7IHJldHVybjsgfQ0KDQoJCXZhciBsYXllciA9IEwuR2VvSlNPTi5nZW9tZXRyeVRvTGF5ZXIoZ2VvanNvbiwgb3B0aW9ucy5wb2ludFRvTGF5ZXIsIG9wdGlvbnMuY29vcmRzVG9MYXRMbmcsIG9wdGlvbnMpOw0KCQlsYXllci5mZWF0dXJlID0gTC5HZW9KU09OLmFzRmVhdHVyZShnZW9qc29uKTsNCg0KCQlsYXllci5kZWZhdWx0T3B0aW9ucyA9IGxheWVyLm9wdGlvbnM7DQoJCXRoaXMucmVzZXRTdHlsZShsYXllcik7DQoNCgkJaWYgKG9wdGlvbnMub25FYWNoRmVhdHVyZSkgew0KCQkJb3B0aW9ucy5vbkVhY2hGZWF0dXJlKGdlb2pzb24sIGxheWVyKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzLmFkZExheWVyKGxheWVyKTsNCgl9LA0KDQoJcmVzZXRTdHlsZTogZnVuY3Rpb24gKGxheWVyKSB7DQoJCXZhciBzdHlsZSA9IHRoaXMub3B0aW9ucy5zdHlsZTsNCgkJaWYgKHN0eWxlKSB7DQoJCQkvLyByZXNldCBhbnkgY3VzdG9tIHN0eWxlcw0KCQkJTC5VdGlsLmV4dGVuZChsYXllci5vcHRpb25zLCBsYXllci5kZWZhdWx0T3B0aW9ucyk7DQoNCgkJCXRoaXMuX3NldExheWVyU3R5bGUobGF5ZXIsIHN0eWxlKTsNCgkJfQ0KCX0sDQoNCglzZXRTdHlsZTogZnVuY3Rpb24gKHN0eWxlKSB7DQoJCXRoaXMuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikgew0KCQkJdGhpcy5fc2V0TGF5ZXJTdHlsZShsYXllciwgc3R5bGUpOw0KCQl9LCB0aGlzKTsNCgl9LA0KDQoJX3NldExheWVyU3R5bGU6IGZ1bmN0aW9uIChsYXllciwgc3R5bGUpIHsNCgkJaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ2Z1bmN0aW9uJykgew0KCQkJc3R5bGUgPSBzdHlsZShsYXllci5mZWF0dXJlKTsNCgkJfQ0KCQlpZiAobGF5ZXIuc2V0U3R5bGUpIHsNCgkJCWxheWVyLnNldFN0eWxlKHN0eWxlKTsNCgkJfQ0KCX0NCn0pOw0KDQpMLmV4dGVuZChMLkdlb0pTT04sIHsNCglnZW9tZXRyeVRvTGF5ZXI6IGZ1bmN0aW9uIChnZW9qc29uLCBwb2ludFRvTGF5ZXIsIGNvb3Jkc1RvTGF0TG5nLCB2ZWN0b3JPcHRpb25zKSB7DQoJCXZhciBnZW9tZXRyeSA9IGdlb2pzb24udHlwZSA9PT0gJ0ZlYXR1cmUnID8gZ2VvanNvbi5nZW9tZXRyeSA6IGdlb2pzb24sDQoJCSAgICBjb29yZHMgPSBnZW9tZXRyeS5jb29yZGluYXRlcywNCgkJICAgIGxheWVycyA9IFtdLA0KCQkgICAgbGF0bG5nLCBsYXRsbmdzLCBpLCBsZW47DQoNCgkJY29vcmRzVG9MYXRMbmcgPSBjb29yZHNUb0xhdExuZyB8fCB0aGlzLmNvb3Jkc1RvTGF0TG5nOw0KDQoJCXN3aXRjaCAoZ2VvbWV0cnkudHlwZSkgew0KCQljYXNlICdQb2ludCc6DQoJCQlsYXRsbmcgPSBjb29yZHNUb0xhdExuZyhjb29yZHMpOw0KCQkJcmV0dXJuIHBvaW50VG9MYXllciA/IHBvaW50VG9MYXllcihnZW9qc29uLCBsYXRsbmcpIDogbmV3IEwuTWFya2VyKGxhdGxuZyk7DQoNCgkJY2FzZSAnTXVsdGlQb2ludCc6DQoJCQlmb3IgKGkgPSAwLCBsZW4gPSBjb29yZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCQlsYXRsbmcgPSBjb29yZHNUb0xhdExuZyhjb29yZHNbaV0pOw0KCQkJCWxheWVycy5wdXNoKHBvaW50VG9MYXllciA/IHBvaW50VG9MYXllcihnZW9qc29uLCBsYXRsbmcpIDogbmV3IEwuTWFya2VyKGxhdGxuZykpOw0KCQkJfQ0KCQkJcmV0dXJuIG5ldyBMLkZlYXR1cmVHcm91cChsYXllcnMpOw0KDQoJCWNhc2UgJ0xpbmVTdHJpbmcnOg0KCQkJbGF0bG5ncyA9IHRoaXMuY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgMCwgY29vcmRzVG9MYXRMbmcpOw0KCQkJcmV0dXJuIG5ldyBMLlBvbHlsaW5lKGxhdGxuZ3MsIHZlY3Rvck9wdGlvbnMpOw0KDQoJCWNhc2UgJ1BvbHlnb24nOg0KCQkJaWYgKGNvb3Jkcy5sZW5ndGggPT09IDIgJiYgIWNvb3Jkc1sxXS5sZW5ndGgpIHsNCgkJCQl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgR2VvSlNPTiBvYmplY3QuJyk7DQoJCQl9DQoJCQlsYXRsbmdzID0gdGhpcy5jb29yZHNUb0xhdExuZ3MoY29vcmRzLCAxLCBjb29yZHNUb0xhdExuZyk7DQoJCQlyZXR1cm4gbmV3IEwuUG9seWdvbihsYXRsbmdzLCB2ZWN0b3JPcHRpb25zKTsNCg0KCQljYXNlICdNdWx0aUxpbmVTdHJpbmcnOg0KCQkJbGF0bG5ncyA9IHRoaXMuY29vcmRzVG9MYXRMbmdzKGNvb3JkcywgMSwgY29vcmRzVG9MYXRMbmcpOw0KCQkJcmV0dXJuIG5ldyBMLk11bHRpUG9seWxpbmUobGF0bG5ncywgdmVjdG9yT3B0aW9ucyk7DQoNCgkJY2FzZSAnTXVsdGlQb2x5Z29uJzoNCgkJCWxhdGxuZ3MgPSB0aGlzLmNvb3Jkc1RvTGF0TG5ncyhjb29yZHMsIDIsIGNvb3Jkc1RvTGF0TG5nKTsNCgkJCXJldHVybiBuZXcgTC5NdWx0aVBvbHlnb24obGF0bG5ncywgdmVjdG9yT3B0aW9ucyk7DQoNCgkJY2FzZSAnR2VvbWV0cnlDb2xsZWN0aW9uJzoNCgkJCWZvciAoaSA9IDAsIGxlbiA9IGdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCg0KCQkJCWxheWVycy5wdXNoKHRoaXMuZ2VvbWV0cnlUb0xheWVyKHsNCgkJCQkJZ2VvbWV0cnk6IGdlb21ldHJ5Lmdlb21ldHJpZXNbaV0sDQoJCQkJCXR5cGU6ICdGZWF0dXJlJywNCgkJCQkJcHJvcGVydGllczogZ2VvanNvbi5wcm9wZXJ0aWVzDQoJCQkJfSwgcG9pbnRUb0xheWVyLCBjb29yZHNUb0xhdExuZywgdmVjdG9yT3B0aW9ucykpOw0KCQkJfQ0KCQkJcmV0dXJuIG5ldyBMLkZlYXR1cmVHcm91cChsYXllcnMpOw0KDQoJCWRlZmF1bHQ6DQoJCQl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgR2VvSlNPTiBvYmplY3QuJyk7DQoJCX0NCgl9LA0KDQoJY29vcmRzVG9MYXRMbmc6IGZ1bmN0aW9uIChjb29yZHMpIHsgLy8gKEFycmF5WywgQm9vbGVhbl0pIC0+IExhdExuZw0KCQlyZXR1cm4gbmV3IEwuTGF0TG5nKGNvb3Jkc1sxXSwgY29vcmRzWzBdLCBjb29yZHNbMl0pOw0KCX0sDQoNCgljb29yZHNUb0xhdExuZ3M6IGZ1bmN0aW9uIChjb29yZHMsIGxldmVsc0RlZXAsIGNvb3Jkc1RvTGF0TG5nKSB7IC8vIChBcnJheVssIE51bWJlciwgRnVuY3Rpb25dKSAtPiBBcnJheQ0KCQl2YXIgbGF0bG5nLCBpLCBsZW4sDQoJCSAgICBsYXRsbmdzID0gW107DQoNCgkJZm9yIChpID0gMCwgbGVuID0gY29vcmRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7DQoJCQlsYXRsbmcgPSBsZXZlbHNEZWVwID8NCgkJCSAgICAgICAgdGhpcy5jb29yZHNUb0xhdExuZ3MoY29vcmRzW2ldLCBsZXZlbHNEZWVwIC0gMSwgY29vcmRzVG9MYXRMbmcpIDoNCgkJCSAgICAgICAgKGNvb3Jkc1RvTGF0TG5nIHx8IHRoaXMuY29vcmRzVG9MYXRMbmcpKGNvb3Jkc1tpXSk7DQoNCgkJCWxhdGxuZ3MucHVzaChsYXRsbmcpOw0KCQl9DQoNCgkJcmV0dXJuIGxhdGxuZ3M7DQoJfSwNCg0KCWxhdExuZ1RvQ29vcmRzOiBmdW5jdGlvbiAobGF0bG5nKSB7DQoJCXZhciBjb29yZHMgPSBbbGF0bG5nLmxuZywgbGF0bG5nLmxhdF07DQoNCgkJaWYgKGxhdGxuZy5hbHQgIT09IHVuZGVmaW5lZCkgew0KCQkJY29vcmRzLnB1c2gobGF0bG5nLmFsdCk7DQoJCX0NCgkJcmV0dXJuIGNvb3JkczsNCgl9LA0KDQoJbGF0TG5nc1RvQ29vcmRzOiBmdW5jdGlvbiAobGF0TG5ncykgew0KCQl2YXIgY29vcmRzID0gW107DQoNCgkJZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhdExuZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCgkJCWNvb3Jkcy5wdXNoKEwuR2VvSlNPTi5sYXRMbmdUb0Nvb3JkcyhsYXRMbmdzW2ldKSk7DQoJCX0NCg0KCQlyZXR1cm4gY29vcmRzOw0KCX0sDQoNCglnZXRGZWF0dXJlOiBmdW5jdGlvbiAobGF5ZXIsIG5ld0dlb21ldHJ5KSB7DQoJCXJldHVybiBsYXllci5mZWF0dXJlID8gTC5leHRlbmQoe30sIGxheWVyLmZlYXR1cmUsIHtnZW9tZXRyeTogbmV3R2VvbWV0cnl9KSA6IEwuR2VvSlNPTi5hc0ZlYXR1cmUobmV3R2VvbWV0cnkpOw0KCX0sDQoNCglhc0ZlYXR1cmU6IGZ1bmN0aW9uIChnZW9KU09OKSB7DQoJCWlmIChnZW9KU09OLnR5cGUgPT09ICdGZWF0dXJlJykgew0KCQkJcmV0dXJuIGdlb0pTT047DQoJCX0NCg0KCQlyZXR1cm4gew0KCQkJdHlwZTogJ0ZlYXR1cmUnLA0KCQkJcHJvcGVydGllczoge30sDQoJCQlnZW9tZXRyeTogZ2VvSlNPTg0KCQl9Ow0KCX0NCn0pOw0KDQp2YXIgUG9pbnRUb0dlb0pTT04gPSB7DQoJdG9HZW9KU09OOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7DQoJCQl0eXBlOiAnUG9pbnQnLA0KCQkJY29vcmRpbmF0ZXM6IEwuR2VvSlNPTi5sYXRMbmdUb0Nvb3Jkcyh0aGlzLmdldExhdExuZygpKQ0KCQl9KTsNCgl9DQp9Ow0KDQpMLk1hcmtlci5pbmNsdWRlKFBvaW50VG9HZW9KU09OKTsNCkwuQ2lyY2xlLmluY2x1ZGUoUG9pbnRUb0dlb0pTT04pOw0KTC5DaXJjbGVNYXJrZXIuaW5jbHVkZShQb2ludFRvR2VvSlNPTik7DQoNCkwuUG9seWxpbmUuaW5jbHVkZSh7DQoJdG9HZW9KU09OOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7DQoJCQl0eXBlOiAnTGluZVN0cmluZycsDQoJCQljb29yZGluYXRlczogTC5HZW9KU09OLmxhdExuZ3NUb0Nvb3Jkcyh0aGlzLmdldExhdExuZ3MoKSkNCgkJfSk7DQoJfQ0KfSk7DQoNCkwuUG9seWdvbi5pbmNsdWRlKHsNCgl0b0dlb0pTT046IGZ1bmN0aW9uICgpIHsNCgkJdmFyIGNvb3JkcyA9IFtMLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5ncygpKV0sDQoJCSAgICBpLCBsZW4sIGhvbGU7DQoNCgkJY29vcmRzWzBdLnB1c2goY29vcmRzWzBdWzBdKTsNCg0KCQlpZiAodGhpcy5faG9sZXMpIHsNCgkJCWZvciAoaSA9IDAsIGxlbiA9IHRoaXMuX2hvbGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7DQoJCQkJaG9sZSA9IEwuR2VvSlNPTi5sYXRMbmdzVG9Db29yZHModGhpcy5faG9sZXNbaV0pOw0KCQkJCWhvbGUucHVzaChob2xlWzBdKTsNCgkJCQljb29yZHMucHVzaChob2xlKTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7DQoJCQl0eXBlOiAnUG9seWdvbicsDQoJCQljb29yZGluYXRlczogY29vcmRzDQoJCX0pOw0KCX0NCn0pOw0KDQooZnVuY3Rpb24gKCkgew0KCWZ1bmN0aW9uIG11bHRpVG9HZW9KU09OKHR5cGUpIHsNCgkJcmV0dXJuIGZ1bmN0aW9uICgpIHsNCgkJCXZhciBjb29yZHMgPSBbXTsNCg0KCQkJdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7DQoJCQkJY29vcmRzLnB1c2gobGF5ZXIudG9HZW9KU09OKCkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpOw0KCQkJfSk7DQoNCgkJCXJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7DQoJCQkJdHlwZTogdHlwZSwNCgkJCQljb29yZGluYXRlczogY29vcmRzDQoJCQl9KTsNCgkJfTsNCgl9DQoNCglMLk11bHRpUG9seWxpbmUuaW5jbHVkZSh7dG9HZW9KU09OOiBtdWx0aVRvR2VvSlNPTignTXVsdGlMaW5lU3RyaW5nJyl9KTsNCglMLk11bHRpUG9seWdvbi5pbmNsdWRlKHt0b0dlb0pTT046IG11bHRpVG9HZW9KU09OKCdNdWx0aVBvbHlnb24nKX0pOw0KDQoJTC5MYXllckdyb3VwLmluY2x1ZGUoew0KCQl0b0dlb0pTT046IGZ1bmN0aW9uICgpIHsNCg0KCQkJdmFyIGdlb21ldHJ5ID0gdGhpcy5mZWF0dXJlICYmIHRoaXMuZmVhdHVyZS5nZW9tZXRyeSwNCgkJCQlqc29ucyA9IFtdLA0KCQkJCWpzb247DQoNCgkJCWlmIChnZW9tZXRyeSAmJiBnZW9tZXRyeS50eXBlID09PSAnTXVsdGlQb2ludCcpIHsNCgkJCQlyZXR1cm4gbXVsdGlUb0dlb0pTT04oJ011bHRpUG9pbnQnKS5jYWxsKHRoaXMpOw0KCQkJfQ0KDQoJCQl2YXIgaXNHZW9tZXRyeUNvbGxlY3Rpb24gPSBnZW9tZXRyeSAmJiBnZW9tZXRyeS50eXBlID09PSAnR2VvbWV0cnlDb2xsZWN0aW9uJzsNCg0KCQkJdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7DQoJCQkJaWYgKGxheWVyLnRvR2VvSlNPTikgew0KCQkJCQlqc29uID0gbGF5ZXIudG9HZW9KU09OKCk7DQoJCQkJCWpzb25zLnB1c2goaXNHZW9tZXRyeUNvbGxlY3Rpb24gPyBqc29uLmdlb21ldHJ5IDogTC5HZW9KU09OLmFzRmVhdHVyZShqc29uKSk7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCWlmIChpc0dlb21ldHJ5Q29sbGVjdGlvbikgew0KCQkJCXJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7DQoJCQkJCWdlb21ldHJpZXM6IGpzb25zLA0KCQkJCQl0eXBlOiAnR2VvbWV0cnlDb2xsZWN0aW9uJw0KCQkJCX0pOw0KCQkJfQ0KDQoJCQlyZXR1cm4gew0KCQkJCXR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsDQoJCQkJZmVhdHVyZXM6IGpzb25zDQoJCQl9Ow0KCQl9DQoJfSk7DQp9KCkpOw0KDQpMLmdlb0pzb24gPSBmdW5jdGlvbiAoZ2VvanNvbiwgb3B0aW9ucykgew0KCXJldHVybiBuZXcgTC5HZW9KU09OKGdlb2pzb24sIG9wdGlvbnMpOw0KfTsNCgoKLyoNCiAqIEwuRG9tRXZlbnQgY29udGFpbnMgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggRE9NIGV2ZW50cy4NCiAqLw0KDQpMLkRvbUV2ZW50ID0gew0KCS8qIGluc3BpcmVkIGJ5IEpvaG4gUmVzaWcsIERlYW4gRWR3YXJkcyBhbmQgWVVJIGFkZEV2ZW50IGltcGxlbWVudGF0aW9ucyAqLw0KCWFkZExpc3RlbmVyOiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgY29udGV4dCkgeyAvLyAoSFRNTEVsZW1lbnQsIFN0cmluZywgRnVuY3Rpb25bLCBPYmplY3RdKQ0KDQoJCXZhciBpZCA9IEwuc3RhbXAoZm4pLA0KCQkgICAga2V5ID0gJ19sZWFmbGV0XycgKyB0eXBlICsgaWQsDQoJCSAgICBoYW5kbGVyLCBvcmlnaW5hbEhhbmRsZXIsIG5ld1R5cGU7DQoNCgkJaWYgKG9ialtrZXldKSB7IHJldHVybiB0aGlzOyB9DQoNCgkJaGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7DQoJCQlyZXR1cm4gZm4uY2FsbChjb250ZXh0IHx8IG9iaiwgZSB8fCBMLkRvbUV2ZW50Ll9nZXRFdmVudCgpKTsNCgkJfTsNCg0KCQlpZiAoTC5Ccm93c2VyLnBvaW50ZXIgJiYgdHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAwKSB7DQoJCQlyZXR1cm4gdGhpcy5hZGRQb2ludGVyTGlzdGVuZXIob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCk7DQoJCX0NCgkJaWYgKEwuQnJvd3Nlci50b3VjaCAmJiAodHlwZSA9PT0gJ2RibGNsaWNrJykgJiYgdGhpcy5hZGREb3VibGVUYXBMaXN0ZW5lcikgew0KCQkJdGhpcy5hZGREb3VibGVUYXBMaXN0ZW5lcihvYmosIGhhbmRsZXIsIGlkKTsNCgkJfQ0KDQoJCWlmICgnYWRkRXZlbnRMaXN0ZW5lcicgaW4gb2JqKSB7DQoNCgkJCWlmICh0eXBlID09PSAnbW91c2V3aGVlbCcpIHsNCgkJCQlvYmouYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBoYW5kbGVyLCBmYWxzZSk7DQoJCQkJb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpOw0KDQoJCQl9IGVsc2UgaWYgKCh0eXBlID09PSAnbW91c2VlbnRlcicpIHx8ICh0eXBlID09PSAnbW91c2VsZWF2ZScpKSB7DQoNCgkJCQlvcmlnaW5hbEhhbmRsZXIgPSBoYW5kbGVyOw0KCQkJCW5ld1R5cGUgPSAodHlwZSA9PT0gJ21vdXNlZW50ZXInID8gJ21vdXNlb3ZlcicgOiAnbW91c2VvdXQnKTsNCg0KCQkJCWhhbmRsZXIgPSBmdW5jdGlvbiAoZSkgew0KCQkJCQlpZiAoIUwuRG9tRXZlbnQuX2NoZWNrTW91c2Uob2JqLCBlKSkgeyByZXR1cm47IH0NCgkJCQkJcmV0dXJuIG9yaWdpbmFsSGFuZGxlcihlKTsNCgkJCQl9Ow0KDQoJCQkJb2JqLmFkZEV2ZW50TGlzdGVuZXIobmV3VHlwZSwgaGFuZGxlciwgZmFsc2UpOw0KDQoJCQl9IGVsc2UgaWYgKHR5cGUgPT09ICdjbGljaycgJiYgTC5Ccm93c2VyLmFuZHJvaWQpIHsNCgkJCQlvcmlnaW5hbEhhbmRsZXIgPSBoYW5kbGVyOw0KCQkJCWhhbmRsZXIgPSBmdW5jdGlvbiAoZSkgew0KCQkJCQlyZXR1cm4gTC5Eb21FdmVudC5fZmlsdGVyQ2xpY2soZSwgb3JpZ2luYWxIYW5kbGVyKTsNCgkJCQl9Ow0KDQoJCQkJb2JqLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpOw0KCQkJfSBlbHNlIHsNCgkJCQlvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7DQoJCQl9DQoNCgkJfSBlbHNlIGlmICgnYXR0YWNoRXZlbnQnIGluIG9iaikgew0KCQkJb2JqLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyKTsNCgkJfQ0KDQoJCW9ialtrZXldID0gaGFuZGxlcjsNCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJcmVtb3ZlTGlzdGVuZXI6IGZ1bmN0aW9uIChvYmosIHR5cGUsIGZuKSB7ICAvLyAoSFRNTEVsZW1lbnQsIFN0cmluZywgRnVuY3Rpb24pDQoNCgkJdmFyIGlkID0gTC5zdGFtcChmbiksDQoJCSAgICBrZXkgPSAnX2xlYWZsZXRfJyArIHR5cGUgKyBpZCwNCgkJICAgIGhhbmRsZXIgPSBvYmpba2V5XTsNCg0KCQlpZiAoIWhhbmRsZXIpIHsgcmV0dXJuIHRoaXM7IH0NCg0KCQlpZiAoTC5Ccm93c2VyLnBvaW50ZXIgJiYgdHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAwKSB7DQoJCQl0aGlzLnJlbW92ZVBvaW50ZXJMaXN0ZW5lcihvYmosIHR5cGUsIGlkKTsNCgkJfSBlbHNlIGlmIChMLkJyb3dzZXIudG91Y2ggJiYgKHR5cGUgPT09ICdkYmxjbGljaycpICYmIHRoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIpIHsNCgkJCXRoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIob2JqLCBpZCk7DQoNCgkJfSBlbHNlIGlmICgncmVtb3ZlRXZlbnRMaXN0ZW5lcicgaW4gb2JqKSB7DQoNCgkJCWlmICh0eXBlID09PSAnbW91c2V3aGVlbCcpIHsNCgkJCQlvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBoYW5kbGVyLCBmYWxzZSk7DQoJCQkJb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpOw0KDQoJCQl9IGVsc2UgaWYgKCh0eXBlID09PSAnbW91c2VlbnRlcicpIHx8ICh0eXBlID09PSAnbW91c2VsZWF2ZScpKSB7DQoJCQkJb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoKHR5cGUgPT09ICdtb3VzZWVudGVyJyA/ICdtb3VzZW92ZXInIDogJ21vdXNlb3V0JyksIGhhbmRsZXIsIGZhbHNlKTsNCgkJCX0gZWxzZSB7DQoJCQkJb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpOw0KCQkJfQ0KCQl9IGVsc2UgaWYgKCdkZXRhY2hFdmVudCcgaW4gb2JqKSB7DQoJCQlvYmouZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGhhbmRsZXIpOw0KCQl9DQoNCgkJb2JqW2tleV0gPSBudWxsOw0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIChlKSB7DQoNCgkJaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7DQoJCQllLnN0b3BQcm9wYWdhdGlvbigpOw0KCQl9IGVsc2Ugew0KCQkJZS5jYW5jZWxCdWJibGUgPSB0cnVlOw0KCQl9DQoJCUwuRG9tRXZlbnQuX3NraXBwZWQoZSk7DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbjogZnVuY3Rpb24gKGVsKSB7DQoJCXZhciBzdG9wID0gTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247DQoNCgkJcmV0dXJuIEwuRG9tRXZlbnQNCgkJCS5vbihlbCwgJ21vdXNld2hlZWwnLCBzdG9wKQ0KCQkJLm9uKGVsLCAnTW96TW91c2VQaXhlbFNjcm9sbCcsIHN0b3ApOw0KCX0sDQoNCglkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbjogZnVuY3Rpb24gKGVsKSB7DQoJCXZhciBzdG9wID0gTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247DQoNCgkJZm9yICh2YXIgaSA9IEwuRHJhZ2dhYmxlLlNUQVJULmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7DQoJCQlMLkRvbUV2ZW50Lm9uKGVsLCBMLkRyYWdnYWJsZS5TVEFSVFtpXSwgc3RvcCk7DQoJCX0NCg0KCQlyZXR1cm4gTC5Eb21FdmVudA0KCQkJLm9uKGVsLCAnY2xpY2snLCBMLkRvbUV2ZW50Ll9mYWtlU3RvcCkNCgkJCS5vbihlbCwgJ2RibGNsaWNrJywgc3RvcCk7DQoJfSwNCg0KCXByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoZSkgew0KDQoJCWlmIChlLnByZXZlbnREZWZhdWx0KSB7DQoJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCX0gZWxzZSB7DQoJCQllLnJldHVyblZhbHVlID0gZmFsc2U7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXN0b3A6IGZ1bmN0aW9uIChlKSB7DQoJCXJldHVybiBMLkRvbUV2ZW50DQoJCQkucHJldmVudERlZmF1bHQoZSkNCgkJCS5zdG9wUHJvcGFnYXRpb24oZSk7DQoJfSwNCg0KCWdldE1vdXNlUG9zaXRpb246IGZ1bmN0aW9uIChlLCBjb250YWluZXIpIHsNCgkJaWYgKCFjb250YWluZXIpIHsNCgkJCXJldHVybiBuZXcgTC5Qb2ludChlLmNsaWVudFgsIGUuY2xpZW50WSk7DQoJCX0NCg0KCQl2YXIgcmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCg0KCQlyZXR1cm4gbmV3IEwuUG9pbnQoDQoJCQllLmNsaWVudFggLSByZWN0LmxlZnQgLSBjb250YWluZXIuY2xpZW50TGVmdCwNCgkJCWUuY2xpZW50WSAtIHJlY3QudG9wIC0gY29udGFpbmVyLmNsaWVudFRvcCk7DQoJfSwNCg0KCWdldFdoZWVsRGVsdGE6IGZ1bmN0aW9uIChlKSB7DQoNCgkJdmFyIGRlbHRhID0gMDsNCg0KCQlpZiAoZS53aGVlbERlbHRhKSB7DQoJCQlkZWx0YSA9IGUud2hlZWxEZWx0YSAvIDEyMDsNCgkJfQ0KCQlpZiAoZS5kZXRhaWwpIHsNCgkJCWRlbHRhID0gLWUuZGV0YWlsIC8gMzsNCgkJfQ0KCQlyZXR1cm4gZGVsdGE7DQoJfSwNCg0KCV9za2lwRXZlbnRzOiB7fSwNCg0KCV9mYWtlU3RvcDogZnVuY3Rpb24gKGUpIHsNCgkJLy8gZmFrZXMgc3RvcFByb3BhZ2F0aW9uIGJ5IHNldHRpbmcgYSBzcGVjaWFsIGV2ZW50IGZsYWcsIGNoZWNrZWQvcmVzZXQgd2l0aCBMLkRvbUV2ZW50Ll9za2lwcGVkKGUpDQoJCUwuRG9tRXZlbnQuX3NraXBFdmVudHNbZS50eXBlXSA9IHRydWU7DQoJfSwNCg0KCV9za2lwcGVkOiBmdW5jdGlvbiAoZSkgew0KCQl2YXIgc2tpcHBlZCA9IHRoaXMuX3NraXBFdmVudHNbZS50eXBlXTsNCgkJLy8gcmVzZXQgd2hlbiBjaGVja2luZywgYXMgaXQncyBvbmx5IHVzZWQgaW4gbWFwIGNvbnRhaW5lciBhbmQgcHJvcGFnYXRlcyBvdXRzaWRlIG9mIHRoZSBtYXANCgkJdGhpcy5fc2tpcEV2ZW50c1tlLnR5cGVdID0gZmFsc2U7DQoJCXJldHVybiBza2lwcGVkOw0KCX0sDQoNCgkvLyBjaGVjayBpZiBlbGVtZW50IHJlYWxseSBsZWZ0L2VudGVyZWQgdGhlIGV2ZW50IHRhcmdldCAoZm9yIG1vdXNlZW50ZXIvbW91c2VsZWF2ZSkNCglfY2hlY2tNb3VzZTogZnVuY3Rpb24gKGVsLCBlKSB7DQoNCgkJdmFyIHJlbGF0ZWQgPSBlLnJlbGF0ZWRUYXJnZXQ7DQoNCgkJaWYgKCFyZWxhdGVkKSB7IHJldHVybiB0cnVlOyB9DQoNCgkJdHJ5IHsNCgkJCXdoaWxlIChyZWxhdGVkICYmIChyZWxhdGVkICE9PSBlbCkpIHsNCgkJCQlyZWxhdGVkID0gcmVsYXRlZC5wYXJlbnROb2RlOw0KCQkJfQ0KCQl9IGNhdGNoIChlcnIpIHsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQlyZXR1cm4gKHJlbGF0ZWQgIT09IGVsKTsNCgl9LA0KDQoJX2dldEV2ZW50OiBmdW5jdGlvbiAoKSB7IC8vIGV2aWwgbWFnaWMgZm9yIElFDQoJCS8qanNoaW50IG5vYXJnOmZhbHNlICovDQoJCXZhciBlID0gd2luZG93LmV2ZW50Ow0KCQlpZiAoIWUpIHsNCgkJCXZhciBjYWxsZXIgPSBhcmd1bWVudHMuY2FsbGVlLmNhbGxlcjsNCgkJCXdoaWxlIChjYWxsZXIpIHsNCgkJCQllID0gY2FsbGVyWydhcmd1bWVudHMnXVswXTsNCgkJCQlpZiAoZSAmJiB3aW5kb3cuRXZlbnQgPT09IGUuY29uc3RydWN0b3IpIHsNCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJCWNhbGxlciA9IGNhbGxlci5jYWxsZXI7DQoJCQl9DQoJCX0NCgkJcmV0dXJuIGU7DQoJfSwNCg0KCS8vIHRoaXMgaXMgYSBob3JyaWJsZSB3b3JrYXJvdW5kIGZvciBhIGJ1ZyBpbiBBbmRyb2lkIHdoZXJlIGEgc2luZ2xlIHRvdWNoIHRyaWdnZXJzIHR3byBjbGljayBldmVudHMNCglfZmlsdGVyQ2xpY2s6IGZ1bmN0aW9uIChlLCBoYW5kbGVyKSB7DQoJCXZhciB0aW1lU3RhbXAgPSAoZS50aW1lU3RhbXAgfHwgZS5vcmlnaW5hbEV2ZW50LnRpbWVTdGFtcCksDQoJCQllbGFwc2VkID0gTC5Eb21FdmVudC5fbGFzdENsaWNrICYmICh0aW1lU3RhbXAgLSBMLkRvbUV2ZW50Ll9sYXN0Q2xpY2spOw0KDQoJCS8vIGFyZSB0aGV5IGNsb3NlciB0b2dldGhlciB0aGFuIDEwMDBtcyB5ZXQgbW9yZSB0aGFuIDEwMG1zPw0KCQkvLyBBbmRyb2lkIHR5cGljYWxseSB0cmlnZ2VycyB0aGVtIH4zMDBtcyBhcGFydCB3aGlsZSBtdWx0aXBsZSBsaXN0ZW5lcnMNCgkJLy8gb24gdGhlIHNhbWUgZXZlbnQgc2hvdWxkIGJlIHRyaWdnZXJlZCBmYXIgZmFzdGVyOw0KCQkvLyBvciBjaGVjayBpZiBjbGljayBpcyBzaW11bGF0ZWQgb24gdGhlIGVsZW1lbnQsIGFuZCBpZiBpdCBpcywgcmVqZWN0IGFueSBub24tc2ltdWxhdGVkIGV2ZW50cw0KDQoJCWlmICgoZWxhcHNlZCAmJiBlbGFwc2VkID4gMTAwICYmIGVsYXBzZWQgPCAxMDAwKSB8fCAoZS50YXJnZXQuX3NpbXVsYXRlZENsaWNrICYmICFlLl9zaW11bGF0ZWQpKSB7DQoJCQlMLkRvbUV2ZW50LnN0b3AoZSk7DQoJCQlyZXR1cm47DQoJCX0NCgkJTC5Eb21FdmVudC5fbGFzdENsaWNrID0gdGltZVN0YW1wOw0KDQoJCXJldHVybiBoYW5kbGVyKGUpOw0KCX0NCn07DQoNCkwuRG9tRXZlbnQub24gPSBMLkRvbUV2ZW50LmFkZExpc3RlbmVyOw0KTC5Eb21FdmVudC5vZmYgPSBMLkRvbUV2ZW50LnJlbW92ZUxpc3RlbmVyOw0KCgovKg0KICogTC5EcmFnZ2FibGUgYWxsb3dzIHlvdSB0byBhZGQgZHJhZ2dpbmcgY2FwYWJpbGl0aWVzIHRvIGFueSBlbGVtZW50LiBTdXBwb3J0cyBtb2JpbGUgZGV2aWNlcyB0b28uDQogKi8NCg0KTC5EcmFnZ2FibGUgPSBMLkNsYXNzLmV4dGVuZCh7DQoJaW5jbHVkZXM6IEwuTWl4aW4uRXZlbnRzLA0KDQoJc3RhdGljczogew0KCQlTVEFSVDogTC5Ccm93c2VyLnRvdWNoID8gWyd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddIDogWydtb3VzZWRvd24nXSwNCgkJRU5EOiB7DQoJCQltb3VzZWRvd246ICdtb3VzZXVwJywNCgkJCXRvdWNoc3RhcnQ6ICd0b3VjaGVuZCcsDQoJCQlwb2ludGVyZG93bjogJ3RvdWNoZW5kJywNCgkJCU1TUG9pbnRlckRvd246ICd0b3VjaGVuZCcNCgkJfSwNCgkJTU9WRTogew0KCQkJbW91c2Vkb3duOiAnbW91c2Vtb3ZlJywNCgkJCXRvdWNoc3RhcnQ6ICd0b3VjaG1vdmUnLA0KCQkJcG9pbnRlcmRvd246ICd0b3VjaG1vdmUnLA0KCQkJTVNQb2ludGVyRG93bjogJ3RvdWNobW92ZScNCgkJfQ0KCX0sDQoNCglpbml0aWFsaXplOiBmdW5jdGlvbiAoZWxlbWVudCwgZHJhZ1N0YXJ0VGFyZ2V0KSB7DQoJCXRoaXMuX2VsZW1lbnQgPSBlbGVtZW50Ow0KCQl0aGlzLl9kcmFnU3RhcnRUYXJnZXQgPSBkcmFnU3RhcnRUYXJnZXQgfHwgZWxlbWVudDsNCgl9LA0KDQoJZW5hYmxlOiBmdW5jdGlvbiAoKSB7DQoJCWlmICh0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfQ0KDQoJCWZvciAodmFyIGkgPSBMLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgew0KCQkJTC5Eb21FdmVudC5vbih0aGlzLl9kcmFnU3RhcnRUYXJnZXQsIEwuRHJhZ2dhYmxlLlNUQVJUW2ldLCB0aGlzLl9vbkRvd24sIHRoaXMpOw0KCQl9DQoNCgkJdGhpcy5fZW5hYmxlZCA9IHRydWU7DQoJfSwNCg0KCWRpc2FibGU6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfQ0KDQoJCWZvciAodmFyIGkgPSBMLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgew0KCQkJTC5Eb21FdmVudC5vZmYodGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LCBMLkRyYWdnYWJsZS5TVEFSVFtpXSwgdGhpcy5fb25Eb3duLCB0aGlzKTsNCgkJfQ0KDQoJCXRoaXMuX2VuYWJsZWQgPSBmYWxzZTsNCgkJdGhpcy5fbW92ZWQgPSBmYWxzZTsNCgl9LA0KDQoJX29uRG93bjogZnVuY3Rpb24gKGUpIHsNCgkJdGhpcy5fbW92ZWQgPSBmYWxzZTsNCg0KCQlpZiAoZS5zaGlmdEtleSB8fCAoKGUud2hpY2ggIT09IDEpICYmIChlLmJ1dHRvbiAhPT0gMSkgJiYgIWUudG91Y2hlcykpIHsgcmV0dXJuOyB9DQoNCgkJTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7DQoNCgkJaWYgKEwuRHJhZ2dhYmxlLl9kaXNhYmxlZCkgeyByZXR1cm47IH0NCg0KCQlMLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpOw0KCQlMLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKTsNCg0KCQlpZiAodGhpcy5fbW92aW5nKSB7IHJldHVybjsgfQ0KDQoJCXZhciBmaXJzdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7DQoNCgkJdGhpcy5fc3RhcnRQb2ludCA9IG5ldyBMLlBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpOw0KCQl0aGlzLl9zdGFydFBvcyA9IHRoaXMuX25ld1BvcyA9IEwuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50KTsNCg0KCQlMLkRvbUV2ZW50DQoJCSAgICAub24oZG9jdW1lbnQsIEwuRHJhZ2dhYmxlLk1PVkVbZS50eXBlXSwgdGhpcy5fb25Nb3ZlLCB0aGlzKQ0KCQkgICAgLm9uKGRvY3VtZW50LCBMLkRyYWdnYWJsZS5FTkRbZS50eXBlXSwgdGhpcy5fb25VcCwgdGhpcyk7DQoJfSwNCg0KCV9vbk1vdmU6IGZ1bmN0aW9uIChlKSB7DQoJCWlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHsNCgkJCXRoaXMuX21vdmVkID0gdHJ1ZTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCXZhciBmaXJzdCA9IChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSA/IGUudG91Y2hlc1swXSA6IGUpLA0KCQkgICAgbmV3UG9pbnQgPSBuZXcgTC5Qb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKSwNCgkJICAgIG9mZnNldCA9IG5ld1BvaW50LnN1YnRyYWN0KHRoaXMuX3N0YXJ0UG9pbnQpOw0KDQoJCWlmICghb2Zmc2V0LnggJiYgIW9mZnNldC55KSB7IHJldHVybjsgfQ0KDQoJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7DQoNCgkJaWYgKCF0aGlzLl9tb3ZlZCkgew0KCQkJdGhpcy5maXJlKCdkcmFnc3RhcnQnKTsNCg0KCQkJdGhpcy5fbW92ZWQgPSB0cnVlOw0KCQkJdGhpcy5fc3RhcnRQb3MgPSBMLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCkuc3VidHJhY3Qob2Zmc2V0KTsNCg0KCQkJTC5Eb21VdGlsLmFkZENsYXNzKGRvY3VtZW50LmJvZHksICdsZWFmbGV0LWRyYWdnaW5nJyk7DQoJCQlMLkRvbVV0aWwuYWRkQ2xhc3MoKGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCksICdsZWFmbGV0LWRyYWctdGFyZ2V0Jyk7DQoJCX0NCg0KCQl0aGlzLl9uZXdQb3MgPSB0aGlzLl9zdGFydFBvcy5hZGQob2Zmc2V0KTsNCgkJdGhpcy5fbW92aW5nID0gdHJ1ZTsNCg0KCQlMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTsNCgkJdGhpcy5fYW5pbVJlcXVlc3QgPSBMLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVQb3NpdGlvbiwgdGhpcywgdHJ1ZSwgdGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0KTsNCgl9LA0KDQoJX3VwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuZmlyZSgncHJlZHJhZycpOw0KCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCwgdGhpcy5fbmV3UG9zKTsNCgkJdGhpcy5maXJlKCdkcmFnJyk7DQoJfSwNCg0KCV9vblVwOiBmdW5jdGlvbiAoZSkgew0KCQlMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xlYWZsZXQtZHJhZ2dpbmcnKTsNCgkJTC5Eb21VdGlsLnJlbW92ZUNsYXNzKChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpLCAnbGVhZmxldC1kcmFnLXRhcmdldCcpOw0KDQoJCWZvciAodmFyIGkgaW4gTC5EcmFnZ2FibGUuTU9WRSkgew0KCQkJTC5Eb21FdmVudA0KCQkJICAgIC5vZmYoZG9jdW1lbnQsIEwuRHJhZ2dhYmxlLk1PVkVbaV0sIHRoaXMuX29uTW92ZSkNCgkJCSAgICAub2ZmKGRvY3VtZW50LCBMLkRyYWdnYWJsZS5FTkRbaV0sIHRoaXMuX29uVXApOw0KCQl9DQoNCgkJTC5Eb21VdGlsLmVuYWJsZUltYWdlRHJhZygpOw0KCQlMLkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbigpOw0KDQoJCWlmICh0aGlzLl9tb3ZlZCAmJiB0aGlzLl9tb3ZpbmcpIHsNCgkJCS8vIGVuc3VyZSBkcmFnIGlzIG5vdCBmaXJlZCBhZnRlciBkcmFnZW5kDQoJCQlMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTsNCg0KCQkJdGhpcy5maXJlKCdkcmFnZW5kJywgew0KCQkJCWRpc3RhbmNlOiB0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcykNCgkJCX0pOw0KCQl9DQoNCgkJdGhpcy5fbW92aW5nID0gZmFsc2U7DQoJfQ0KfSk7DQoKCi8qCglMLkhhbmRsZXIgaXMgYSBiYXNlIGNsYXNzIGZvciBoYW5kbGVyIGNsYXNzZXMgdGhhdCBhcmUgdXNlZCBpbnRlcm5hbGx5IHRvIGluamVjdAoJaW50ZXJhY3Rpb24gZmVhdHVyZXMgbGlrZSBkcmFnZ2luZyB0byBjbGFzc2VzIGxpa2UgTWFwIGFuZCBNYXJrZXIuCiovCgpMLkhhbmRsZXIgPSBMLkNsYXNzLmV4dGVuZCh7Cglpbml0aWFsaXplOiBmdW5jdGlvbiAobWFwKSB7CgkJdGhpcy5fbWFwID0gbWFwOwoJfSwKCgllbmFibGU6IGZ1bmN0aW9uICgpIHsKCQlpZiAodGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH0KCgkJdGhpcy5fZW5hYmxlZCA9IHRydWU7CgkJdGhpcy5hZGRIb29rcygpOwoJfSwKCglkaXNhYmxlOiBmdW5jdGlvbiAoKSB7CgkJaWYgKCF0aGlzLl9lbmFibGVkKSB7IHJldHVybjsgfQoKCQl0aGlzLl9lbmFibGVkID0gZmFsc2U7CgkJdGhpcy5yZW1vdmVIb29rcygpOwoJfSwKCgllbmFibGVkOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuICEhdGhpcy5fZW5hYmxlZDsKCX0KfSk7CgoKLyoKICogTC5IYW5kbGVyLk1hcERyYWcgaXMgdXNlZCB0byBtYWtlIHRoZSBtYXAgZHJhZ2dhYmxlICh3aXRoIHBhbm5pbmcgaW5lcnRpYSksIGVuYWJsZWQgYnkgZGVmYXVsdC4KICovCgpMLk1hcC5tZXJnZU9wdGlvbnMoewoJZHJhZ2dpbmc6IHRydWUsCgoJaW5lcnRpYTogIUwuQnJvd3Nlci5hbmRyb2lkMjMsCglpbmVydGlhRGVjZWxlcmF0aW9uOiAzNDAwLCAvLyBweC9zXjIKCWluZXJ0aWFNYXhTcGVlZDogSW5maW5pdHksIC8vIHB4L3MKCWluZXJ0aWFUaHJlc2hvbGQ6IEwuQnJvd3Nlci50b3VjaCA/IDMyIDogMTgsIC8vIG1zCgllYXNlTGluZWFyaXR5OiAwLjI1LAoKCS8vIFRPRE8gcmVmYWN0b3IsIG1vdmUgdG8gQ1JTCgl3b3JsZENvcHlKdW1wOiBmYWxzZQp9KTsKCkwuTWFwLkRyYWcgPSBMLkhhbmRsZXIuZXh0ZW5kKHsKCWFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJaWYgKCF0aGlzLl9kcmFnZ2FibGUpIHsKCQkJdmFyIG1hcCA9IHRoaXMuX21hcDsKCgkJCXRoaXMuX2RyYWdnYWJsZSA9IG5ldyBMLkRyYWdnYWJsZShtYXAuX21hcFBhbmUsIG1hcC5fY29udGFpbmVyKTsKCgkJCXRoaXMuX2RyYWdnYWJsZS5vbih7CgkJCQknZHJhZ3N0YXJ0JzogdGhpcy5fb25EcmFnU3RhcnQsCgkJCQknZHJhZyc6IHRoaXMuX29uRHJhZywKCQkJCSdkcmFnZW5kJzogdGhpcy5fb25EcmFnRW5kCgkJCX0sIHRoaXMpOwoKCQkJaWYgKG1hcC5vcHRpb25zLndvcmxkQ29weUp1bXApIHsKCQkJCXRoaXMuX2RyYWdnYWJsZS5vbigncHJlZHJhZycsIHRoaXMuX29uUHJlRHJhZywgdGhpcyk7CgkJCQltYXAub24oJ3ZpZXdyZXNldCcsIHRoaXMuX29uVmlld1Jlc2V0LCB0aGlzKTsKCgkJCQltYXAud2hlblJlYWR5KHRoaXMuX29uVmlld1Jlc2V0LCB0aGlzKTsKCQkJfQoJCX0KCQl0aGlzLl9kcmFnZ2FibGUuZW5hYmxlKCk7Cgl9LAoKCXJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5fZHJhZ2dhYmxlLmRpc2FibGUoKTsKCX0sCgoJbW92ZWQ6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlICYmIHRoaXMuX2RyYWdnYWJsZS5fbW92ZWQ7Cgl9LAoKCV9vbkRyYWdTdGFydDogZnVuY3Rpb24gKCkgewoJCXZhciBtYXAgPSB0aGlzLl9tYXA7CgoJCWlmIChtYXAuX3BhbkFuaW0pIHsKCQkJbWFwLl9wYW5BbmltLnN0b3AoKTsKCQl9CgoJCW1hcAoJCSAgICAuZmlyZSgnbW92ZXN0YXJ0JykKCQkgICAgLmZpcmUoJ2RyYWdzdGFydCcpOwoKCQlpZiAobWFwLm9wdGlvbnMuaW5lcnRpYSkgewoJCQl0aGlzLl9wb3NpdGlvbnMgPSBbXTsKCQkJdGhpcy5fdGltZXMgPSBbXTsKCQl9Cgl9LAoKCV9vbkRyYWc6IGZ1bmN0aW9uICgpIHsKCQlpZiAodGhpcy5fbWFwLm9wdGlvbnMuaW5lcnRpYSkgewoJCQl2YXIgdGltZSA9IHRoaXMuX2xhc3RUaW1lID0gK25ldyBEYXRlKCksCgkJCSAgICBwb3MgPSB0aGlzLl9sYXN0UG9zID0gdGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7CgoJCQl0aGlzLl9wb3NpdGlvbnMucHVzaChwb3MpOwoJCQl0aGlzLl90aW1lcy5wdXNoKHRpbWUpOwoKCQkJaWYgKHRpbWUgLSB0aGlzLl90aW1lc1swXSA+IDIwMCkgewoJCQkJdGhpcy5fcG9zaXRpb25zLnNoaWZ0KCk7CgkJCQl0aGlzLl90aW1lcy5zaGlmdCgpOwoJCQl9CgkJfQoKCQl0aGlzLl9tYXAKCQkgICAgLmZpcmUoJ21vdmUnKQoJCSAgICAuZmlyZSgnZHJhZycpOwoJfSwKCglfb25WaWV3UmVzZXQ6IGZ1bmN0aW9uICgpIHsKCQkvLyBUT0RPIGZpeCBoYXJkY29kZWQgRWFydGggdmFsdWVzCgkJdmFyIHB4Q2VudGVyID0gdGhpcy5fbWFwLmdldFNpemUoKS5fZGl2aWRlQnkoMiksCgkJICAgIHB4V29ybGRDZW50ZXIgPSB0aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFswLCAwXSk7CgoJCXRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCA9IHB4V29ybGRDZW50ZXIuc3VidHJhY3QocHhDZW50ZXIpLng7CgkJdGhpcy5fd29ybGRXaWR0aCA9IHRoaXMuX21hcC5wcm9qZWN0KFswLCAxODBdKS54OwoJfSwKCglfb25QcmVEcmFnOiBmdW5jdGlvbiAoKSB7CgkJLy8gVE9ETyByZWZhY3RvciB0byBiZSBhYmxlIHRvIGFkanVzdCBtYXAgcGFuZSBwb3NpdGlvbiBhZnRlciB6b29tCgkJdmFyIHdvcmxkV2lkdGggPSB0aGlzLl93b3JsZFdpZHRoLAoJCSAgICBoYWxmV2lkdGggPSBNYXRoLnJvdW5kKHdvcmxkV2lkdGggLyAyKSwKCQkgICAgZHggPSB0aGlzLl9pbml0aWFsV29ybGRPZmZzZXQsCgkJICAgIHggPSB0aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54LAoJCSAgICBuZXdYMSA9ICh4IC0gaGFsZldpZHRoICsgZHgpICUgd29ybGRXaWR0aCArIGhhbGZXaWR0aCAtIGR4LAoJCSAgICBuZXdYMiA9ICh4ICsgaGFsZldpZHRoICsgZHgpICUgd29ybGRXaWR0aCAtIGhhbGZXaWR0aCAtIGR4LAoJCSAgICBuZXdYID0gTWF0aC5hYnMobmV3WDEgKyBkeCkgPCBNYXRoLmFicyhuZXdYMiArIGR4KSA/IG5ld1gxIDogbmV3WDI7CgoJCXRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLnggPSBuZXdYOwoJfSwKCglfb25EcmFnRW5kOiBmdW5jdGlvbiAoZSkgewoJCXZhciBtYXAgPSB0aGlzLl9tYXAsCgkJICAgIG9wdGlvbnMgPSBtYXAub3B0aW9ucywKCQkgICAgZGVsYXkgPSArbmV3IERhdGUoKSAtIHRoaXMuX2xhc3RUaW1lLAoKCQkgICAgbm9JbmVydGlhID0gIW9wdGlvbnMuaW5lcnRpYSB8fCBkZWxheSA+IG9wdGlvbnMuaW5lcnRpYVRocmVzaG9sZCB8fCAhdGhpcy5fcG9zaXRpb25zWzBdOwoKCQltYXAuZmlyZSgnZHJhZ2VuZCcsIGUpOwoKCQlpZiAobm9JbmVydGlhKSB7CgkJCW1hcC5maXJlKCdtb3ZlZW5kJyk7CgoJCX0gZWxzZSB7CgoJCQl2YXIgZGlyZWN0aW9uID0gdGhpcy5fbGFzdFBvcy5zdWJ0cmFjdCh0aGlzLl9wb3NpdGlvbnNbMF0pLAoJCQkgICAgZHVyYXRpb24gPSAodGhpcy5fbGFzdFRpbWUgKyBkZWxheSAtIHRoaXMuX3RpbWVzWzBdKSAvIDEwMDAsCgkJCSAgICBlYXNlID0gb3B0aW9ucy5lYXNlTGluZWFyaXR5LAoKCQkJICAgIHNwZWVkVmVjdG9yID0gZGlyZWN0aW9uLm11bHRpcGx5QnkoZWFzZSAvIGR1cmF0aW9uKSwKCQkJICAgIHNwZWVkID0gc3BlZWRWZWN0b3IuZGlzdGFuY2VUbyhbMCwgMF0pLAoKCQkJICAgIGxpbWl0ZWRTcGVlZCA9IE1hdGgubWluKG9wdGlvbnMuaW5lcnRpYU1heFNwZWVkLCBzcGVlZCksCgkJCSAgICBsaW1pdGVkU3BlZWRWZWN0b3IgPSBzcGVlZFZlY3Rvci5tdWx0aXBseUJ5KGxpbWl0ZWRTcGVlZCAvIHNwZWVkKSwKCgkJCSAgICBkZWNlbGVyYXRpb25EdXJhdGlvbiA9IGxpbWl0ZWRTcGVlZCAvIChvcHRpb25zLmluZXJ0aWFEZWNlbGVyYXRpb24gKiBlYXNlKSwKCQkJICAgIG9mZnNldCA9IGxpbWl0ZWRTcGVlZFZlY3Rvci5tdWx0aXBseUJ5KC1kZWNlbGVyYXRpb25EdXJhdGlvbiAvIDIpLnJvdW5kKCk7CgoJCQlpZiAoIW9mZnNldC54IHx8ICFvZmZzZXQueSkgewoJCQkJbWFwLmZpcmUoJ21vdmVlbmQnKTsKCgkJCX0gZWxzZSB7CgkJCQlvZmZzZXQgPSBtYXAuX2xpbWl0T2Zmc2V0KG9mZnNldCwgbWFwLm9wdGlvbnMubWF4Qm91bmRzKTsKCgkJCQlMLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiAoKSB7CgkJCQkJbWFwLnBhbkJ5KG9mZnNldCwgewoJCQkJCQlkdXJhdGlvbjogZGVjZWxlcmF0aW9uRHVyYXRpb24sCgkJCQkJCWVhc2VMaW5lYXJpdHk6IGVhc2UsCgkJCQkJCW5vTW92ZVN0YXJ0OiB0cnVlCgkJCQkJfSk7CgkJCQl9KTsKCQkJfQoJCX0KCX0KfSk7CgpMLk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdkcmFnZ2luZycsIEwuTWFwLkRyYWcpOwoKCi8qCiAqIEwuSGFuZGxlci5Eb3VibGVDbGlja1pvb20gaXMgdXNlZCB0byBoYW5kbGUgZG91YmxlLWNsaWNrIHpvb20gb24gdGhlIG1hcCwgZW5hYmxlZCBieSBkZWZhdWx0LgogKi8KCkwuTWFwLm1lcmdlT3B0aW9ucyh7Cglkb3VibGVDbGlja1pvb206IHRydWUKfSk7CgpMLk1hcC5Eb3VibGVDbGlja1pvb20gPSBMLkhhbmRsZXIuZXh0ZW5kKHsKCWFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5fbWFwLm9uKCdkYmxjbGljaycsIHRoaXMuX29uRG91YmxlQ2xpY2ssIHRoaXMpOwoJfSwKCglyZW1vdmVIb29rczogZnVuY3Rpb24gKCkgewoJCXRoaXMuX21hcC5vZmYoJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljaywgdGhpcyk7Cgl9LAoKCV9vbkRvdWJsZUNsaWNrOiBmdW5jdGlvbiAoZSkgewoJCXZhciBtYXAgPSB0aGlzLl9tYXAsCgkJICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpICsgKGUub3JpZ2luYWxFdmVudC5zaGlmdEtleSA/IC0xIDogMSk7CgoJCWlmIChtYXAub3B0aW9ucy5kb3VibGVDbGlja1pvb20gPT09ICdjZW50ZXInKSB7CgkJCW1hcC5zZXRab29tKHpvb20pOwoJCX0gZWxzZSB7CgkJCW1hcC5zZXRab29tQXJvdW5kKGUuY29udGFpbmVyUG9pbnQsIHpvb20pOwoJCX0KCX0KfSk7CgpMLk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdkb3VibGVDbGlja1pvb20nLCBMLk1hcC5Eb3VibGVDbGlja1pvb20pOwoKCi8qCiAqIEwuSGFuZGxlci5TY3JvbGxXaGVlbFpvb20gaXMgdXNlZCBieSBMLk1hcCB0byBlbmFibGUgbW91c2Ugc2Nyb2xsIHdoZWVsIHpvb20gb24gdGhlIG1hcC4KICovCgpMLk1hcC5tZXJnZU9wdGlvbnMoewoJc2Nyb2xsV2hlZWxab29tOiB0cnVlCn0pOwoKTC5NYXAuU2Nyb2xsV2hlZWxab29tID0gTC5IYW5kbGVyLmV4dGVuZCh7CglhZGRIb29rczogZnVuY3Rpb24gKCkgewoJCUwuRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsICdtb3VzZXdoZWVsJywgdGhpcy5fb25XaGVlbFNjcm9sbCwgdGhpcyk7CgkJTC5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ01vek1vdXNlUGl4ZWxTY3JvbGwnLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KTsKCQl0aGlzLl9kZWx0YSA9IDA7Cgl9LAoKCXJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJTC5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsICdtb3VzZXdoZWVsJywgdGhpcy5fb25XaGVlbFNjcm9sbCk7CgkJTC5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsICdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCk7Cgl9LAoKCV9vbldoZWVsU2Nyb2xsOiBmdW5jdGlvbiAoZSkgewoJCXZhciBkZWx0YSA9IEwuRG9tRXZlbnQuZ2V0V2hlZWxEZWx0YShlKTsKCgkJdGhpcy5fZGVsdGEgKz0gZGVsdGE7CgkJdGhpcy5fbGFzdE1vdXNlUG9zID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KGUpOwoKCQlpZiAoIXRoaXMuX3N0YXJ0VGltZSkgewoJCQl0aGlzLl9zdGFydFRpbWUgPSArbmV3IERhdGUoKTsKCQl9CgoJCXZhciBsZWZ0ID0gTWF0aC5tYXgoNDAgLSAoK25ldyBEYXRlKCkgLSB0aGlzLl9zdGFydFRpbWUpLCAwKTsKCgkJY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTsKCQl0aGlzLl90aW1lciA9IHNldFRpbWVvdXQoTC5iaW5kKHRoaXMuX3BlcmZvcm1ab29tLCB0aGlzKSwgbGVmdCk7CgoJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7CgkJTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZSk7Cgl9LAoKCV9wZXJmb3JtWm9vbTogZnVuY3Rpb24gKCkgewoJCXZhciBtYXAgPSB0aGlzLl9tYXAsCgkJICAgIGRlbHRhID0gdGhpcy5fZGVsdGEsCgkJICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpOwoKCQlkZWx0YSA9IGRlbHRhID4gMCA/IE1hdGguY2VpbChkZWx0YSkgOiBNYXRoLmZsb29yKGRlbHRhKTsKCQlkZWx0YSA9IE1hdGgubWF4KE1hdGgubWluKGRlbHRhLCA0KSwgLTQpOwoJCWRlbHRhID0gbWFwLl9saW1pdFpvb20oem9vbSArIGRlbHRhKSAtIHpvb207CgoJCXRoaXMuX2RlbHRhID0gMDsKCQl0aGlzLl9zdGFydFRpbWUgPSBudWxsOwoKCQlpZiAoIWRlbHRhKSB7IHJldHVybjsgfQoKCQlpZiAobWFwLm9wdGlvbnMuc2Nyb2xsV2hlZWxab29tID09PSAnY2VudGVyJykgewoJCQltYXAuc2V0Wm9vbSh6b29tICsgZGVsdGEpOwoJCX0gZWxzZSB7CgkJCW1hcC5zZXRab29tQXJvdW5kKHRoaXMuX2xhc3RNb3VzZVBvcywgem9vbSArIGRlbHRhKTsKCQl9Cgl9Cn0pOwoKTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnc2Nyb2xsV2hlZWxab29tJywgTC5NYXAuU2Nyb2xsV2hlZWxab29tKTsKCgovKg0KICogRXh0ZW5kcyB0aGUgZXZlbnQgaGFuZGxpbmcgY29kZSB3aXRoIGRvdWJsZSB0YXAgc3VwcG9ydCBmb3IgbW9iaWxlIGJyb3dzZXJzLg0KICovDQoNCkwuZXh0ZW5kKEwuRG9tRXZlbnQsIHsNCg0KCV90b3VjaHN0YXJ0OiBMLkJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlckRvd24nIDogTC5Ccm93c2VyLnBvaW50ZXIgPyAncG9pbnRlcmRvd24nIDogJ3RvdWNoc3RhcnQnLA0KCV90b3VjaGVuZDogTC5Ccm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJVcCcgOiBMLkJyb3dzZXIucG9pbnRlciA/ICdwb2ludGVydXAnIDogJ3RvdWNoZW5kJywNCg0KCS8vIGluc3BpcmVkIGJ5IFplcHRvIHRvdWNoIGNvZGUgYnkgVGhvbWFzIEZ1Y2hzDQoJYWRkRG91YmxlVGFwTGlzdGVuZXI6IGZ1bmN0aW9uIChvYmosIGhhbmRsZXIsIGlkKSB7DQoJCXZhciBsYXN0LA0KCQkgICAgZG91YmxlVGFwID0gZmFsc2UsDQoJCSAgICBkZWxheSA9IDI1MCwNCgkJICAgIHRvdWNoLA0KCQkgICAgcHJlID0gJ19sZWFmbGV0XycsDQoJCSAgICB0b3VjaHN0YXJ0ID0gdGhpcy5fdG91Y2hzdGFydCwNCgkJICAgIHRvdWNoZW5kID0gdGhpcy5fdG91Y2hlbmQsDQoJCSAgICB0cmFja2VkVG91Y2hlcyA9IFtdOw0KDQoJCWZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7DQoJCQl2YXIgY291bnQ7DQoNCgkJCWlmIChMLkJyb3dzZXIucG9pbnRlcikgew0KCQkJCXRyYWNrZWRUb3VjaGVzLnB1c2goZS5wb2ludGVySWQpOw0KCQkJCWNvdW50ID0gdHJhY2tlZFRvdWNoZXMubGVuZ3RoOw0KCQkJfSBlbHNlIHsNCgkJCQljb3VudCA9IGUudG91Y2hlcy5sZW5ndGg7DQoJCQl9DQoJCQlpZiAoY291bnQgPiAxKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQl2YXIgbm93ID0gRGF0ZS5ub3coKSwNCgkJCQlkZWx0YSA9IG5vdyAtIChsYXN0IHx8IG5vdyk7DQoNCgkJCXRvdWNoID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTsNCgkJCWRvdWJsZVRhcCA9IChkZWx0YSA+IDAgJiYgZGVsdGEgPD0gZGVsYXkpOw0KCQkJbGFzdCA9IG5vdzsNCgkJfQ0KDQoJCWZ1bmN0aW9uIG9uVG91Y2hFbmQoZSkgew0KCQkJaWYgKEwuQnJvd3Nlci5wb2ludGVyKSB7DQoJCQkJdmFyIGlkeCA9IHRyYWNrZWRUb3VjaGVzLmluZGV4T2YoZS5wb2ludGVySWQpOw0KCQkJCWlmIChpZHggPT09IC0xKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJdHJhY2tlZFRvdWNoZXMuc3BsaWNlKGlkeCwgMSk7DQoJCQl9DQoNCgkJCWlmIChkb3VibGVUYXApIHsNCgkJCQlpZiAoTC5Ccm93c2VyLnBvaW50ZXIpIHsNCgkJCQkJLy8gd29yayBhcm91bmQgLnR5cGUgYmVpbmcgcmVhZG9ubHkgd2l0aCBNU1BvaW50ZXIqIGV2ZW50cw0KCQkJCQl2YXIgbmV3VG91Y2ggPSB7IH0sDQoJCQkJCQlwcm9wOw0KDQoJCQkJCS8vIGpzaGludCBmb3JpbjpmYWxzZQ0KCQkJCQlmb3IgKHZhciBpIGluIHRvdWNoKSB7DQoJCQkJCQlwcm9wID0gdG91Y2hbaV07DQoJCQkJCQlpZiAodHlwZW9mIHByb3AgPT09ICdmdW5jdGlvbicpIHsNCgkJCQkJCQluZXdUb3VjaFtpXSA9IHByb3AuYmluZCh0b3VjaCk7DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCW5ld1RvdWNoW2ldID0gcHJvcDsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQl0b3VjaCA9IG5ld1RvdWNoOw0KCQkJCX0NCgkJCQl0b3VjaC50eXBlID0gJ2RibGNsaWNrJzsNCgkJCQloYW5kbGVyKHRvdWNoKTsNCgkJCQlsYXN0ID0gbnVsbDsNCgkJCX0NCgkJfQ0KCQlvYmpbcHJlICsgdG91Y2hzdGFydCArIGlkXSA9IG9uVG91Y2hTdGFydDsNCgkJb2JqW3ByZSArIHRvdWNoZW5kICsgaWRdID0gb25Ub3VjaEVuZDsNCg0KCQkvLyBvbiBwb2ludGVyIHdlIG5lZWQgdG8gbGlzdGVuIG9uIHRoZSBkb2N1bWVudCwgb3RoZXJ3aXNlIGEgZHJhZyBzdGFydGluZyBvbiB0aGUgbWFwIGFuZCBtb3Zpbmcgb2ZmIHNjcmVlbg0KCQkvLyB3aWxsIG5vdCBjb21lIHRocm91Z2ggdG8gdXMsIHNvIHdlIHdpbGwgbG9zZSB0cmFjayBvZiBob3cgbWFueSB0b3VjaGVzIGFyZSBvbmdvaW5nDQoJCXZhciBlbmRFbGVtZW50ID0gTC5Ccm93c2VyLnBvaW50ZXIgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBvYmo7DQoNCgkJb2JqLmFkZEV2ZW50TGlzdGVuZXIodG91Y2hzdGFydCwgb25Ub3VjaFN0YXJ0LCBmYWxzZSk7DQoJCWVuZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0b3VjaGVuZCwgb25Ub3VjaEVuZCwgZmFsc2UpOw0KDQoJCWlmIChMLkJyb3dzZXIucG9pbnRlcikgew0KCQkJZW5kRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKEwuRG9tRXZlbnQuUE9JTlRFUl9DQU5DRUwsIG9uVG91Y2hFbmQsIGZhbHNlKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglyZW1vdmVEb3VibGVUYXBMaXN0ZW5lcjogZnVuY3Rpb24gKG9iaiwgaWQpIHsNCgkJdmFyIHByZSA9ICdfbGVhZmxldF8nOw0KDQoJCW9iai5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoc3RhcnQsIG9ialtwcmUgKyB0aGlzLl90b3VjaHN0YXJ0ICsgaWRdLCBmYWxzZSk7DQoJCShMLkJyb3dzZXIucG9pbnRlciA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IG9iaikucmVtb3ZlRXZlbnRMaXN0ZW5lcigNCgkJICAgICAgICB0aGlzLl90b3VjaGVuZCwgb2JqW3ByZSArIHRoaXMuX3RvdWNoZW5kICsgaWRdLCBmYWxzZSk7DQoNCgkJaWYgKEwuQnJvd3Nlci5wb2ludGVyKSB7DQoJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihMLkRvbUV2ZW50LlBPSU5URVJfQ0FOQ0VMLCBvYmpbcHJlICsgdGhpcy5fdG91Y2hlbmQgKyBpZF0sDQoJCQkJZmFsc2UpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfQ0KfSk7DQoKCi8qCiAqIEV4dGVuZHMgTC5Eb21FdmVudCB0byBwcm92aWRlIHRvdWNoIHN1cHBvcnQgZm9yIEludGVybmV0IEV4cGxvcmVyIGFuZCBXaW5kb3dzLWJhc2VkIGRldmljZXMuCiAqLwoKTC5leHRlbmQoTC5Eb21FdmVudCwgewoKCS8vc3RhdGljCglQT0lOVEVSX0RPV046IEwuQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyRG93bicgOiAncG9pbnRlcmRvd24nLAoJUE9JTlRFUl9NT1ZFOiBMLkJyb3dzZXIubXNQb2ludGVyID8gJ01TUG9pbnRlck1vdmUnIDogJ3BvaW50ZXJtb3ZlJywKCVBPSU5URVJfVVA6IEwuQnJvd3Nlci5tc1BvaW50ZXIgPyAnTVNQb2ludGVyVXAnIDogJ3BvaW50ZXJ1cCcsCglQT0lOVEVSX0NBTkNFTDogTC5Ccm93c2VyLm1zUG9pbnRlciA/ICdNU1BvaW50ZXJDYW5jZWwnIDogJ3BvaW50ZXJjYW5jZWwnLAoKCV9wb2ludGVyczogW10sCglfcG9pbnRlckRvY3VtZW50TGlzdGVuZXI6IGZhbHNlLAoKCS8vIFByb3ZpZGVzIGEgdG91Y2ggZXZlbnRzIHdyYXBwZXIgZm9yIChtcylwb2ludGVyIGV2ZW50cy4KCS8vIEJhc2VkIG9uIGNoYW5nZXMgYnkgdmVwcm96YSBodHRwczovL2dpdGh1Yi5jb20vQ2xvdWRNYWRlL0xlYWZsZXQvcHVsbC8xMDE5CgkvL3JlZiBodHRwOi8vd3d3LnczLm9yZy9UUi9wb2ludGVyZXZlbnRzLyBodHRwczovL3d3dy53My5vcmcvQnVncy9QdWJsaWMvc2hvd19idWcuY2dpP2lkPTIyODkwCgoJYWRkUG9pbnRlckxpc3RlbmVyOiBmdW5jdGlvbiAob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCkgewoKCQlzd2l0Y2ggKHR5cGUpIHsKCQljYXNlICd0b3VjaHN0YXJ0JzoKCQkJcmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyU3RhcnQob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCk7CgkJY2FzZSAndG91Y2hlbmQnOgoJCQlyZXR1cm4gdGhpcy5hZGRQb2ludGVyTGlzdGVuZXJFbmQob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCk7CgkJY2FzZSAndG91Y2htb3ZlJzoKCQkJcmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyTW92ZShvYmosIHR5cGUsIGhhbmRsZXIsIGlkKTsKCQlkZWZhdWx0OgoJCQl0aHJvdyAnVW5rbm93biB0b3VjaCBldmVudCB0eXBlJzsKCQl9Cgl9LAoKCWFkZFBvaW50ZXJMaXN0ZW5lclN0YXJ0OiBmdW5jdGlvbiAob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCkgewoJCXZhciBwcmUgPSAnX2xlYWZsZXRfJywKCQkgICAgcG9pbnRlcnMgPSB0aGlzLl9wb2ludGVyczsKCgkJdmFyIGNiID0gZnVuY3Rpb24gKGUpIHsKCgkJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7CgoJCQl2YXIgYWxyZWFkeUluQXJyYXkgPSBmYWxzZTsKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykgewoJCQkJaWYgKHBvaW50ZXJzW2ldLnBvaW50ZXJJZCA9PT0gZS5wb2ludGVySWQpIHsKCQkJCQlhbHJlYWR5SW5BcnJheSA9IHRydWU7CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQkJaWYgKCFhbHJlYWR5SW5BcnJheSkgewoJCQkJcG9pbnRlcnMucHVzaChlKTsKCQkJfQoKCQkJZS50b3VjaGVzID0gcG9pbnRlcnMuc2xpY2UoKTsKCQkJZS5jaGFuZ2VkVG91Y2hlcyA9IFtlXTsKCgkJCWhhbmRsZXIoZSk7CgkJfTsKCgkJb2JqW3ByZSArICd0b3VjaHN0YXJ0JyArIGlkXSA9IGNiOwoJCW9iai5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9ET1dOLCBjYiwgZmFsc2UpOwoKCQkvLyBuZWVkIHRvIGFsc28gbGlzdGVuIGZvciBlbmQgZXZlbnRzIHRvIGtlZXAgdGhlIF9wb2ludGVycyBsaXN0IGFjY3VyYXRlCgkJLy8gdGhpcyBuZWVkcyB0byBiZSBvbiB0aGUgYm9keSBhbmQgbmV2ZXIgZ28gYXdheQoJCWlmICghdGhpcy5fcG9pbnRlckRvY3VtZW50TGlzdGVuZXIpIHsKCQkJdmFyIGludGVybmFsQ2IgPSBmdW5jdGlvbiAoZSkgewoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykgewoJCQkJCWlmIChwb2ludGVyc1tpXS5wb2ludGVySWQgPT09IGUucG9pbnRlcklkKSB7CgkJCQkJCXBvaW50ZXJzLnNwbGljZShpLCAxKTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQoJCQl9OwoJCQkvL1dlIGxpc3RlbiBvbiB0aGUgZG9jdW1lbnRFbGVtZW50IGFzIGFueSBkcmFncyB0aGF0IGVuZCBieSBtb3ZpbmcgdGhlIHRvdWNoIG9mZiB0aGUgc2NyZWVuIGdldCBmaXJlZCB0aGVyZQoJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsIGludGVybmFsQ2IsIGZhbHNlKTsKCQkJZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCwgaW50ZXJuYWxDYiwgZmFsc2UpOwoKCQkJdGhpcy5fcG9pbnRlckRvY3VtZW50TGlzdGVuZXIgPSB0cnVlOwoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCWFkZFBvaW50ZXJMaXN0ZW5lck1vdmU6IGZ1bmN0aW9uIChvYmosIHR5cGUsIGhhbmRsZXIsIGlkKSB7CgkJdmFyIHByZSA9ICdfbGVhZmxldF8nLAoJCSAgICB0b3VjaGVzID0gdGhpcy5fcG9pbnRlcnM7CgoJCWZ1bmN0aW9uIGNiKGUpIHsKCgkJCS8vIGRvbid0IGZpcmUgdG91Y2ggbW92ZXMgd2hlbiBtb3VzZSBpc24ndCBkb3duCgkJCWlmICgoZS5wb2ludGVyVHlwZSA9PT0gZS5NU1BPSU5URVJfVFlQRV9NT1VTRSB8fCBlLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSAmJiBlLmJ1dHRvbnMgPT09IDApIHsgcmV0dXJuOyB9CgoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHsKCQkJCWlmICh0b3VjaGVzW2ldLnBvaW50ZXJJZCA9PT0gZS5wb2ludGVySWQpIHsKCQkJCQl0b3VjaGVzW2ldID0gZTsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoKCQkJZS50b3VjaGVzID0gdG91Y2hlcy5zbGljZSgpOwoJCQllLmNoYW5nZWRUb3VjaGVzID0gW2VdOwoKCQkJaGFuZGxlcihlKTsKCQl9CgoJCW9ialtwcmUgKyAndG91Y2htb3ZlJyArIGlkXSA9IGNiOwoJCW9iai5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLCBjYiwgZmFsc2UpOwoKCQlyZXR1cm4gdGhpczsKCX0sCgoJYWRkUG9pbnRlckxpc3RlbmVyRW5kOiBmdW5jdGlvbiAob2JqLCB0eXBlLCBoYW5kbGVyLCBpZCkgewoJCXZhciBwcmUgPSAnX2xlYWZsZXRfJywKCQkgICAgdG91Y2hlcyA9IHRoaXMuX3BvaW50ZXJzOwoKCQl2YXIgY2IgPSBmdW5jdGlvbiAoZSkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHsKCQkJCWlmICh0b3VjaGVzW2ldLnBvaW50ZXJJZCA9PT0gZS5wb2ludGVySWQpIHsKCQkJCQl0b3VjaGVzLnNwbGljZShpLCAxKTsKCQkJCQlicmVhazsKCQkJCX0KCQkJfQoKCQkJZS50b3VjaGVzID0gdG91Y2hlcy5zbGljZSgpOwoJCQllLmNoYW5nZWRUb3VjaGVzID0gW2VdOwoKCQkJaGFuZGxlcihlKTsKCQl9OwoKCQlvYmpbcHJlICsgJ3RvdWNoZW5kJyArIGlkXSA9IGNiOwoJCW9iai5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9VUCwgY2IsIGZhbHNlKTsKCQlvYmouYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfQ0FOQ0VMLCBjYiwgZmFsc2UpOwoKCQlyZXR1cm4gdGhpczsKCX0sCgoJcmVtb3ZlUG9pbnRlckxpc3RlbmVyOiBmdW5jdGlvbiAob2JqLCB0eXBlLCBpZCkgewoJCXZhciBwcmUgPSAnX2xlYWZsZXRfJywKCQkgICAgY2IgPSBvYmpbcHJlICsgdHlwZSArIGlkXTsKCgkJc3dpdGNoICh0eXBlKSB7CgkJY2FzZSAndG91Y2hzdGFydCc6CgkJCW9iai5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9ET1dOLCBjYiwgZmFsc2UpOwoJCQlicmVhazsKCQljYXNlICd0b3VjaG1vdmUnOgoJCQlvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfTU9WRSwgY2IsIGZhbHNlKTsKCQkJYnJlYWs7CgkJY2FzZSAndG91Y2hlbmQnOgoJCQlvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsIGNiLCBmYWxzZSk7CgkJCW9iai5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsIGNiLCBmYWxzZSk7CgkJCWJyZWFrOwoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9Cn0pOwoKCi8qCiAqIEwuSGFuZGxlci5Ub3VjaFpvb20gaXMgdXNlZCBieSBMLk1hcCB0byBhZGQgcGluY2ggem9vbSBvbiBzdXBwb3J0ZWQgbW9iaWxlIGJyb3dzZXJzLgogKi8KCkwuTWFwLm1lcmdlT3B0aW9ucyh7Cgl0b3VjaFpvb206IEwuQnJvd3Nlci50b3VjaCAmJiAhTC5Ccm93c2VyLmFuZHJvaWQyMywKCWJvdW5jZUF0Wm9vbUxpbWl0czogdHJ1ZQp9KTsKCkwuTWFwLlRvdWNoWm9vbSA9IEwuSGFuZGxlci5leHRlbmQoewoJYWRkSG9va3M6IGZ1bmN0aW9uICgpIHsKCQlMLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCAndG91Y2hzdGFydCcsIHRoaXMuX29uVG91Y2hTdGFydCwgdGhpcyk7Cgl9LAoKCXJlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJTC5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCB0aGlzKTsKCX0sCgoJX29uVG91Y2hTdGFydDogZnVuY3Rpb24gKGUpIHsKCQl2YXIgbWFwID0gdGhpcy5fbWFwOwoKCQlpZiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoICE9PSAyIHx8IG1hcC5fYW5pbWF0aW5nWm9vbSB8fCB0aGlzLl96b29taW5nKSB7IHJldHVybjsgfQoKCQl2YXIgcDEgPSBtYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludChlLnRvdWNoZXNbMF0pLAoJCSAgICBwMiA9IG1hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUudG91Y2hlc1sxXSksCgkJICAgIHZpZXdDZW50ZXIgPSBtYXAuX2dldENlbnRlckxheWVyUG9pbnQoKTsKCgkJdGhpcy5fc3RhcnRDZW50ZXIgPSBwMS5hZGQocDIpLl9kaXZpZGVCeSgyKTsKCQl0aGlzLl9zdGFydERpc3QgPSBwMS5kaXN0YW5jZVRvKHAyKTsKCgkJdGhpcy5fbW92ZWQgPSBmYWxzZTsKCQl0aGlzLl96b29taW5nID0gdHJ1ZTsKCgkJdGhpcy5fY2VudGVyT2Zmc2V0ID0gdmlld0NlbnRlci5zdWJ0cmFjdCh0aGlzLl9zdGFydENlbnRlcik7CgoJCWlmIChtYXAuX3BhbkFuaW0pIHsKCQkJbWFwLl9wYW5BbmltLnN0b3AoKTsKCQl9CgoJCUwuRG9tRXZlbnQKCQkgICAgLm9uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUsIHRoaXMpCgkJICAgIC5vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCwgdGhpcyk7CgoJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7Cgl9LAoKCV9vblRvdWNoTW92ZTogZnVuY3Rpb24gKGUpIHsKCQl2YXIgbWFwID0gdGhpcy5fbWFwOwoKCQlpZiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoICE9PSAyIHx8ICF0aGlzLl96b29taW5nKSB7IHJldHVybjsgfQoKCQl2YXIgcDEgPSBtYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludChlLnRvdWNoZXNbMF0pLAoJCSAgICBwMiA9IG1hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUudG91Y2hlc1sxXSk7CgoJCXRoaXMuX3NjYWxlID0gcDEuZGlzdGFuY2VUbyhwMikgLyB0aGlzLl9zdGFydERpc3Q7CgkJdGhpcy5fZGVsdGEgPSBwMS5fYWRkKHAyKS5fZGl2aWRlQnkoMikuX3N1YnRyYWN0KHRoaXMuX3N0YXJ0Q2VudGVyKTsKCgkJaWYgKHRoaXMuX3NjYWxlID09PSAxKSB7IHJldHVybjsgfQoKCQlpZiAoIW1hcC5vcHRpb25zLmJvdW5jZUF0Wm9vbUxpbWl0cykgewoJCQlpZiAoKG1hcC5nZXRab29tKCkgPT09IG1hcC5nZXRNaW5ab29tKCkgJiYgdGhpcy5fc2NhbGUgPCAxKSB8fAoJCQkgICAgKG1hcC5nZXRab29tKCkgPT09IG1hcC5nZXRNYXhab29tKCkgJiYgdGhpcy5fc2NhbGUgPiAxKSkgeyByZXR1cm47IH0KCQl9CgoJCWlmICghdGhpcy5fbW92ZWQpIHsKCQkJTC5Eb21VdGlsLmFkZENsYXNzKG1hcC5fbWFwUGFuZSwgJ2xlYWZsZXQtdG91Y2hpbmcnKTsKCgkJCW1hcAoJCQkgICAgLmZpcmUoJ21vdmVzdGFydCcpCgkJCSAgICAuZmlyZSgnem9vbXN0YXJ0Jyk7CgoJCQl0aGlzLl9tb3ZlZCA9IHRydWU7CgkJfQoKCQlMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTsKCQl0aGlzLl9hbmltUmVxdWVzdCA9IEwuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKAoJCSAgICAgICAgdGhpcy5fdXBkYXRlT25Nb3ZlLCB0aGlzLCB0cnVlLCB0aGlzLl9tYXAuX2NvbnRhaW5lcik7CgoJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7Cgl9LAoKCV91cGRhdGVPbk1vdmU6IGZ1bmN0aW9uICgpIHsKCQl2YXIgbWFwID0gdGhpcy5fbWFwLAoJCSAgICBvcmlnaW4gPSB0aGlzLl9nZXRTY2FsZU9yaWdpbigpLAoJCSAgICBjZW50ZXIgPSBtYXAubGF5ZXJQb2ludFRvTGF0TG5nKG9yaWdpbiksCgkJICAgIHpvb20gPSBtYXAuZ2V0U2NhbGVab29tKHRoaXMuX3NjYWxlKTsKCgkJbWFwLl9hbmltYXRlWm9vbShjZW50ZXIsIHpvb20sIHRoaXMuX3N0YXJ0Q2VudGVyLCB0aGlzLl9zY2FsZSwgdGhpcy5fZGVsdGEpOwoJfSwKCglfb25Ub3VjaEVuZDogZnVuY3Rpb24gKCkgewoJCWlmICghdGhpcy5fbW92ZWQgfHwgIXRoaXMuX3pvb21pbmcpIHsKCQkJdGhpcy5fem9vbWluZyA9IGZhbHNlOwoJCQlyZXR1cm47CgkJfQoKCQl2YXIgbWFwID0gdGhpcy5fbWFwOwoKCQl0aGlzLl96b29taW5nID0gZmFsc2U7CgkJTC5Eb21VdGlsLnJlbW92ZUNsYXNzKG1hcC5fbWFwUGFuZSwgJ2xlYWZsZXQtdG91Y2hpbmcnKTsKCQlMLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KTsKCgkJTC5Eb21FdmVudAoJCSAgICAub2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpCgkJICAgIC5vZmYoZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQpOwoKCQl2YXIgb3JpZ2luID0gdGhpcy5fZ2V0U2NhbGVPcmlnaW4oKSwKCQkgICAgY2VudGVyID0gbWFwLmxheWVyUG9pbnRUb0xhdExuZyhvcmlnaW4pLAoKCQkgICAgb2xkWm9vbSA9IG1hcC5nZXRab29tKCksCgkJICAgIGZsb2F0Wm9vbURlbHRhID0gbWFwLmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSkgLSBvbGRab29tLAoJCSAgICByb3VuZFpvb21EZWx0YSA9IChmbG9hdFpvb21EZWx0YSA+IDAgPwoJCSAgICAgICAgICAgIE1hdGguY2VpbChmbG9hdFpvb21EZWx0YSkgOiBNYXRoLmZsb29yKGZsb2F0Wm9vbURlbHRhKSksCgoJCSAgICB6b29tID0gbWFwLl9saW1pdFpvb20ob2xkWm9vbSArIHJvdW5kWm9vbURlbHRhKSwKCQkgICAgc2NhbGUgPSBtYXAuZ2V0Wm9vbVNjYWxlKHpvb20pIC8gdGhpcy5fc2NhbGU7CgoJCW1hcC5fYW5pbWF0ZVpvb20oY2VudGVyLCB6b29tLCBvcmlnaW4sIHNjYWxlKTsKCX0sCgoJX2dldFNjYWxlT3JpZ2luOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGNlbnRlck9mZnNldCA9IHRoaXMuX2NlbnRlck9mZnNldC5zdWJ0cmFjdCh0aGlzLl9kZWx0YSkuZGl2aWRlQnkodGhpcy5fc2NhbGUpOwoJCXJldHVybiB0aGlzLl9zdGFydENlbnRlci5hZGQoY2VudGVyT2Zmc2V0KTsKCX0KfSk7CgpMLk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICd0b3VjaFpvb20nLCBMLk1hcC5Ub3VjaFpvb20pOwoKCi8qCiAqIEwuTWFwLlRhcCBpcyB1c2VkIHRvIGVuYWJsZSBtb2JpbGUgaGFja3MgbGlrZSBxdWljayB0YXBzIGFuZCBsb25nIGhvbGQuCiAqLwoKTC5NYXAubWVyZ2VPcHRpb25zKHsKCXRhcDogdHJ1ZSwKCXRhcFRvbGVyYW5jZTogMTUKfSk7CgpMLk1hcC5UYXAgPSBMLkhhbmRsZXIuZXh0ZW5kKHsKCWFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJTC5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vbkRvd24sIHRoaXMpOwoJfSwKCglyZW1vdmVIb29rczogZnVuY3Rpb24gKCkgewoJCUwuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCAndG91Y2hzdGFydCcsIHRoaXMuX29uRG93biwgdGhpcyk7Cgl9LAoKCV9vbkRvd246IGZ1bmN0aW9uIChlKSB7CgkJaWYgKCFlLnRvdWNoZXMpIHsgcmV0dXJuOyB9CgoJCUwuRG9tRXZlbnQucHJldmVudERlZmF1bHQoZSk7CgoJCXRoaXMuX2ZpcmVDbGljayA9IHRydWU7CgoJCS8vIGRvbid0IHNpbXVsYXRlIGNsaWNrIG9yIHRyYWNrIGxvbmdwcmVzcyBpZiBtb3JlIHRoYW4gMSB0b3VjaAoJCWlmIChlLnRvdWNoZXMubGVuZ3RoID4gMSkgewoJCQl0aGlzLl9maXJlQ2xpY2sgPSBmYWxzZTsKCQkJY2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTsKCQkJcmV0dXJuOwoJCX0KCgkJdmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdLAoJCSAgICBlbCA9IGZpcnN0LnRhcmdldDsKCgkJdGhpcy5fc3RhcnRQb3MgPSB0aGlzLl9uZXdQb3MgPSBuZXcgTC5Qb2ludChmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZKTsKCgkJLy8gaWYgdG91Y2hpbmcgYSBsaW5rLCBoaWdobGlnaHQgaXQKCQlpZiAoZWwudGFnTmFtZSAmJiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJykgewoJCQlMLkRvbVV0aWwuYWRkQ2xhc3MoZWwsICdsZWFmbGV0LWFjdGl2ZScpOwoJCX0KCgkJLy8gc2ltdWxhdGUgbG9uZyBob2xkIGJ1dCBzZXR0aW5nIGEgdGltZW91dAoJCXRoaXMuX2hvbGRUaW1lb3V0ID0gc2V0VGltZW91dChMLmJpbmQoZnVuY3Rpb24gKCkgewoJCQlpZiAodGhpcy5faXNUYXBWYWxpZCgpKSB7CgkJCQl0aGlzLl9maXJlQ2xpY2sgPSBmYWxzZTsKCQkJCXRoaXMuX29uVXAoKTsKCQkJCXRoaXMuX3NpbXVsYXRlRXZlbnQoJ2NvbnRleHRtZW51JywgZmlyc3QpOwoJCQl9CgkJfSwgdGhpcyksIDEwMDApOwoKCQlMLkRvbUV2ZW50CgkJCS5vbihkb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwgdGhpcykKCQkJLm9uKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblVwLCB0aGlzKTsKCX0sCgoJX29uVXA6IGZ1bmN0aW9uIChlKSB7CgkJY2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTsKCgkJTC5Eb21FdmVudAoJCQkub2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB0aGlzKQoJCQkub2ZmKGRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblVwLCB0aGlzKTsKCgkJaWYgKHRoaXMuX2ZpcmVDbGljayAmJiBlICYmIGUuY2hhbmdlZFRvdWNoZXMpIHsKCgkJCXZhciBmaXJzdCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0sCgkJCSAgICBlbCA9IGZpcnN0LnRhcmdldDsKCgkJCWlmIChlbCAmJiBlbC50YWdOYW1lICYmIGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnKSB7CgkJCQlMLkRvbVV0aWwucmVtb3ZlQ2xhc3MoZWwsICdsZWFmbGV0LWFjdGl2ZScpOwoJCQl9CgoJCQkvLyBzaW11bGF0ZSBjbGljayBpZiB0aGUgdG91Y2ggZGlkbid0IG1vdmUgdG9vIG11Y2gKCQkJaWYgKHRoaXMuX2lzVGFwVmFsaWQoKSkgewoJCQkJdGhpcy5fc2ltdWxhdGVFdmVudCgnY2xpY2snLCBmaXJzdCk7CgkJCX0KCQl9Cgl9LAoKCV9pc1RhcFZhbGlkOiBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMuX25ld1Bvcy5kaXN0YW5jZVRvKHRoaXMuX3N0YXJ0UG9zKSA8PSB0aGlzLl9tYXAub3B0aW9ucy50YXBUb2xlcmFuY2U7Cgl9LAoKCV9vbk1vdmU6IGZ1bmN0aW9uIChlKSB7CgkJdmFyIGZpcnN0ID0gZS50b3VjaGVzWzBdOwoJCXRoaXMuX25ld1BvcyA9IG5ldyBMLlBvaW50KGZpcnN0LmNsaWVudFgsIGZpcnN0LmNsaWVudFkpOwoJfSwKCglfc2ltdWxhdGVFdmVudDogZnVuY3Rpb24gKHR5cGUsIGUpIHsKCQl2YXIgc2ltdWxhdGVkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTsKCgkJc2ltdWxhdGVkRXZlbnQuX3NpbXVsYXRlZCA9IHRydWU7CgkJZS50YXJnZXQuX3NpbXVsYXRlZENsaWNrID0gdHJ1ZTsKCgkJc2ltdWxhdGVkRXZlbnQuaW5pdE1vdXNlRXZlbnQoCgkJICAgICAgICB0eXBlLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsCgkJICAgICAgICBlLnNjcmVlblgsIGUuc2NyZWVuWSwKCQkgICAgICAgIGUuY2xpZW50WCwgZS5jbGllbnRZLAoJCSAgICAgICAgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpOwoKCQllLnRhcmdldC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlZEV2ZW50KTsKCX0KfSk7CgppZiAoTC5Ccm93c2VyLnRvdWNoICYmICFMLkJyb3dzZXIucG9pbnRlcikgewoJTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAndGFwJywgTC5NYXAuVGFwKTsKfQoKCi8qCiAqIEwuSGFuZGxlci5TaGlmdERyYWdab29tIGlzIHVzZWQgdG8gYWRkIHNoaWZ0LWRyYWcgem9vbSBpbnRlcmFjdGlvbiB0byB0aGUgbWFwCiAgKiAoem9vbSB0byBhIHNlbGVjdGVkIGJvdW5kaW5nIGJveCksIGVuYWJsZWQgYnkgZGVmYXVsdC4KICovCgpMLk1hcC5tZXJnZU9wdGlvbnMoewoJYm94Wm9vbTogdHJ1ZQp9KTsKCkwuTWFwLkJveFpvb20gPSBMLkhhbmRsZXIuZXh0ZW5kKHsKCWluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXApIHsKCQl0aGlzLl9tYXAgPSBtYXA7CgkJdGhpcy5fY29udGFpbmVyID0gbWFwLl9jb250YWluZXI7CgkJdGhpcy5fcGFuZSA9IG1hcC5fcGFuZXMub3ZlcmxheVBhbmU7CgkJdGhpcy5fbW92ZWQgPSBmYWxzZTsKCX0sCgoJYWRkSG9va3M6IGZ1bmN0aW9uICgpIHsKCQlMLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTsKCX0sCgoJcmVtb3ZlSG9va3M6IGZ1bmN0aW9uICgpIHsKCQlMLkRvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIsICdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7CgkJdGhpcy5fbW92ZWQgPSBmYWxzZTsKCX0sCgoJbW92ZWQ6IGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5fbW92ZWQ7Cgl9LAoKCV9vbk1vdXNlRG93bjogZnVuY3Rpb24gKGUpIHsKCQl0aGlzLl9tb3ZlZCA9IGZhbHNlOwoKCQlpZiAoIWUuc2hpZnRLZXkgfHwgKChlLndoaWNoICE9PSAxKSAmJiAoZS5idXR0b24gIT09IDEpKSkgeyByZXR1cm4gZmFsc2U7IH0KCgkJTC5Eb21VdGlsLmRpc2FibGVUZXh0U2VsZWN0aW9uKCk7CgkJTC5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKTsKCgkJdGhpcy5fc3RhcnRMYXllclBvaW50ID0gdGhpcy5fbWFwLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQoZSk7CgoJCUwuRG9tRXZlbnQKCQkgICAgLm9uKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRoaXMpCgkJICAgIC5vbihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXAsIHRoaXMpCgkJICAgIC5vbihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMpOwoJfSwKCglfb25Nb3VzZU1vdmU6IGZ1bmN0aW9uIChlKSB7CgkJaWYgKCF0aGlzLl9tb3ZlZCkgewoJCQl0aGlzLl9ib3ggPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC16b29tLWJveCcsIHRoaXMuX3BhbmUpOwoJCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fYm94LCB0aGlzLl9zdGFydExheWVyUG9pbnQpOwoKCQkJLy9UT0RPIHJlZmFjdG9yOiBtb3ZlIGN1cnNvciB0byBzdHlsZXMKCQkJdGhpcy5fY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInOwoJCQl0aGlzLl9tYXAuZmlyZSgnYm94em9vbXN0YXJ0Jyk7CgkJfQoKCQl2YXIgc3RhcnRQb2ludCA9IHRoaXMuX3N0YXJ0TGF5ZXJQb2ludCwKCQkgICAgYm94ID0gdGhpcy5fYm94LAoKCQkgICAgbGF5ZXJQb2ludCA9IHRoaXMuX21hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpLAoJCSAgICBvZmZzZXQgPSBsYXllclBvaW50LnN1YnRyYWN0KHN0YXJ0UG9pbnQpLAoKCQkgICAgbmV3UG9zID0gbmV3IEwuUG9pbnQoCgkJICAgICAgICBNYXRoLm1pbihsYXllclBvaW50LngsIHN0YXJ0UG9pbnQueCksCgkJICAgICAgICBNYXRoLm1pbihsYXllclBvaW50LnksIHN0YXJ0UG9pbnQueSkpOwoKCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24oYm94LCBuZXdQb3MpOwoKCQl0aGlzLl9tb3ZlZCA9IHRydWU7CgoJCS8vIFRPRE8gcmVmYWN0b3I6IHJlbW92ZSBoYXJkY29kZWQgNCBwaXhlbHMKCQlib3guc3R5bGUud2lkdGggID0gKE1hdGgubWF4KDAsIE1hdGguYWJzKG9mZnNldC54KSAtIDQpKSArICdweCc7CgkJYm94LnN0eWxlLmhlaWdodCA9IChNYXRoLm1heCgwLCBNYXRoLmFicyhvZmZzZXQueSkgLSA0KSkgKyAncHgnOwoJfSwKCglfZmluaXNoOiBmdW5jdGlvbiAoKSB7CgkJaWYgKHRoaXMuX21vdmVkKSB7CgkJCXRoaXMuX3BhbmUucmVtb3ZlQ2hpbGQodGhpcy5fYm94KTsKCQkJdGhpcy5fY29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICcnOwoJCX0KCgkJTC5Eb21VdGlsLmVuYWJsZVRleHRTZWxlY3Rpb24oKTsKCQlMLkRvbVV0aWwuZW5hYmxlSW1hZ2VEcmFnKCk7CgoJCUwuRG9tRXZlbnQKCQkgICAgLm9mZihkb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKQoJCSAgICAub2ZmKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCkKCQkgICAgLm9mZihkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pOwoJfSwKCglfb25Nb3VzZVVwOiBmdW5jdGlvbiAoZSkgewoKCQl0aGlzLl9maW5pc2goKTsKCgkJdmFyIG1hcCA9IHRoaXMuX21hcCwKCQkgICAgbGF5ZXJQb2ludCA9IG1hcC5tb3VzZUV2ZW50VG9MYXllclBvaW50KGUpOwoKCQlpZiAodGhpcy5fc3RhcnRMYXllclBvaW50LmVxdWFscyhsYXllclBvaW50KSkgeyByZXR1cm47IH0KCgkJdmFyIGJvdW5kcyA9IG5ldyBMLkxhdExuZ0JvdW5kcygKCQkgICAgICAgIG1hcC5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fc3RhcnRMYXllclBvaW50KSwKCQkgICAgICAgIG1hcC5sYXllclBvaW50VG9MYXRMbmcobGF5ZXJQb2ludCkpOwoKCQltYXAuZml0Qm91bmRzKGJvdW5kcyk7CgoJCW1hcC5maXJlKCdib3h6b29tZW5kJywgewoJCQlib3hab29tQm91bmRzOiBib3VuZHMKCQl9KTsKCX0sCgoJX29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHsKCQlpZiAoZS5rZXlDb2RlID09PSAyNykgewoJCQl0aGlzLl9maW5pc2goKTsKCQl9Cgl9Cn0pOwoKTC5NYXAuYWRkSW5pdEhvb2soJ2FkZEhhbmRsZXInLCAnYm94Wm9vbScsIEwuTWFwLkJveFpvb20pOwoKCi8qCiAqIEwuTWFwLktleWJvYXJkIGlzIGhhbmRsaW5nIGtleWJvYXJkIGludGVyYWN0aW9uIHdpdGggdGhlIG1hcCwgZW5hYmxlZCBieSBkZWZhdWx0LgogKi8KCkwuTWFwLm1lcmdlT3B0aW9ucyh7CglrZXlib2FyZDogdHJ1ZSwKCWtleWJvYXJkUGFuT2Zmc2V0OiA4MCwKCWtleWJvYXJkWm9vbU9mZnNldDogMQp9KTsKCkwuTWFwLktleWJvYXJkID0gTC5IYW5kbGVyLmV4dGVuZCh7CgoJa2V5Q29kZXM6IHsKCQlsZWZ0OiAgICBbMzddLAoJCXJpZ2h0OiAgIFszOV0sCgkJZG93bjogICAgWzQwXSwKCQl1cDogICAgICBbMzhdLAoJCXpvb21JbjogIFsxODcsIDEwNywgNjEsIDE3MV0sCgkJem9vbU91dDogWzE4OSwgMTA5LCAxNzNdCgl9LAoKCWluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXApIHsKCQl0aGlzLl9tYXAgPSBtYXA7CgoJCXRoaXMuX3NldFBhbk9mZnNldChtYXAub3B0aW9ucy5rZXlib2FyZFBhbk9mZnNldCk7CgkJdGhpcy5fc2V0Wm9vbU9mZnNldChtYXAub3B0aW9ucy5rZXlib2FyZFpvb21PZmZzZXQpOwoJfSwKCglhZGRIb29rczogZnVuY3Rpb24gKCkgewoJCXZhciBjb250YWluZXIgPSB0aGlzLl9tYXAuX2NvbnRhaW5lcjsKCgkJLy8gbWFrZSB0aGUgY29udGFpbmVyIGZvY3VzYWJsZSBieSB0YWJiaW5nCgkJaWYgKGNvbnRhaW5lci50YWJJbmRleCA9PT0gLTEpIHsKCQkJY29udGFpbmVyLnRhYkluZGV4ID0gJzAnOwoJCX0KCgkJTC5Eb21FdmVudAoJCSAgICAub24oY29udGFpbmVyLCAnZm9jdXMnLCB0aGlzLl9vbkZvY3VzLCB0aGlzKQoJCSAgICAub24oY29udGFpbmVyLCAnYmx1cicsIHRoaXMuX29uQmx1ciwgdGhpcykKCQkgICAgLm9uKGNvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTsKCgkJdGhpcy5fbWFwCgkJICAgIC5vbignZm9jdXMnLCB0aGlzLl9hZGRIb29rcywgdGhpcykKCQkgICAgLm9uKCdibHVyJywgdGhpcy5fcmVtb3ZlSG9va3MsIHRoaXMpOwoJfSwKCglyZW1vdmVIb29rczogZnVuY3Rpb24gKCkgewoJCXRoaXMuX3JlbW92ZUhvb2tzKCk7CgoJCXZhciBjb250YWluZXIgPSB0aGlzLl9tYXAuX2NvbnRhaW5lcjsKCgkJTC5Eb21FdmVudAoJCSAgICAub2ZmKGNvbnRhaW5lciwgJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cywgdGhpcykKCQkgICAgLm9mZihjb250YWluZXIsICdibHVyJywgdGhpcy5fb25CbHVyLCB0aGlzKQoJCSAgICAub2ZmKGNvbnRhaW5lciwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0aGlzKTsKCgkJdGhpcy5fbWFwCgkJICAgIC5vZmYoJ2ZvY3VzJywgdGhpcy5fYWRkSG9va3MsIHRoaXMpCgkJICAgIC5vZmYoJ2JsdXInLCB0aGlzLl9yZW1vdmVIb29rcywgdGhpcyk7Cgl9LAoKCV9vbk1vdXNlRG93bjogZnVuY3Rpb24gKCkgewoJCWlmICh0aGlzLl9mb2N1c2VkKSB7IHJldHVybjsgfQoKCQl2YXIgYm9keSA9IGRvY3VtZW50LmJvZHksCgkJICAgIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAoJCSAgICB0b3AgPSBib2R5LnNjcm9sbFRvcCB8fCBkb2NFbC5zY3JvbGxUb3AsCgkJICAgIGxlZnQgPSBib2R5LnNjcm9sbExlZnQgfHwgZG9jRWwuc2Nyb2xsTGVmdDsKCgkJdGhpcy5fbWFwLl9jb250YWluZXIuZm9jdXMoKTsKCgkJd2luZG93LnNjcm9sbFRvKGxlZnQsIHRvcCk7Cgl9LAoKCV9vbkZvY3VzOiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5fZm9jdXNlZCA9IHRydWU7CgkJdGhpcy5fbWFwLmZpcmUoJ2ZvY3VzJyk7Cgl9LAoKCV9vbkJsdXI6IGZ1bmN0aW9uICgpIHsKCQl0aGlzLl9mb2N1c2VkID0gZmFsc2U7CgkJdGhpcy5fbWFwLmZpcmUoJ2JsdXInKTsKCX0sCgoJX3NldFBhbk9mZnNldDogZnVuY3Rpb24gKHBhbikgewoJCXZhciBrZXlzID0gdGhpcy5fcGFuS2V5cyA9IHt9LAoJCSAgICBjb2RlcyA9IHRoaXMua2V5Q29kZXMsCgkJICAgIGksIGxlbjsKCgkJZm9yIChpID0gMCwgbGVuID0gY29kZXMubGVmdC5sZW5ndGg7IGkgPCBsZW47IGkrKykgewoJCQlrZXlzW2NvZGVzLmxlZnRbaV1dID0gWy0xICogcGFuLCAwXTsKCQl9CgkJZm9yIChpID0gMCwgbGVuID0gY29kZXMucmlnaHQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKCQkJa2V5c1tjb2Rlcy5yaWdodFtpXV0gPSBbcGFuLCAwXTsKCQl9CgkJZm9yIChpID0gMCwgbGVuID0gY29kZXMuZG93bi5sZW5ndGg7IGkgPCBsZW47IGkrKykgewoJCQlrZXlzW2NvZGVzLmRvd25baV1dID0gWzAsIHBhbl07CgkJfQoJCWZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnVwLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CgkJCWtleXNbY29kZXMudXBbaV1dID0gWzAsIC0xICogcGFuXTsKCQl9Cgl9LAoKCV9zZXRab29tT2Zmc2V0OiBmdW5jdGlvbiAoem9vbSkgewoJCXZhciBrZXlzID0gdGhpcy5fem9vbUtleXMgPSB7fSwKCQkgICAgY29kZXMgPSB0aGlzLmtleUNvZGVzLAoJCSAgICBpLCBsZW47CgoJCWZvciAoaSA9IDAsIGxlbiA9IGNvZGVzLnpvb21Jbi5sZW5ndGg7IGkgPCBsZW47IGkrKykgewoJCQlrZXlzW2NvZGVzLnpvb21JbltpXV0gPSB6b29tOwoJCX0KCQlmb3IgKGkgPSAwLCBsZW4gPSBjb2Rlcy56b29tT3V0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CgkJCWtleXNbY29kZXMuem9vbU91dFtpXV0gPSAtem9vbTsKCQl9Cgl9LAoKCV9hZGRIb29rczogZnVuY3Rpb24gKCkgewoJCUwuRG9tRXZlbnQub24oZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzKTsKCX0sCgoJX3JlbW92ZUhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJTC5Eb21FdmVudC5vZmYoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzKTsKCX0sCgoJX29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHsKCQl2YXIga2V5ID0gZS5rZXlDb2RlLAoJCSAgICBtYXAgPSB0aGlzLl9tYXA7CgoJCWlmIChrZXkgaW4gdGhpcy5fcGFuS2V5cykgewoKCQkJaWYgKG1hcC5fcGFuQW5pbSAmJiBtYXAuX3BhbkFuaW0uX2luUHJvZ3Jlc3MpIHsgcmV0dXJuOyB9CgoJCQltYXAucGFuQnkodGhpcy5fcGFuS2V5c1trZXldKTsKCgkJCWlmIChtYXAub3B0aW9ucy5tYXhCb3VuZHMpIHsKCQkJCW1hcC5wYW5JbnNpZGVCb3VuZHMobWFwLm9wdGlvbnMubWF4Qm91bmRzKTsKCQkJfQoKCQl9IGVsc2UgaWYgKGtleSBpbiB0aGlzLl96b29tS2V5cykgewoJCQltYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgdGhpcy5fem9vbUtleXNba2V5XSk7CgoJCX0gZWxzZSB7CgkJCXJldHVybjsKCQl9CgoJCUwuRG9tRXZlbnQuc3RvcChlKTsKCX0KfSk7CgpMLk1hcC5hZGRJbml0SG9vaygnYWRkSGFuZGxlcicsICdrZXlib2FyZCcsIEwuTWFwLktleWJvYXJkKTsKCgovKgogKiBMLkhhbmRsZXIuTWFya2VyRHJhZyBpcyB1c2VkIGludGVybmFsbHkgYnkgTC5NYXJrZXIgdG8gbWFrZSB0aGUgbWFya2VycyBkcmFnZ2FibGUuCiAqLwoKTC5IYW5kbGVyLk1hcmtlckRyYWcgPSBMLkhhbmRsZXIuZXh0ZW5kKHsKCWluaXRpYWxpemU6IGZ1bmN0aW9uIChtYXJrZXIpIHsKCQl0aGlzLl9tYXJrZXIgPSBtYXJrZXI7Cgl9LAoKCWFkZEhvb2tzOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGljb24gPSB0aGlzLl9tYXJrZXIuX2ljb247CgkJaWYgKCF0aGlzLl9kcmFnZ2FibGUpIHsKCQkJdGhpcy5fZHJhZ2dhYmxlID0gbmV3IEwuRHJhZ2dhYmxlKGljb24sIGljb24pOwoJCX0KCgkJdGhpcy5fZHJhZ2dhYmxlCgkJCS5vbignZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQsIHRoaXMpCgkJCS5vbignZHJhZycsIHRoaXMuX29uRHJhZywgdGhpcykKCQkJLm9uKCdkcmFnZW5kJywgdGhpcy5fb25EcmFnRW5kLCB0aGlzKTsKCQl0aGlzLl9kcmFnZ2FibGUuZW5hYmxlKCk7CgkJTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcmtlci5faWNvbiwgJ2xlYWZsZXQtbWFya2VyLWRyYWdnYWJsZScpOwoJfSwKCglyZW1vdmVIb29rczogZnVuY3Rpb24gKCkgewoJCXRoaXMuX2RyYWdnYWJsZQoJCQkub2ZmKCdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCwgdGhpcykKCQkJLm9mZignZHJhZycsIHRoaXMuX29uRHJhZywgdGhpcykKCQkJLm9mZignZHJhZ2VuZCcsIHRoaXMuX29uRHJhZ0VuZCwgdGhpcyk7CgoJCXRoaXMuX2RyYWdnYWJsZS5kaXNhYmxlKCk7CgkJTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcmtlci5faWNvbiwgJ2xlYWZsZXQtbWFya2VyLWRyYWdnYWJsZScpOwoJfSwKCgltb3ZlZDogZnVuY3Rpb24gKCkgewoJCXJldHVybiB0aGlzLl9kcmFnZ2FibGUgJiYgdGhpcy5fZHJhZ2dhYmxlLl9tb3ZlZDsKCX0sCgoJX29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5fbWFya2VyCgkJICAgIC5jbG9zZVBvcHVwKCkKCQkgICAgLmZpcmUoJ21vdmVzdGFydCcpCgkJICAgIC5maXJlKCdkcmFnc3RhcnQnKTsKCX0sCgoJX29uRHJhZzogZnVuY3Rpb24gKCkgewoJCXZhciBtYXJrZXIgPSB0aGlzLl9tYXJrZXIsCgkJICAgIHNoYWRvdyA9IG1hcmtlci5fc2hhZG93LAoJCSAgICBpY29uUG9zID0gTC5Eb21VdGlsLmdldFBvc2l0aW9uKG1hcmtlci5faWNvbiksCgkJICAgIGxhdGxuZyA9IG1hcmtlci5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpY29uUG9zKTsKCgkJLy8gdXBkYXRlIHNoYWRvdyBwb3NpdGlvbgoJCWlmIChzaGFkb3cpIHsKCQkJTC5Eb21VdGlsLnNldFBvc2l0aW9uKHNoYWRvdywgaWNvblBvcyk7CgkJfQoKCQltYXJrZXIuX2xhdGxuZyA9IGxhdGxuZzsKCgkJbWFya2VyCgkJICAgIC5maXJlKCdtb3ZlJywge2xhdGxuZzogbGF0bG5nfSkKCQkgICAgLmZpcmUoJ2RyYWcnKTsKCX0sCgoJX29uRHJhZ0VuZDogZnVuY3Rpb24gKGUpIHsKCQl0aGlzLl9tYXJrZXIKCQkgICAgLmZpcmUoJ21vdmVlbmQnKQoJCSAgICAuZmlyZSgnZHJhZ2VuZCcsIGUpOwoJfQp9KTsKCgovKg0KICogTC5Db250cm9sIGlzIGEgYmFzZSBjbGFzcyBmb3IgaW1wbGVtZW50aW5nIG1hcCBjb250cm9scy4gSGFuZGxlcyBwb3NpdGlvbmluZy4NCiAqIEFsbCBvdGhlciBjb250cm9scyBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLg0KICovDQoNCkwuQ29udHJvbCA9IEwuQ2xhc3MuZXh0ZW5kKHsNCglvcHRpb25zOiB7DQoJCXBvc2l0aW9uOiAndG9wcmlnaHQnDQoJfSwNCg0KCWluaXRpYWxpemU6IGZ1bmN0aW9uIChvcHRpb25zKSB7DQoJCUwuc2V0T3B0aW9ucyh0aGlzLCBvcHRpb25zKTsNCgl9LA0KDQoJZ2V0UG9zaXRpb246IGZ1bmN0aW9uICgpIHsNCgkJcmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbjsNCgl9LA0KDQoJc2V0UG9zaXRpb246IGZ1bmN0aW9uIChwb3NpdGlvbikgew0KCQl2YXIgbWFwID0gdGhpcy5fbWFwOw0KDQoJCWlmIChtYXApIHsNCgkJCW1hcC5yZW1vdmVDb250cm9sKHRoaXMpOw0KCQl9DQoNCgkJdGhpcy5vcHRpb25zLnBvc2l0aW9uID0gcG9zaXRpb247DQoNCgkJaWYgKG1hcCkgew0KCQkJbWFwLmFkZENvbnRyb2wodGhpcyk7DQoJCX0NCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJZ2V0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7DQoJCXJldHVybiB0aGlzLl9jb250YWluZXI7DQoJfSwNCg0KCWFkZFRvOiBmdW5jdGlvbiAobWFwKSB7DQoJCXRoaXMuX21hcCA9IG1hcDsNCg0KCQl2YXIgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gdGhpcy5vbkFkZChtYXApLA0KCQkgICAgcG9zID0gdGhpcy5nZXRQb3NpdGlvbigpLA0KCQkgICAgY29ybmVyID0gbWFwLl9jb250cm9sQ29ybmVyc1twb3NdOw0KDQoJCUwuRG9tVXRpbC5hZGRDbGFzcyhjb250YWluZXIsICdsZWFmbGV0LWNvbnRyb2wnKTsNCg0KCQlpZiAocG9zLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMSkgew0KCQkJY29ybmVyLmluc2VydEJlZm9yZShjb250YWluZXIsIGNvcm5lci5maXJzdENoaWxkKTsNCgkJfSBlbHNlIHsNCgkJCWNvcm5lci5hcHBlbmRDaGlsZChjb250YWluZXIpOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXJlbW92ZUZyb206IGZ1bmN0aW9uIChtYXApIHsNCgkJdmFyIHBvcyA9IHRoaXMuZ2V0UG9zaXRpb24oKSwNCgkJICAgIGNvcm5lciA9IG1hcC5fY29udHJvbENvcm5lcnNbcG9zXTsNCg0KCQljb3JuZXIucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTsNCgkJdGhpcy5fbWFwID0gbnVsbDsNCg0KCQlpZiAodGhpcy5vblJlbW92ZSkgew0KCQkJdGhpcy5vblJlbW92ZShtYXApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCV9yZWZvY3VzT25NYXA6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKHRoaXMuX21hcCkgew0KCQkJdGhpcy5fbWFwLmdldENvbnRhaW5lcigpLmZvY3VzKCk7DQoJCX0NCgl9DQp9KTsNCg0KTC5jb250cm9sID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCglyZXR1cm4gbmV3IEwuQ29udHJvbChvcHRpb25zKTsNCn07DQoNCg0KLy8gYWRkcyBjb250cm9sLXJlbGF0ZWQgbWV0aG9kcyB0byBMLk1hcA0KDQpMLk1hcC5pbmNsdWRlKHsNCglhZGRDb250cm9sOiBmdW5jdGlvbiAoY29udHJvbCkgew0KCQljb250cm9sLmFkZFRvKHRoaXMpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJcmVtb3ZlQ29udHJvbDogZnVuY3Rpb24gKGNvbnRyb2wpIHsNCgkJY29udHJvbC5yZW1vdmVGcm9tKHRoaXMpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJX2luaXRDb250cm9sUG9zOiBmdW5jdGlvbiAoKSB7DQoJCXZhciBjb3JuZXJzID0gdGhpcy5fY29udHJvbENvcm5lcnMgPSB7fSwNCgkJICAgIGwgPSAnbGVhZmxldC0nLA0KCQkgICAgY29udGFpbmVyID0gdGhpcy5fY29udHJvbENvbnRhaW5lciA9DQoJCSAgICAgICAgICAgIEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGwgKyAnY29udHJvbC1jb250YWluZXInLCB0aGlzLl9jb250YWluZXIpOw0KDQoJCWZ1bmN0aW9uIGNyZWF0ZUNvcm5lcih2U2lkZSwgaFNpZGUpIHsNCgkJCXZhciBjbGFzc05hbWUgPSBsICsgdlNpZGUgKyAnICcgKyBsICsgaFNpZGU7DQoNCgkJCWNvcm5lcnNbdlNpZGUgKyBoU2lkZV0gPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7DQoJCX0NCg0KCQljcmVhdGVDb3JuZXIoJ3RvcCcsICdsZWZ0Jyk7DQoJCWNyZWF0ZUNvcm5lcigndG9wJywgJ3JpZ2h0Jyk7DQoJCWNyZWF0ZUNvcm5lcignYm90dG9tJywgJ2xlZnQnKTsNCgkJY3JlYXRlQ29ybmVyKCdib3R0b20nLCAncmlnaHQnKTsNCgl9LA0KDQoJX2NsZWFyQ29udHJvbFBvczogZnVuY3Rpb24gKCkgew0KCQl0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fY29udHJvbENvbnRhaW5lcik7DQoJfQ0KfSk7DQoKCi8qDQogKiBMLkNvbnRyb2wuWm9vbSBpcyB1c2VkIGZvciB0aGUgZGVmYXVsdCB6b29tIGJ1dHRvbnMgb24gdGhlIG1hcC4NCiAqLw0KDQpMLkNvbnRyb2wuWm9vbSA9IEwuQ29udHJvbC5leHRlbmQoew0KCW9wdGlvbnM6IHsNCgkJcG9zaXRpb246ICd0b3BsZWZ0JywNCgkJem9vbUluVGV4dDogJysnLA0KCQl6b29tSW5UaXRsZTogJ1pvb20gaW4nLA0KCQl6b29tT3V0VGV4dDogJy0nLA0KCQl6b29tT3V0VGl0bGU6ICdab29tIG91dCcNCgl9LA0KDQoJb25BZGQ6IGZ1bmN0aW9uIChtYXApIHsNCgkJdmFyIHpvb21OYW1lID0gJ2xlYWZsZXQtY29udHJvbC16b29tJywNCgkJICAgIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIHpvb21OYW1lICsgJyBsZWFmbGV0LWJhcicpOw0KDQoJCXRoaXMuX21hcCA9IG1hcDsNCg0KCQl0aGlzLl96b29tSW5CdXR0b24gID0gdGhpcy5fY3JlYXRlQnV0dG9uKA0KCQkgICAgICAgIHRoaXMub3B0aW9ucy56b29tSW5UZXh0LCB0aGlzLm9wdGlvbnMuem9vbUluVGl0bGUsDQoJCSAgICAgICAgem9vbU5hbWUgKyAnLWluJywgIGNvbnRhaW5lciwgdGhpcy5fem9vbUluLCAgdGhpcyk7DQoJCXRoaXMuX3pvb21PdXRCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oDQoJCSAgICAgICAgdGhpcy5vcHRpb25zLnpvb21PdXRUZXh0LCB0aGlzLm9wdGlvbnMuem9vbU91dFRpdGxlLA0KCQkgICAgICAgIHpvb21OYW1lICsgJy1vdXQnLCBjb250YWluZXIsIHRoaXMuX3pvb21PdXQsIHRoaXMpOw0KDQoJCXRoaXMuX3VwZGF0ZURpc2FibGVkKCk7DQoJCW1hcC5vbignem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlJywgdGhpcy5fdXBkYXRlRGlzYWJsZWQsIHRoaXMpOw0KDQoJCXJldHVybiBjb250YWluZXI7DQoJfSwNCg0KCW9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7DQoJCW1hcC5vZmYoJ3pvb21lbmQgem9vbWxldmVsc2NoYW5nZScsIHRoaXMuX3VwZGF0ZURpc2FibGVkLCB0aGlzKTsNCgl9LA0KDQoJX3pvb21JbjogZnVuY3Rpb24gKGUpIHsNCgkJdGhpcy5fbWFwLnpvb21JbihlLnNoaWZ0S2V5ID8gMyA6IDEpOw0KCX0sDQoNCglfem9vbU91dDogZnVuY3Rpb24gKGUpIHsNCgkJdGhpcy5fbWFwLnpvb21PdXQoZS5zaGlmdEtleSA/IDMgOiAxKTsNCgl9LA0KDQoJX2NyZWF0ZUJ1dHRvbjogZnVuY3Rpb24gKGh0bWwsIHRpdGxlLCBjbGFzc05hbWUsIGNvbnRhaW5lciwgZm4sIGNvbnRleHQpIHsNCgkJdmFyIGxpbmsgPSBMLkRvbVV0aWwuY3JlYXRlKCdhJywgY2xhc3NOYW1lLCBjb250YWluZXIpOw0KCQlsaW5rLmlubmVySFRNTCA9IGh0bWw7DQoJCWxpbmsuaHJlZiA9ICcjJzsNCgkJbGluay50aXRsZSA9IHRpdGxlOw0KDQoJCXZhciBzdG9wID0gTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247DQoNCgkJTC5Eb21FdmVudA0KCQkgICAgLm9uKGxpbmssICdjbGljaycsIHN0b3ApDQoJCSAgICAub24obGluaywgJ21vdXNlZG93bicsIHN0b3ApDQoJCSAgICAub24obGluaywgJ2RibGNsaWNrJywgc3RvcCkNCgkJICAgIC5vbihsaW5rLCAnY2xpY2snLCBMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KQ0KCQkgICAgLm9uKGxpbmssICdjbGljaycsIGZuLCBjb250ZXh0KQ0KCQkgICAgLm9uKGxpbmssICdjbGljaycsIHRoaXMuX3JlZm9jdXNPbk1hcCwgY29udGV4dCk7DQoNCgkJcmV0dXJuIGxpbms7DQoJfSwNCg0KCV91cGRhdGVEaXNhYmxlZDogZnVuY3Rpb24gKCkgew0KCQl2YXIgbWFwID0gdGhpcy5fbWFwLA0KCQkJY2xhc3NOYW1lID0gJ2xlYWZsZXQtZGlzYWJsZWQnOw0KDQoJCUwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tSW5CdXR0b24sIGNsYXNzTmFtZSk7DQoJCUwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLCBjbGFzc05hbWUpOw0KDQoJCWlmIChtYXAuX3pvb20gPT09IG1hcC5nZXRNaW5ab29tKCkpIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLCBjbGFzc05hbWUpOw0KCQl9DQoJCWlmIChtYXAuX3pvb20gPT09IG1hcC5nZXRNYXhab29tKCkpIHsNCgkJCUwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl96b29tSW5CdXR0b24sIGNsYXNzTmFtZSk7DQoJCX0NCgl9DQp9KTsNCg0KTC5NYXAubWVyZ2VPcHRpb25zKHsNCgl6b29tQ29udHJvbDogdHJ1ZQ0KfSk7DQoNCkwuTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uICgpIHsNCglpZiAodGhpcy5vcHRpb25zLnpvb21Db250cm9sKSB7DQoJCXRoaXMuem9vbUNvbnRyb2wgPSBuZXcgTC5Db250cm9sLlpvb20oKTsNCgkJdGhpcy5hZGRDb250cm9sKHRoaXMuem9vbUNvbnRyb2wpOw0KCX0NCn0pOw0KDQpMLmNvbnRyb2wuem9vbSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7DQoJcmV0dXJuIG5ldyBMLkNvbnRyb2wuWm9vbShvcHRpb25zKTsNCn07DQoNCgoKLyoNCiAqIEwuQ29udHJvbC5BdHRyaWJ1dGlvbiBpcyB1c2VkIGZvciBkaXNwbGF5aW5nIGF0dHJpYnV0aW9uIG9uIHRoZSBtYXAgKGFkZGVkIGJ5IGRlZmF1bHQpLg0KICovDQoNCkwuQ29udHJvbC5BdHRyaWJ1dGlvbiA9IEwuQ29udHJvbC5leHRlbmQoew0KCW9wdGlvbnM6IHsNCgkJcG9zaXRpb246ICdib3R0b21yaWdodCcsDQoJCXByZWZpeDogJzxhIGhyZWY9Imh0dHA6Ly9sZWFmbGV0anMuY29tIiB0aXRsZT0iQSBKUyBsaWJyYXJ5IGZvciBpbnRlcmFjdGl2ZSBtYXBzIj5MZWFmbGV0PC9hPicNCgl9LA0KDQoJaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHsNCgkJTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpOw0KDQoJCXRoaXMuX2F0dHJpYnV0aW9ucyA9IHt9Ow0KCX0sDQoNCglvbkFkZDogZnVuY3Rpb24gKG1hcCkgew0KCQl0aGlzLl9jb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9uJyk7DQoJCUwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fY29udGFpbmVyKTsNCg0KCQlmb3IgKHZhciBpIGluIG1hcC5fbGF5ZXJzKSB7DQoJCQlpZiAobWFwLl9sYXllcnNbaV0uZ2V0QXR0cmlidXRpb24pIHsNCgkJCQl0aGlzLmFkZEF0dHJpYnV0aW9uKG1hcC5fbGF5ZXJzW2ldLmdldEF0dHJpYnV0aW9uKCkpOw0KCQkJfQ0KCQl9DQoJCQ0KCQltYXANCgkJICAgIC5vbignbGF5ZXJhZGQnLCB0aGlzLl9vbkxheWVyQWRkLCB0aGlzKQ0KCQkgICAgLm9uKCdsYXllcnJlbW92ZScsIHRoaXMuX29uTGF5ZXJSZW1vdmUsIHRoaXMpOw0KDQoJCXRoaXMuX3VwZGF0ZSgpOw0KDQoJCXJldHVybiB0aGlzLl9jb250YWluZXI7DQoJfSwNCg0KCW9uUmVtb3ZlOiBmdW5jdGlvbiAobWFwKSB7DQoJCW1hcA0KCQkgICAgLm9mZignbGF5ZXJhZGQnLCB0aGlzLl9vbkxheWVyQWRkKQ0KCQkgICAgLm9mZignbGF5ZXJyZW1vdmUnLCB0aGlzLl9vbkxheWVyUmVtb3ZlKTsNCg0KCX0sDQoNCglzZXRQcmVmaXg6IGZ1bmN0aW9uIChwcmVmaXgpIHsNCgkJdGhpcy5vcHRpb25zLnByZWZpeCA9IHByZWZpeDsNCgkJdGhpcy5fdXBkYXRlKCk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglhZGRBdHRyaWJ1dGlvbjogZnVuY3Rpb24gKHRleHQpIHsNCgkJaWYgKCF0ZXh0KSB7IHJldHVybjsgfQ0KDQoJCWlmICghdGhpcy5fYXR0cmlidXRpb25zW3RleHRdKSB7DQoJCQl0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0gPSAwOw0KCQl9DQoJCXRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XSsrOw0KDQoJCXRoaXMuX3VwZGF0ZSgpOw0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglyZW1vdmVBdHRyaWJ1dGlvbjogZnVuY3Rpb24gKHRleHQpIHsNCgkJaWYgKCF0ZXh0KSB7IHJldHVybjsgfQ0KDQoJCWlmICh0aGlzLl9hdHRyaWJ1dGlvbnNbdGV4dF0pIHsNCgkJCXRoaXMuX2F0dHJpYnV0aW9uc1t0ZXh0XS0tOw0KCQkJdGhpcy5fdXBkYXRlKCk7DQoJCX0NCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJX3VwZGF0ZTogZnVuY3Rpb24gKCkgew0KCQlpZiAoIXRoaXMuX21hcCkgeyByZXR1cm47IH0NCg0KCQl2YXIgYXR0cmlicyA9IFtdOw0KDQoJCWZvciAodmFyIGkgaW4gdGhpcy5fYXR0cmlidXRpb25zKSB7DQoJCQlpZiAodGhpcy5fYXR0cmlidXRpb25zW2ldKSB7DQoJCQkJYXR0cmlicy5wdXNoKGkpOw0KCQkJfQ0KCQl9DQoNCgkJdmFyIHByZWZpeEFuZEF0dHJpYnMgPSBbXTsNCg0KCQlpZiAodGhpcy5vcHRpb25zLnByZWZpeCkgew0KCQkJcHJlZml4QW5kQXR0cmlicy5wdXNoKHRoaXMub3B0aW9ucy5wcmVmaXgpOw0KCQl9DQoJCWlmIChhdHRyaWJzLmxlbmd0aCkgew0KCQkJcHJlZml4QW5kQXR0cmlicy5wdXNoKGF0dHJpYnMuam9pbignLCAnKSk7DQoJCX0NCg0KCQl0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gcHJlZml4QW5kQXR0cmlicy5qb2luKCcgfCAnKTsNCgl9LA0KDQoJX29uTGF5ZXJBZGQ6IGZ1bmN0aW9uIChlKSB7DQoJCWlmIChlLmxheWVyLmdldEF0dHJpYnV0aW9uKSB7DQoJCQl0aGlzLmFkZEF0dHJpYnV0aW9uKGUubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSk7DQoJCX0NCgl9LA0KDQoJX29uTGF5ZXJSZW1vdmU6IGZ1bmN0aW9uIChlKSB7DQoJCWlmIChlLmxheWVyLmdldEF0dHJpYnV0aW9uKSB7DQoJCQl0aGlzLnJlbW92ZUF0dHJpYnV0aW9uKGUubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSk7DQoJCX0NCgl9DQp9KTsNCg0KTC5NYXAubWVyZ2VPcHRpb25zKHsNCglhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWUNCn0pOw0KDQpMLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7DQoJaWYgKHRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wpIHsNCgkJdGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wgPSAobmV3IEwuQ29udHJvbC5BdHRyaWJ1dGlvbigpKS5hZGRUbyh0aGlzKTsNCgl9DQp9KTsNCg0KTC5jb250cm9sLmF0dHJpYnV0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCglyZXR1cm4gbmV3IEwuQ29udHJvbC5BdHRyaWJ1dGlvbihvcHRpb25zKTsNCn07DQoKCi8qCiAqIEwuQ29udHJvbC5TY2FsZSBpcyB1c2VkIGZvciBkaXNwbGF5aW5nIG1ldHJpYy9pbXBlcmlhbCBzY2FsZSBvbiB0aGUgbWFwLgogKi8KCkwuQ29udHJvbC5TY2FsZSA9IEwuQ29udHJvbC5leHRlbmQoewoJb3B0aW9uczogewoJCXBvc2l0aW9uOiAnYm90dG9tbGVmdCcsCgkJbWF4V2lkdGg6IDEwMCwKCQltZXRyaWM6IHRydWUsCgkJaW1wZXJpYWw6IHRydWUsCgkJdXBkYXRlV2hlbklkbGU6IGZhbHNlCgl9LAoKCW9uQWRkOiBmdW5jdGlvbiAobWFwKSB7CgkJdGhpcy5fbWFwID0gbWFwOwoKCQl2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1zY2FsZScsCgkJICAgIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSksCgkJICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7CgoJCXRoaXMuX2FkZFNjYWxlcyhvcHRpb25zLCBjbGFzc05hbWUsIGNvbnRhaW5lcik7CgoJCW1hcC5vbihvcHRpb25zLnVwZGF0ZVdoZW5JZGxlID8gJ21vdmVlbmQnIDogJ21vdmUnLCB0aGlzLl91cGRhdGUsIHRoaXMpOwoJCW1hcC53aGVuUmVhZHkodGhpcy5fdXBkYXRlLCB0aGlzKTsKCgkJcmV0dXJuIGNvbnRhaW5lcjsKCX0sCgoJb25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHsKCQltYXAub2ZmKHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZSA/ICdtb3ZlZW5kJyA6ICdtb3ZlJywgdGhpcy5fdXBkYXRlLCB0aGlzKTsKCX0sCgoJX2FkZFNjYWxlczogZnVuY3Rpb24gKG9wdGlvbnMsIGNsYXNzTmFtZSwgY29udGFpbmVyKSB7CgkJaWYgKG9wdGlvbnMubWV0cmljKSB7CgkJCXRoaXMuX21TY2FsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICctbGluZScsIGNvbnRhaW5lcik7CgkJfQoJCWlmIChvcHRpb25zLmltcGVyaWFsKSB7CgkJCXRoaXMuX2lTY2FsZSA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICctbGluZScsIGNvbnRhaW5lcik7CgkJfQoJfSwKCglfdXBkYXRlOiBmdW5jdGlvbiAoKSB7CgkJdmFyIGJvdW5kcyA9IHRoaXMuX21hcC5nZXRCb3VuZHMoKSwKCQkgICAgY2VudGVyTGF0ID0gYm91bmRzLmdldENlbnRlcigpLmxhdCwKCQkgICAgaGFsZldvcmxkTWV0ZXJzID0gNjM3ODEzNyAqIE1hdGguUEkgKiBNYXRoLmNvcyhjZW50ZXJMYXQgKiBNYXRoLlBJIC8gMTgwKSwKCQkgICAgZGlzdCA9IGhhbGZXb3JsZE1ldGVycyAqIChib3VuZHMuZ2V0Tm9ydGhFYXN0KCkubG5nIC0gYm91bmRzLmdldFNvdXRoV2VzdCgpLmxuZykgLyAxODAsCgoJCSAgICBzaXplID0gdGhpcy5fbWFwLmdldFNpemUoKSwKCQkgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywKCQkgICAgbWF4TWV0ZXJzID0gMDsKCgkJaWYgKHNpemUueCA+IDApIHsKCQkJbWF4TWV0ZXJzID0gZGlzdCAqIChvcHRpb25zLm1heFdpZHRoIC8gc2l6ZS54KTsKCQl9CgoJCXRoaXMuX3VwZGF0ZVNjYWxlcyhvcHRpb25zLCBtYXhNZXRlcnMpOwoJfSwKCglfdXBkYXRlU2NhbGVzOiBmdW5jdGlvbiAob3B0aW9ucywgbWF4TWV0ZXJzKSB7CgkJaWYgKG9wdGlvbnMubWV0cmljICYmIG1heE1ldGVycykgewoJCQl0aGlzLl91cGRhdGVNZXRyaWMobWF4TWV0ZXJzKTsKCQl9CgoJCWlmIChvcHRpb25zLmltcGVyaWFsICYmIG1heE1ldGVycykgewoJCQl0aGlzLl91cGRhdGVJbXBlcmlhbChtYXhNZXRlcnMpOwoJCX0KCX0sCgoJX3VwZGF0ZU1ldHJpYzogZnVuY3Rpb24gKG1heE1ldGVycykgewoJCXZhciBtZXRlcnMgPSB0aGlzLl9nZXRSb3VuZE51bShtYXhNZXRlcnMpOwoKCQl0aGlzLl9tU2NhbGUuc3R5bGUud2lkdGggPSB0aGlzLl9nZXRTY2FsZVdpZHRoKG1ldGVycyAvIG1heE1ldGVycykgKyAncHgnOwoJCXRoaXMuX21TY2FsZS5pbm5lckhUTUwgPSBtZXRlcnMgPCAxMDAwID8gbWV0ZXJzICsgJyBtJyA6IChtZXRlcnMgLyAxMDAwKSArICcga20nOwoJfSwKCglfdXBkYXRlSW1wZXJpYWw6IGZ1bmN0aW9uIChtYXhNZXRlcnMpIHsKCQl2YXIgbWF4RmVldCA9IG1heE1ldGVycyAqIDMuMjgwODM5OSwKCQkgICAgc2NhbGUgPSB0aGlzLl9pU2NhbGUsCgkJICAgIG1heE1pbGVzLCBtaWxlcywgZmVldDsKCgkJaWYgKG1heEZlZXQgPiA1MjgwKSB7CgkJCW1heE1pbGVzID0gbWF4RmVldCAvIDUyODA7CgkJCW1pbGVzID0gdGhpcy5fZ2V0Um91bmROdW0obWF4TWlsZXMpOwoKCQkJc2NhbGUuc3R5bGUud2lkdGggPSB0aGlzLl9nZXRTY2FsZVdpZHRoKG1pbGVzIC8gbWF4TWlsZXMpICsgJ3B4JzsKCQkJc2NhbGUuaW5uZXJIVE1MID0gbWlsZXMgKyAnIG1pJzsKCgkJfSBlbHNlIHsKCQkJZmVldCA9IHRoaXMuX2dldFJvdW5kTnVtKG1heEZlZXQpOwoKCQkJc2NhbGUuc3R5bGUud2lkdGggPSB0aGlzLl9nZXRTY2FsZVdpZHRoKGZlZXQgLyBtYXhGZWV0KSArICdweCc7CgkJCXNjYWxlLmlubmVySFRNTCA9IGZlZXQgKyAnIGZ0JzsKCQl9Cgl9LAoKCV9nZXRTY2FsZVdpZHRoOiBmdW5jdGlvbiAocmF0aW8pIHsKCQlyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMubWF4V2lkdGggKiByYXRpbykgLSAxMDsKCX0sCgoJX2dldFJvdW5kTnVtOiBmdW5jdGlvbiAobnVtKSB7CgkJdmFyIHBvdzEwID0gTWF0aC5wb3coMTAsIChNYXRoLmZsb29yKG51bSkgKyAnJykubGVuZ3RoIC0gMSksCgkJICAgIGQgPSBudW0gLyBwb3cxMDsKCgkJZCA9IGQgPj0gMTAgPyAxMCA6IGQgPj0gNSA/IDUgOiBkID49IDMgPyAzIDogZCA+PSAyID8gMiA6IDE7CgoJCXJldHVybiBwb3cxMCAqIGQ7Cgl9Cn0pOwoKTC5jb250cm9sLnNjYWxlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKCXJldHVybiBuZXcgTC5Db250cm9sLlNjYWxlKG9wdGlvbnMpOwp9OwoKCi8qDQogKiBMLkNvbnRyb2wuTGF5ZXJzIGlzIGEgY29udHJvbCB0byBhbGxvdyB1c2VycyB0byBzd2l0Y2ggYmV0d2VlbiBkaWZmZXJlbnQgbGF5ZXJzIG9uIHRoZSBtYXAuDQogKi8NCg0KTC5Db250cm9sLkxheWVycyA9IEwuQ29udHJvbC5leHRlbmQoew0KCW9wdGlvbnM6IHsNCgkJY29sbGFwc2VkOiB0cnVlLA0KCQlwb3NpdGlvbjogJ3RvcHJpZ2h0JywNCgkJYXV0b1pJbmRleDogdHJ1ZQ0KCX0sDQoNCglpbml0aWFsaXplOiBmdW5jdGlvbiAoYmFzZUxheWVycywgb3ZlcmxheXMsIG9wdGlvbnMpIHsNCgkJTC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpOw0KDQoJCXRoaXMuX2xheWVycyA9IHt9Ow0KCQl0aGlzLl9sYXN0WkluZGV4ID0gMDsNCgkJdGhpcy5faGFuZGxpbmdDbGljayA9IGZhbHNlOw0KDQoJCWZvciAodmFyIGkgaW4gYmFzZUxheWVycykgew0KCQkJdGhpcy5fYWRkTGF5ZXIoYmFzZUxheWVyc1tpXSwgaSk7DQoJCX0NCg0KCQlmb3IgKGkgaW4gb3ZlcmxheXMpIHsNCgkJCXRoaXMuX2FkZExheWVyKG92ZXJsYXlzW2ldLCBpLCB0cnVlKTsNCgkJfQ0KCX0sDQoNCglvbkFkZDogZnVuY3Rpb24gKG1hcCkgew0KCQl0aGlzLl9pbml0TGF5b3V0KCk7DQoJCXRoaXMuX3VwZGF0ZSgpOw0KDQoJCW1hcA0KCQkgICAgLm9uKCdsYXllcmFkZCcsIHRoaXMuX29uTGF5ZXJDaGFuZ2UsIHRoaXMpDQoJCSAgICAub24oJ2xheWVycmVtb3ZlJywgdGhpcy5fb25MYXllckNoYW5nZSwgdGhpcyk7DQoNCgkJcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsNCgl9LA0KDQoJb25SZW1vdmU6IGZ1bmN0aW9uIChtYXApIHsNCgkJbWFwDQoJCSAgICAub2ZmKCdsYXllcmFkZCcsIHRoaXMuX29uTGF5ZXJDaGFuZ2UpDQoJCSAgICAub2ZmKCdsYXllcnJlbW92ZScsIHRoaXMuX29uTGF5ZXJDaGFuZ2UpOw0KCX0sDQoNCglhZGRCYXNlTGF5ZXI6IGZ1bmN0aW9uIChsYXllciwgbmFtZSkgew0KCQl0aGlzLl9hZGRMYXllcihsYXllciwgbmFtZSk7DQoJCXRoaXMuX3VwZGF0ZSgpOw0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJYWRkT3ZlcmxheTogZnVuY3Rpb24gKGxheWVyLCBuYW1lKSB7DQoJCXRoaXMuX2FkZExheWVyKGxheWVyLCBuYW1lLCB0cnVlKTsNCgkJdGhpcy5fdXBkYXRlKCk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglyZW1vdmVMYXllcjogZnVuY3Rpb24gKGxheWVyKSB7DQoJCXZhciBpZCA9IEwuc3RhbXAobGF5ZXIpOw0KCQlkZWxldGUgdGhpcy5fbGF5ZXJzW2lkXTsNCgkJdGhpcy5fdXBkYXRlKCk7DQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCglfaW5pdExheW91dDogZnVuY3Rpb24gKCkgew0KCQl2YXIgY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1sYXllcnMnLA0KCQkgICAgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lKTsNCg0KCQkvL01ha2VzIHRoaXMgd29yayBvbiBJRTEwIFRvdWNoIGRldmljZXMgYnkgc3RvcHBpbmcgaXQgZnJvbSBmaXJpbmcgYSBtb3VzZW91dCBldmVudCB3aGVuIHRoZSB0b3VjaCBpcyByZWxlYXNlZA0KCQljb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJywgdHJ1ZSk7DQoNCgkJaWYgKCFMLkJyb3dzZXIudG91Y2gpIHsNCgkJCUwuRG9tRXZlbnQNCgkJCQkuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oY29udGFpbmVyKQ0KCQkJCS5kaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24oY29udGFpbmVyKTsNCgkJfSBlbHNlIHsNCgkJCUwuRG9tRXZlbnQub24oY29udGFpbmVyLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbik7DQoJCX0NCg0KCQl2YXIgZm9ybSA9IHRoaXMuX2Zvcm0gPSBMLkRvbVV0aWwuY3JlYXRlKCdmb3JtJywgY2xhc3NOYW1lICsgJy1saXN0Jyk7DQoNCgkJaWYgKHRoaXMub3B0aW9ucy5jb2xsYXBzZWQpIHsNCgkJCWlmICghTC5Ccm93c2VyLmFuZHJvaWQpIHsNCgkJCQlMLkRvbUV2ZW50DQoJCQkJICAgIC5vbihjb250YWluZXIsICdtb3VzZW92ZXInLCB0aGlzLl9leHBhbmQsIHRoaXMpDQoJCQkJICAgIC5vbihjb250YWluZXIsICdtb3VzZW91dCcsIHRoaXMuX2NvbGxhcHNlLCB0aGlzKTsNCgkJCX0NCgkJCXZhciBsaW5rID0gdGhpcy5fbGF5ZXJzTGluayA9IEwuRG9tVXRpbC5jcmVhdGUoJ2EnLCBjbGFzc05hbWUgKyAnLXRvZ2dsZScsIGNvbnRhaW5lcik7DQoJCQlsaW5rLmhyZWYgPSAnIyc7DQoJCQlsaW5rLnRpdGxlID0gJ0xheWVycyc7DQoNCgkJCWlmIChMLkJyb3dzZXIudG91Y2gpIHsNCgkJCQlMLkRvbUV2ZW50DQoJCQkJICAgIC5vbihsaW5rLCAnY2xpY2snLCBMLkRvbUV2ZW50LnN0b3ApDQoJCQkJICAgIC5vbihsaW5rLCAnY2xpY2snLCB0aGlzLl9leHBhbmQsIHRoaXMpOw0KCQkJfQ0KCQkJZWxzZSB7DQoJCQkJTC5Eb21FdmVudC5vbihsaW5rLCAnZm9jdXMnLCB0aGlzLl9leHBhbmQsIHRoaXMpOw0KCQkJfQ0KCQkJLy9Xb3JrIGFyb3VuZCBmb3IgRmlyZWZveCBhbmRyb2lkIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWFmbGV0L0xlYWZsZXQvaXNzdWVzLzIwMzMNCgkJCUwuRG9tRXZlbnQub24oZm9ybSwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgew0KCQkJCXNldFRpbWVvdXQoTC5iaW5kKHRoaXMuX29uSW5wdXRDbGljaywgdGhpcyksIDApOw0KCQkJfSwgdGhpcyk7DQoNCgkJCXRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9jb2xsYXBzZSwgdGhpcyk7DQoJCQkvLyBUT0RPIGtleWJvYXJkIGFjY2Vzc2liaWxpdHkNCgkJfSBlbHNlIHsNCgkJCXRoaXMuX2V4cGFuZCgpOw0KCQl9DQoNCgkJdGhpcy5fYmFzZUxheWVyc0xpc3QgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCBjbGFzc05hbWUgKyAnLWJhc2UnLCBmb3JtKTsNCgkJdGhpcy5fc2VwYXJhdG9yID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1zZXBhcmF0b3InLCBmb3JtKTsNCgkJdGhpcy5fb3ZlcmxheXNMaXN0ID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJy1vdmVybGF5cycsIGZvcm0pOw0KDQoJCWNvbnRhaW5lci5hcHBlbmRDaGlsZChmb3JtKTsNCgl9LA0KDQoJX2FkZExheWVyOiBmdW5jdGlvbiAobGF5ZXIsIG5hbWUsIG92ZXJsYXkpIHsNCgkJdmFyIGlkID0gTC5zdGFtcChsYXllcik7DQoNCgkJdGhpcy5fbGF5ZXJzW2lkXSA9IHsNCgkJCWxheWVyOiBsYXllciwNCgkJCW5hbWU6IG5hbWUsDQoJCQlvdmVybGF5OiBvdmVybGF5DQoJCX07DQoNCgkJaWYgKHRoaXMub3B0aW9ucy5hdXRvWkluZGV4ICYmIGxheWVyLnNldFpJbmRleCkgew0KCQkJdGhpcy5fbGFzdFpJbmRleCsrOw0KCQkJbGF5ZXIuc2V0WkluZGV4KHRoaXMuX2xhc3RaSW5kZXgpOw0KCQl9DQoJfSwNCg0KCV91cGRhdGU6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKCF0aGlzLl9jb250YWluZXIpIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCXRoaXMuX2Jhc2VMYXllcnNMaXN0LmlubmVySFRNTCA9ICcnOw0KCQl0aGlzLl9vdmVybGF5c0xpc3QuaW5uZXJIVE1MID0gJyc7DQoNCgkJdmFyIGJhc2VMYXllcnNQcmVzZW50ID0gZmFsc2UsDQoJCSAgICBvdmVybGF5c1ByZXNlbnQgPSBmYWxzZSwNCgkJICAgIGksIG9iajsNCg0KCQlmb3IgKGkgaW4gdGhpcy5fbGF5ZXJzKSB7DQoJCQlvYmogPSB0aGlzLl9sYXllcnNbaV07DQoJCQl0aGlzLl9hZGRJdGVtKG9iaik7DQoJCQlvdmVybGF5c1ByZXNlbnQgPSBvdmVybGF5c1ByZXNlbnQgfHwgb2JqLm92ZXJsYXk7DQoJCQliYXNlTGF5ZXJzUHJlc2VudCA9IGJhc2VMYXllcnNQcmVzZW50IHx8ICFvYmoub3ZlcmxheTsNCgkJfQ0KDQoJCXRoaXMuX3NlcGFyYXRvci5zdHlsZS5kaXNwbGF5ID0gb3ZlcmxheXNQcmVzZW50ICYmIGJhc2VMYXllcnNQcmVzZW50ID8gJycgOiAnbm9uZSc7DQoJfSwNCg0KCV9vbkxheWVyQ2hhbmdlOiBmdW5jdGlvbiAoZSkgew0KCQl2YXIgb2JqID0gdGhpcy5fbGF5ZXJzW0wuc3RhbXAoZS5sYXllcildOw0KDQoJCWlmICghb2JqKSB7IHJldHVybjsgfQ0KDQoJCWlmICghdGhpcy5faGFuZGxpbmdDbGljaykgew0KCQkJdGhpcy5fdXBkYXRlKCk7DQoJCX0NCg0KCQl2YXIgdHlwZSA9IG9iai5vdmVybGF5ID8NCgkJCShlLnR5cGUgPT09ICdsYXllcmFkZCcgPyAnb3ZlcmxheWFkZCcgOiAnb3ZlcmxheXJlbW92ZScpIDoNCgkJCShlLnR5cGUgPT09ICdsYXllcmFkZCcgPyAnYmFzZWxheWVyY2hhbmdlJyA6IG51bGwpOw0KDQoJCWlmICh0eXBlKSB7DQoJCQl0aGlzLl9tYXAuZmlyZSh0eXBlLCBvYmopOw0KCQl9DQoJfSwNCg0KCS8vIElFNyBidWdzIG91dCBpZiB5b3UgY3JlYXRlIGEgcmFkaW8gZHluYW1pY2FsbHksIHNvIHlvdSBoYXZlIHRvIGRvIGl0IHRoaXMgaGFja3kgd2F5IChzZWUgaHR0cDovL2JpdC5seS9QcVlMQmUpDQoJX2NyZWF0ZVJhZGlvRWxlbWVudDogZnVuY3Rpb24gKG5hbWUsIGNoZWNrZWQpIHsNCg0KCQl2YXIgcmFkaW9IdG1sID0gJzxpbnB1dCB0eXBlPSJyYWRpbyIgY2xhc3M9ImxlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3IiIG5hbWU9IicgKyBuYW1lICsgJyInOw0KCQlpZiAoY2hlY2tlZCkgew0KCQkJcmFkaW9IdG1sICs9ICcgY2hlY2tlZD0iY2hlY2tlZCInOw0KCQl9DQoJCXJhZGlvSHRtbCArPSAnLz4nOw0KDQoJCXZhciByYWRpb0ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQoJCXJhZGlvRnJhZ21lbnQuaW5uZXJIVE1MID0gcmFkaW9IdG1sOw0KDQoJCXJldHVybiByYWRpb0ZyYWdtZW50LmZpcnN0Q2hpbGQ7DQoJfSwNCg0KCV9hZGRJdGVtOiBmdW5jdGlvbiAob2JqKSB7DQoJCXZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksDQoJCSAgICBpbnB1dCwNCgkJICAgIGNoZWNrZWQgPSB0aGlzLl9tYXAuaGFzTGF5ZXIob2JqLmxheWVyKTsNCg0KCQlpZiAob2JqLm92ZXJsYXkpIHsNCgkJCWlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCgkJCWlucHV0LnR5cGUgPSAnY2hlY2tib3gnOw0KCQkJaW5wdXQuY2xhc3NOYW1lID0gJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3InOw0KCQkJaW5wdXQuZGVmYXVsdENoZWNrZWQgPSBjaGVja2VkOw0KCQl9IGVsc2Ugew0KCQkJaW5wdXQgPSB0aGlzLl9jcmVhdGVSYWRpb0VsZW1lbnQoJ2xlYWZsZXQtYmFzZS1sYXllcnMnLCBjaGVja2VkKTsNCgkJfQ0KDQoJCWlucHV0LmxheWVySWQgPSBMLnN0YW1wKG9iai5sYXllcik7DQoNCgkJTC5Eb21FdmVudC5vbihpbnB1dCwgJ2NsaWNrJywgdGhpcy5fb25JbnB1dENsaWNrLCB0aGlzKTsNCg0KCQl2YXIgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCgkJbmFtZS5pbm5lckhUTUwgPSAnICcgKyBvYmoubmFtZTsNCg0KCQlsYWJlbC5hcHBlbmRDaGlsZChpbnB1dCk7DQoJCWxhYmVsLmFwcGVuZENoaWxkKG5hbWUpOw0KDQoJCXZhciBjb250YWluZXIgPSBvYmoub3ZlcmxheSA/IHRoaXMuX292ZXJsYXlzTGlzdCA6IHRoaXMuX2Jhc2VMYXllcnNMaXN0Ow0KCQljb250YWluZXIuYXBwZW5kQ2hpbGQobGFiZWwpOw0KDQoJCXJldHVybiBsYWJlbDsNCgl9LA0KDQoJX29uSW5wdXRDbGljazogZnVuY3Rpb24gKCkgew0KCQl2YXIgaSwgaW5wdXQsIG9iaiwNCgkJICAgIGlucHV0cyA9IHRoaXMuX2Zvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JyksDQoJCSAgICBpbnB1dHNMZW4gPSBpbnB1dHMubGVuZ3RoOw0KDQoJCXRoaXMuX2hhbmRsaW5nQ2xpY2sgPSB0cnVlOw0KDQoJCWZvciAoaSA9IDA7IGkgPCBpbnB1dHNMZW47IGkrKykgew0KCQkJaW5wdXQgPSBpbnB1dHNbaV07DQoJCQlvYmogPSB0aGlzLl9sYXllcnNbaW5wdXQubGF5ZXJJZF07DQoNCgkJCWlmIChpbnB1dC5jaGVja2VkICYmICF0aGlzLl9tYXAuaGFzTGF5ZXIob2JqLmxheWVyKSkgew0KCQkJCXRoaXMuX21hcC5hZGRMYXllcihvYmoubGF5ZXIpOw0KDQoJCQl9IGVsc2UgaWYgKCFpbnB1dC5jaGVja2VkICYmIHRoaXMuX21hcC5oYXNMYXllcihvYmoubGF5ZXIpKSB7DQoJCQkJdGhpcy5fbWFwLnJlbW92ZUxheWVyKG9iai5sYXllcik7DQoJCQl9DQoJCX0NCg0KCQl0aGlzLl9oYW5kbGluZ0NsaWNrID0gZmFsc2U7DQoNCgkJdGhpcy5fcmVmb2N1c09uTWFwKCk7DQoJfSwNCg0KCV9leHBhbmQ6IGZ1bmN0aW9uICgpIHsNCgkJTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwgJ2xlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQnKTsNCgl9LA0KDQoJX2NvbGxhcHNlOiBmdW5jdGlvbiAoKSB7DQoJCXRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUgPSB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lLnJlcGxhY2UoJyBsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkJywgJycpOw0KCX0NCn0pOw0KDQpMLmNvbnRyb2wubGF5ZXJzID0gZnVuY3Rpb24gKGJhc2VMYXllcnMsIG92ZXJsYXlzLCBvcHRpb25zKSB7DQoJcmV0dXJuIG5ldyBMLkNvbnRyb2wuTGF5ZXJzKGJhc2VMYXllcnMsIG92ZXJsYXlzLCBvcHRpb25zKTsNCn07DQoKCi8qCiAqIEwuUG9zQW5pbWF0aW9uIGlzIHVzZWQgYnkgTGVhZmxldCBpbnRlcm5hbGx5IGZvciBwYW4gYW5pbWF0aW9ucy4KICovCgpMLlBvc0FuaW1hdGlvbiA9IEwuQ2xhc3MuZXh0ZW5kKHsKCWluY2x1ZGVzOiBMLk1peGluLkV2ZW50cywKCglydW46IGZ1bmN0aW9uIChlbCwgbmV3UG9zLCBkdXJhdGlvbiwgZWFzZUxpbmVhcml0eSkgeyAvLyAoSFRNTEVsZW1lbnQsIFBvaW50WywgTnVtYmVyLCBOdW1iZXJdKQoJCXRoaXMuc3RvcCgpOwoKCQl0aGlzLl9lbCA9IGVsOwoJCXRoaXMuX2luUHJvZ3Jlc3MgPSB0cnVlOwoJCXRoaXMuX25ld1BvcyA9IG5ld1BvczsKCgkJdGhpcy5maXJlKCdzdGFydCcpOwoKCQllbC5zdHlsZVtMLkRvbVV0aWwuVFJBTlNJVElPTl0gPSAnYWxsICcgKyAoZHVyYXRpb24gfHwgMC4yNSkgKwoJCSAgICAgICAgJ3MgY3ViaWMtYmV6aWVyKDAsMCwnICsgKGVhc2VMaW5lYXJpdHkgfHwgMC41KSArICcsMSknOwoKCQlMLkRvbUV2ZW50Lm9uKGVsLCBMLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQsIHRoaXMuX29uVHJhbnNpdGlvbkVuZCwgdGhpcyk7CgkJTC5Eb21VdGlsLnNldFBvc2l0aW9uKGVsLCBuZXdQb3MpOwoKCQkvLyB0b2dnbGUgcmVmbG93LCBDaHJvbWUgZmxpY2tlcnMgZm9yIHNvbWUgcmVhc29uIGlmIHlvdSBkb24ndCBkbyB0aGlzCgkJTC5VdGlsLmZhbHNlRm4oZWwub2Zmc2V0V2lkdGgpOwoKCQkvLyB0aGVyZSdzIG5vIG5hdGl2ZSB3YXkgdG8gdHJhY2sgdmFsdWUgdXBkYXRlcyBvZiB0cmFuc2l0aW9uZWQgcHJvcGVydGllcywgc28gd2UgaW1pdGF0ZSB0aGlzCgkJdGhpcy5fc3RlcFRpbWVyID0gc2V0SW50ZXJ2YWwoTC5iaW5kKHRoaXMuX29uU3RlcCwgdGhpcyksIDUwKTsKCX0sCgoJc3RvcDogZnVuY3Rpb24gKCkgewoJCWlmICghdGhpcy5faW5Qcm9ncmVzcykgeyByZXR1cm47IH0KCgkJLy8gaWYgd2UganVzdCByZW1vdmVkIHRoZSB0cmFuc2l0aW9uIHByb3BlcnR5LCB0aGUgZWxlbWVudCB3b3VsZCBqdW1wIHRvIGl0cyBmaW5hbCBwb3NpdGlvbiwKCQkvLyBzbyB3ZSBuZWVkIHRvIG1ha2UgaXQgc3RheSBhdCB0aGUgY3VycmVudCBwb3NpdGlvbgoKCQlMLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsIHRoaXMuX2dldFBvcygpKTsKCQl0aGlzLl9vblRyYW5zaXRpb25FbmQoKTsKCQlMLlV0aWwuZmFsc2VGbih0aGlzLl9lbC5vZmZzZXRXaWR0aCk7IC8vIGZvcmNlIHJlZmxvdyBpbiBjYXNlIHdlIGFyZSBhYm91dCB0byBzdGFydCBhIG5ldyBhbmltYXRpb24KCX0sCgoJX29uU3RlcDogZnVuY3Rpb24gKCkgewoJCXZhciBzdGVwUG9zID0gdGhpcy5fZ2V0UG9zKCk7CgkJaWYgKCFzdGVwUG9zKSB7CgkJCXRoaXMuX29uVHJhbnNpdGlvbkVuZCgpOwoJCQlyZXR1cm47CgkJfQoJCS8vIGpzaGludCBjYW1lbGNhc2U6IGZhbHNlCgkJLy8gbWFrZSBMLkRvbVV0aWwuZ2V0UG9zaXRpb24gcmV0dXJuIGludGVybWVkaWF0ZSBwb3NpdGlvbiB2YWx1ZSBkdXJpbmcgYW5pbWF0aW9uCgkJdGhpcy5fZWwuX2xlYWZsZXRfcG9zID0gc3RlcFBvczsKCgkJdGhpcy5maXJlKCdzdGVwJyk7Cgl9LAoKCS8vIHlvdSBjYW4ndCBlYXNpbHkgZ2V0IGludGVybWVkaWF0ZSB2YWx1ZXMgb2YgcHJvcGVydGllcyBhbmltYXRlZCB3aXRoIENTUzMgVHJhbnNpdGlvbnMsCgkvLyB3ZSBuZWVkIHRvIHBhcnNlIGNvbXB1dGVkIHN0eWxlIChpbiBjYXNlIG9mIHRyYW5zZm9ybSBpdCByZXR1cm5zIG1hdHJpeCBzdHJpbmcpCgoJX3RyYW5zZm9ybVJlOiAvKFstK10/KD86XGQqXC4pP1xkKylcRCosIChbLStdPyg/OlxkKlwuKT9cZCspXEQqXCkvLAoKCV9nZXRQb3M6IGZ1bmN0aW9uICgpIHsKCQl2YXIgbGVmdCwgdG9wLCBtYXRjaGVzLAoJCSAgICBlbCA9IHRoaXMuX2VsLAoJCSAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTsKCgkJaWYgKEwuQnJvd3Nlci5hbnkzZCkgewoJCQltYXRjaGVzID0gc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STV0ubWF0Y2godGhpcy5fdHJhbnNmb3JtUmUpOwoJCQlpZiAoIW1hdGNoZXMpIHsgcmV0dXJuOyB9CgkJCWxlZnQgPSBwYXJzZUZsb2F0KG1hdGNoZXNbMV0pOwoJCQl0b3AgID0gcGFyc2VGbG9hdChtYXRjaGVzWzJdKTsKCQl9IGVsc2UgewoJCQlsZWZ0ID0gcGFyc2VGbG9hdChzdHlsZS5sZWZ0KTsKCQkJdG9wICA9IHBhcnNlRmxvYXQoc3R5bGUudG9wKTsKCQl9CgoJCXJldHVybiBuZXcgTC5Qb2ludChsZWZ0LCB0b3AsIHRydWUpOwoJfSwKCglfb25UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7CgkJTC5Eb21FdmVudC5vZmYodGhpcy5fZWwsIEwuRG9tVXRpbC5UUkFOU0lUSU9OX0VORCwgdGhpcy5fb25UcmFuc2l0aW9uRW5kLCB0aGlzKTsKCgkJaWYgKCF0aGlzLl9pblByb2dyZXNzKSB7IHJldHVybjsgfQoJCXRoaXMuX2luUHJvZ3Jlc3MgPSBmYWxzZTsKCgkJdGhpcy5fZWwuc3R5bGVbTC5Eb21VdGlsLlRSQU5TSVRJT05dID0gJyc7CgoJCS8vIGpzaGludCBjYW1lbGNhc2U6IGZhbHNlCgkJLy8gbWFrZSBzdXJlIEwuRG9tVXRpbC5nZXRQb3NpdGlvbiByZXR1cm5zIHRoZSBmaW5hbCBwb3NpdGlvbiB2YWx1ZSBhZnRlciBhbmltYXRpb24KCQl0aGlzLl9lbC5fbGVhZmxldF9wb3MgPSB0aGlzLl9uZXdQb3M7CgoJCWNsZWFySW50ZXJ2YWwodGhpcy5fc3RlcFRpbWVyKTsKCgkJdGhpcy5maXJlKCdzdGVwJykuZmlyZSgnZW5kJyk7Cgl9Cgp9KTsKCgovKgogKiBFeHRlbmRzIEwuTWFwIHRvIGhhbmRsZSBwYW5uaW5nIGFuaW1hdGlvbnMuCiAqLwoKTC5NYXAuaW5jbHVkZSh7CgoJc2V0VmlldzogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgb3B0aW9ucykgewoKCQl6b29tID0gem9vbSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fem9vbSA6IHRoaXMuX2xpbWl0Wm9vbSh6b29tKTsKCQljZW50ZXIgPSB0aGlzLl9saW1pdENlbnRlcihMLmxhdExuZyhjZW50ZXIpLCB6b29tLCB0aGlzLm9wdGlvbnMubWF4Qm91bmRzKTsKCQlvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCgkJaWYgKHRoaXMuX3BhbkFuaW0pIHsKCQkJdGhpcy5fcGFuQW5pbS5zdG9wKCk7CgkJfQoKCQlpZiAodGhpcy5fbG9hZGVkICYmICFvcHRpb25zLnJlc2V0ICYmIG9wdGlvbnMgIT09IHRydWUpIHsKCgkJCWlmIChvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCkgewoJCQkJb3B0aW9ucy56b29tID0gTC5leHRlbmQoe2FuaW1hdGU6IG9wdGlvbnMuYW5pbWF0ZX0sIG9wdGlvbnMuem9vbSk7CgkJCQlvcHRpb25zLnBhbiA9IEwuZXh0ZW5kKHthbmltYXRlOiBvcHRpb25zLmFuaW1hdGV9LCBvcHRpb25zLnBhbik7CgkJCX0KCgkJCS8vIHRyeSBhbmltYXRpbmcgcGFuIG9yIHpvb20KCQkJdmFyIGFuaW1hdGVkID0gKHRoaXMuX3pvb20gIT09IHpvb20pID8KCQkJCXRoaXMuX3RyeUFuaW1hdGVkWm9vbSAmJiB0aGlzLl90cnlBbmltYXRlZFpvb20oY2VudGVyLCB6b29tLCBvcHRpb25zLnpvb20pIDoKCQkJCXRoaXMuX3RyeUFuaW1hdGVkUGFuKGNlbnRlciwgb3B0aW9ucy5wYW4pOwoKCQkJaWYgKGFuaW1hdGVkKSB7CgkJCQkvLyBwcmV2ZW50IHJlc2l6ZSBoYW5kbGVyIGNhbGwsIHRoZSB2aWV3IHdpbGwgcmVmcmVzaCBhZnRlciBhbmltYXRpb24gYW55d2F5CgkJCQljbGVhclRpbWVvdXQodGhpcy5fc2l6ZVRpbWVyKTsKCQkJCXJldHVybiB0aGlzOwoJCQl9CgkJfQoKCQkvLyBhbmltYXRpb24gZGlkbid0IHN0YXJ0LCBqdXN0IHJlc2V0IHRoZSBtYXAgdmlldwoJCXRoaXMuX3Jlc2V0VmlldyhjZW50ZXIsIHpvb20pOwoKCQlyZXR1cm4gdGhpczsKCX0sCgoJcGFuQnk6IGZ1bmN0aW9uIChvZmZzZXQsIG9wdGlvbnMpIHsKCQlvZmZzZXQgPSBMLnBvaW50KG9mZnNldCkucm91bmQoKTsKCQlvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCgkJaWYgKCFvZmZzZXQueCAmJiAhb2Zmc2V0LnkpIHsKCQkJcmV0dXJuIHRoaXM7CgkJfQoKCQlpZiAoIXRoaXMuX3BhbkFuaW0pIHsKCQkJdGhpcy5fcGFuQW5pbSA9IG5ldyBMLlBvc0FuaW1hdGlvbigpOwoKCQkJdGhpcy5fcGFuQW5pbS5vbih7CgkJCQknc3RlcCc6IHRoaXMuX29uUGFuVHJhbnNpdGlvblN0ZXAsCgkJCQknZW5kJzogdGhpcy5fb25QYW5UcmFuc2l0aW9uRW5kCgkJCX0sIHRoaXMpOwoJCX0KCgkJLy8gZG9uJ3QgZmlyZSBtb3Zlc3RhcnQgaWYgYW5pbWF0aW5nIGluZXJ0aWEKCQlpZiAoIW9wdGlvbnMubm9Nb3ZlU3RhcnQpIHsKCQkJdGhpcy5maXJlKCdtb3Zlc3RhcnQnKTsKCQl9CgoJCS8vIGFuaW1hdGUgcGFuIHVubGVzcyBhbmltYXRlOiBmYWxzZSBzcGVjaWZpZWQKCQlpZiAob3B0aW9ucy5hbmltYXRlICE9PSBmYWxzZSkgewoJCQlMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwUGFuZSwgJ2xlYWZsZXQtcGFuLWFuaW0nKTsKCgkJCXZhciBuZXdQb3MgPSB0aGlzLl9nZXRNYXBQYW5lUG9zKCkuc3VidHJhY3Qob2Zmc2V0KTsKCQkJdGhpcy5fcGFuQW5pbS5ydW4odGhpcy5fbWFwUGFuZSwgbmV3UG9zLCBvcHRpb25zLmR1cmF0aW9uIHx8IDAuMjUsIG9wdGlvbnMuZWFzZUxpbmVhcml0eSk7CgkJfSBlbHNlIHsKCQkJdGhpcy5fcmF3UGFuQnkob2Zmc2V0KTsKCQkJdGhpcy5maXJlKCdtb3ZlJykuZmlyZSgnbW92ZWVuZCcpOwoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCV9vblBhblRyYW5zaXRpb25TdGVwOiBmdW5jdGlvbiAoKSB7CgkJdGhpcy5maXJlKCdtb3ZlJyk7Cgl9LAoKCV9vblBhblRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uICgpIHsKCQlMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSwgJ2xlYWZsZXQtcGFuLWFuaW0nKTsKCQl0aGlzLmZpcmUoJ21vdmVlbmQnKTsKCX0sCgoJX3RyeUFuaW1hdGVkUGFuOiBmdW5jdGlvbiAoY2VudGVyLCBvcHRpb25zKSB7CgkJLy8gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBuZXcgYW5kIGN1cnJlbnQgY2VudGVycyBpbiBwaXhlbHMKCQl2YXIgb2Zmc2V0ID0gdGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KGNlbnRlcikuX2Zsb29yKCk7CgoJCS8vIGRvbid0IGFuaW1hdGUgdG9vIGZhciB1bmxlc3MgYW5pbWF0ZTogdHJ1ZSBzcGVjaWZpZWQgaW4gb3B0aW9ucwoJCWlmICgob3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGUpICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7IHJldHVybiBmYWxzZTsgfQoKCQl0aGlzLnBhbkJ5KG9mZnNldCwgb3B0aW9ucyk7CgoJCXJldHVybiB0cnVlOwoJfQp9KTsKCgovKgogKiBMLlBvc0FuaW1hdGlvbiBmYWxsYmFjayBpbXBsZW1lbnRhdGlvbiB0aGF0IHBvd2VycyBMZWFmbGV0IHBhbiBhbmltYXRpb25zCiAqIGluIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBDU1MzIFRyYW5zaXRpb25zLgogKi8KCkwuUG9zQW5pbWF0aW9uID0gTC5Eb21VdGlsLlRSQU5TSVRJT04gPyBMLlBvc0FuaW1hdGlvbiA6IEwuUG9zQW5pbWF0aW9uLmV4dGVuZCh7CgoJcnVuOiBmdW5jdGlvbiAoZWwsIG5ld1BvcywgZHVyYXRpb24sIGVhc2VMaW5lYXJpdHkpIHsgLy8gKEhUTUxFbGVtZW50LCBQb2ludFssIE51bWJlciwgTnVtYmVyXSkKCQl0aGlzLnN0b3AoKTsKCgkJdGhpcy5fZWwgPSBlbDsKCQl0aGlzLl9pblByb2dyZXNzID0gdHJ1ZTsKCQl0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDAuMjU7CgkJdGhpcy5fZWFzZU91dFBvd2VyID0gMSAvIE1hdGgubWF4KGVhc2VMaW5lYXJpdHkgfHwgMC41LCAwLjIpOwoKCQl0aGlzLl9zdGFydFBvcyA9IEwuRG9tVXRpbC5nZXRQb3NpdGlvbihlbCk7CgkJdGhpcy5fb2Zmc2V0ID0gbmV3UG9zLnN1YnRyYWN0KHRoaXMuX3N0YXJ0UG9zKTsKCQl0aGlzLl9zdGFydFRpbWUgPSArbmV3IERhdGUoKTsKCgkJdGhpcy5maXJlKCdzdGFydCcpOwoKCQl0aGlzLl9hbmltYXRlKCk7Cgl9LAoKCXN0b3A6IGZ1bmN0aW9uICgpIHsKCQlpZiAoIXRoaXMuX2luUHJvZ3Jlc3MpIHsgcmV0dXJuOyB9CgoJCXRoaXMuX3N0ZXAoKTsKCQl0aGlzLl9jb21wbGV0ZSgpOwoJfSwKCglfYW5pbWF0ZTogZnVuY3Rpb24gKCkgewoJCS8vIGFuaW1hdGlvbiBsb29wCgkJdGhpcy5fYW5pbUlkID0gTC5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fYW5pbWF0ZSwgdGhpcyk7CgkJdGhpcy5fc3RlcCgpOwoJfSwKCglfc3RlcDogZnVuY3Rpb24gKCkgewoJCXZhciBlbGFwc2VkID0gKCtuZXcgRGF0ZSgpKSAtIHRoaXMuX3N0YXJ0VGltZSwKCQkgICAgZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbiAqIDEwMDA7CgoJCWlmIChlbGFwc2VkIDwgZHVyYXRpb24pIHsKCQkJdGhpcy5fcnVuRnJhbWUodGhpcy5fZWFzZU91dChlbGFwc2VkIC8gZHVyYXRpb24pKTsKCQl9IGVsc2UgewoJCQl0aGlzLl9ydW5GcmFtZSgxKTsKCQkJdGhpcy5fY29tcGxldGUoKTsKCQl9Cgl9LAoKCV9ydW5GcmFtZTogZnVuY3Rpb24gKHByb2dyZXNzKSB7CgkJdmFyIHBvcyA9IHRoaXMuX3N0YXJ0UG9zLmFkZCh0aGlzLl9vZmZzZXQubXVsdGlwbHlCeShwcm9ncmVzcykpOwoJCUwuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCwgcG9zKTsKCgkJdGhpcy5maXJlKCdzdGVwJyk7Cgl9LAoKCV9jb21wbGV0ZTogZnVuY3Rpb24gKCkgewoJCUwuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbUlkKTsKCgkJdGhpcy5faW5Qcm9ncmVzcyA9IGZhbHNlOwoJCXRoaXMuZmlyZSgnZW5kJyk7Cgl9LAoKCV9lYXNlT3V0OiBmdW5jdGlvbiAodCkgewoJCXJldHVybiAxIC0gTWF0aC5wb3coMSAtIHQsIHRoaXMuX2Vhc2VPdXRQb3dlcik7Cgl9Cn0pOwoKCi8qCiAqIEV4dGVuZHMgTC5NYXAgdG8gaGFuZGxlIHpvb20gYW5pbWF0aW9ucy4KICovCgpMLk1hcC5tZXJnZU9wdGlvbnMoewoJem9vbUFuaW1hdGlvbjogdHJ1ZSwKCXpvb21BbmltYXRpb25UaHJlc2hvbGQ6IDQKfSk7CgppZiAoTC5Eb21VdGlsLlRSQU5TSVRJT04pIHsKCglMLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7CgkJLy8gZG9uJ3QgYW5pbWF0ZSBvbiBicm93c2VycyB3aXRob3V0IGhhcmR3YXJlLWFjY2VsZXJhdGVkIHRyYW5zaXRpb25zIG9yIG9sZCBBbmRyb2lkL09wZXJhCgkJdGhpcy5fem9vbUFuaW1hdGVkID0gdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24gJiYgTC5Eb21VdGlsLlRSQU5TSVRJT04gJiYKCQkJCUwuQnJvd3Nlci5hbnkzZCAmJiAhTC5Ccm93c2VyLmFuZHJvaWQyMyAmJiAhTC5Ccm93c2VyLm1vYmlsZU9wZXJhOwoKCQkvLyB6b29tIHRyYW5zaXRpb25zIHJ1biB3aXRoIHRoZSBzYW1lIGR1cmF0aW9uIGZvciBhbGwgbGF5ZXJzLCBzbyBpZiBvbmUgb2YgdHJhbnNpdGlvbmVuZCBldmVudHMKCQkvLyBoYXBwZW5zIGFmdGVyIHN0YXJ0aW5nIHpvb20gYW5pbWF0aW9uIChwcm9wYWdhdGluZyB0byB0aGUgbWFwIHBhbmUpLCB3ZSBrbm93IHRoYXQgaXQgZW5kZWQgZ2xvYmFsbHkKCQlpZiAodGhpcy5fem9vbUFuaW1hdGVkKSB7CgkJCUwuRG9tRXZlbnQub24odGhpcy5fbWFwUGFuZSwgTC5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELCB0aGlzLl9jYXRjaFRyYW5zaXRpb25FbmQsIHRoaXMpOwoJCX0KCX0pOwp9CgpMLk1hcC5pbmNsdWRlKCFMLkRvbVV0aWwuVFJBTlNJVElPTiA/IHt9IDogewoKCV9jYXRjaFRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIChlKSB7CgkJaWYgKHRoaXMuX2FuaW1hdGluZ1pvb20gJiYgZS5wcm9wZXJ0eU5hbWUuaW5kZXhPZigndHJhbnNmb3JtJykgPj0gMCkgewoJCQl0aGlzLl9vblpvb21UcmFuc2l0aW9uRW5kKCk7CgkJfQoJfSwKCglfbm90aGluZ1RvQW5pbWF0ZTogZnVuY3Rpb24gKCkgewoJCXJldHVybiAhdGhpcy5fY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xlYWZsZXQtem9vbS1hbmltYXRlZCcpLmxlbmd0aDsKCX0sCgoJX3RyeUFuaW1hdGVkWm9vbTogZnVuY3Rpb24gKGNlbnRlciwgem9vbSwgb3B0aW9ucykgewoKCQlpZiAodGhpcy5fYW5pbWF0aW5nWm9vbSkgeyByZXR1cm4gdHJ1ZTsgfQoKCQlvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCgkJLy8gZG9uJ3QgYW5pbWF0ZSBpZiBkaXNhYmxlZCwgbm90IHN1cHBvcnRlZCBvciB6b29tIGRpZmZlcmVuY2UgaXMgdG9vIGxhcmdlCgkJaWYgKCF0aGlzLl96b29tQW5pbWF0ZWQgfHwgb3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCB0aGlzLl9ub3RoaW5nVG9BbmltYXRlKCkgfHwKCQkgICAgICAgIE1hdGguYWJzKHpvb20gLSB0aGlzLl96b29tKSA+IHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uVGhyZXNob2xkKSB7IHJldHVybiBmYWxzZTsgfQoKCQkvLyBvZmZzZXQgaXMgdGhlIHBpeGVsIGNvb3JkcyBvZiB0aGUgem9vbSBvcmlnaW4gcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgY2VudGVyCgkJdmFyIHNjYWxlID0gdGhpcy5nZXRab29tU2NhbGUoem9vbSksCgkJICAgIG9mZnNldCA9IHRoaXMuX2dldENlbnRlck9mZnNldChjZW50ZXIpLl9kaXZpZGVCeSgxIC0gMSAvIHNjYWxlKSwKCQkJb3JpZ2luID0gdGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpLl9hZGQob2Zmc2V0KTsKCgkJLy8gZG9uJ3QgYW5pbWF0ZSBpZiB0aGUgem9vbSBvcmlnaW4gaXNuJ3Qgd2l0aGluIG9uZSBzY3JlZW4gZnJvbSB0aGUgY3VycmVudCBjZW50ZXIsIHVubGVzcyBmb3JjZWQKCQlpZiAob3B0aW9ucy5hbmltYXRlICE9PSB0cnVlICYmICF0aGlzLmdldFNpemUoKS5jb250YWlucyhvZmZzZXQpKSB7IHJldHVybiBmYWxzZTsgfQoKCQl0aGlzCgkJICAgIC5maXJlKCdtb3Zlc3RhcnQnKQoJCSAgICAuZmlyZSgnem9vbXN0YXJ0Jyk7CgoJCXRoaXMuX2FuaW1hdGVab29tKGNlbnRlciwgem9vbSwgb3JpZ2luLCBzY2FsZSwgbnVsbCwgdHJ1ZSk7CgoJCXJldHVybiB0cnVlOwoJfSwKCglfYW5pbWF0ZVpvb206IGZ1bmN0aW9uIChjZW50ZXIsIHpvb20sIG9yaWdpbiwgc2NhbGUsIGRlbHRhLCBiYWNrd2FyZHMpIHsKCgkJdGhpcy5fYW5pbWF0aW5nWm9vbSA9IHRydWU7CgoJCS8vIHB1dCB0cmFuc2Zvcm0gdHJhbnNpdGlvbiBvbiBhbGwgbGF5ZXJzIHdpdGggbGVhZmxldC16b29tLWFuaW1hdGVkIGNsYXNzCgkJTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXpvb20tYW5pbScpOwoKCQkvLyByZW1lbWJlciB3aGF0IGNlbnRlci96b29tIHRvIHNldCBhZnRlciBhbmltYXRpb24KCQl0aGlzLl9hbmltYXRlVG9DZW50ZXIgPSBjZW50ZXI7CgkJdGhpcy5fYW5pbWF0ZVRvWm9vbSA9IHpvb207CgoJCS8vIGRpc2FibGUgYW55IGRyYWdnaW5nIGR1cmluZyBhbmltYXRpb24KCQlpZiAoTC5EcmFnZ2FibGUpIHsKCQkJTC5EcmFnZ2FibGUuX2Rpc2FibGVkID0gdHJ1ZTsKCQl9CgoJCXRoaXMuZmlyZSgnem9vbWFuaW0nLCB7CgkJCWNlbnRlcjogY2VudGVyLAoJCQl6b29tOiB6b29tLAoJCQlvcmlnaW46IG9yaWdpbiwKCQkJc2NhbGU6IHNjYWxlLAoJCQlkZWx0YTogZGVsdGEsCgkJCWJhY2t3YXJkczogYmFja3dhcmRzCgkJfSk7Cgl9LAoKCV9vblpvb21UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7CgoJCXRoaXMuX2FuaW1hdGluZ1pvb20gPSBmYWxzZTsKCgkJTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsICdsZWFmbGV0LXpvb20tYW5pbScpOwoKCQl0aGlzLl9yZXNldFZpZXcodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLCB0aGlzLl9hbmltYXRlVG9ab29tLCB0cnVlLCB0cnVlKTsKCgkJaWYgKEwuRHJhZ2dhYmxlKSB7CgkJCUwuRHJhZ2dhYmxlLl9kaXNhYmxlZCA9IGZhbHNlOwoJCX0KCX0KfSk7CgoKLyoKCVpvb20gYW5pbWF0aW9uIGxvZ2ljIGZvciBMLlRpbGVMYXllci4KKi8KCkwuVGlsZUxheWVyLmluY2x1ZGUoewoJX2FuaW1hdGVab29tOiBmdW5jdGlvbiAoZSkgewoJCWlmICghdGhpcy5fYW5pbWF0aW5nKSB7CgkJCXRoaXMuX2FuaW1hdGluZyA9IHRydWU7CgkJCXRoaXMuX3ByZXBhcmVCZ0J1ZmZlcigpOwoJCX0KCgkJdmFyIGJnID0gdGhpcy5fYmdCdWZmZXIsCgkJICAgIHRyYW5zZm9ybSA9IEwuRG9tVXRpbC5UUkFOU0ZPUk0sCgkJICAgIGluaXRpYWxUcmFuc2Zvcm0gPSBlLmRlbHRhID8gTC5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhlLmRlbHRhKSA6IGJnLnN0eWxlW3RyYW5zZm9ybV0sCgkJICAgIHNjYWxlU3RyID0gTC5Eb21VdGlsLmdldFNjYWxlU3RyaW5nKGUuc2NhbGUsIGUub3JpZ2luKTsKCgkJYmcuc3R5bGVbdHJhbnNmb3JtXSA9IGUuYmFja3dhcmRzID8KCQkJCXNjYWxlU3RyICsgJyAnICsgaW5pdGlhbFRyYW5zZm9ybSA6CgkJCQlpbml0aWFsVHJhbnNmb3JtICsgJyAnICsgc2NhbGVTdHI7Cgl9LAoKCV9lbmRab29tQW5pbTogZnVuY3Rpb24gKCkgewoJCXZhciBmcm9udCA9IHRoaXMuX3RpbGVDb250YWluZXIsCgkJICAgIGJnID0gdGhpcy5fYmdCdWZmZXI7CgoJCWZyb250LnN0eWxlLnZpc2liaWxpdHkgPSAnJzsKCQlmcm9udC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGZyb250KTsgLy8gQnJpbmcgdG8gZm9yZQoKCQkvLyBmb3JjZSByZWZsb3cKCQlMLlV0aWwuZmFsc2VGbihiZy5vZmZzZXRXaWR0aCk7CgoJCXRoaXMuX2FuaW1hdGluZyA9IGZhbHNlOwoJfSwKCglfY2xlYXJCZ0J1ZmZlcjogZnVuY3Rpb24gKCkgewoJCXZhciBtYXAgPSB0aGlzLl9tYXA7CgoJCWlmIChtYXAgJiYgIW1hcC5fYW5pbWF0aW5nWm9vbSAmJiAhbWFwLnRvdWNoWm9vbS5fem9vbWluZykgewoJCQl0aGlzLl9iZ0J1ZmZlci5pbm5lckhUTUwgPSAnJzsKCQkJdGhpcy5fYmdCdWZmZXIuc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STV0gPSAnJzsKCQl9Cgl9LAoKCV9wcmVwYXJlQmdCdWZmZXI6IGZ1bmN0aW9uICgpIHsKCgkJdmFyIGZyb250ID0gdGhpcy5fdGlsZUNvbnRhaW5lciwKCQkgICAgYmcgPSB0aGlzLl9iZ0J1ZmZlcjsKCgkJLy8gaWYgZm9yZWdyb3VuZCBsYXllciBkb2Vzbid0IGhhdmUgbWFueSB0aWxlcyBidXQgYmcgbGF5ZXIgZG9lcywKCQkvLyBrZWVwIHRoZSBleGlzdGluZyBiZyBsYXllciBhbmQganVzdCB6b29tIGl0IHNvbWUgbW9yZQoKCQl2YXIgYmdMb2FkZWQgPSB0aGlzLl9nZXRMb2FkZWRUaWxlc1BlcmNlbnRhZ2UoYmcpLAoJCSAgICBmcm9udExvYWRlZCA9IHRoaXMuX2dldExvYWRlZFRpbGVzUGVyY2VudGFnZShmcm9udCk7CgoJCWlmIChiZyAmJiBiZ0xvYWRlZCA+IDAuNSAmJiBmcm9udExvYWRlZCA8IDAuNSkgewoKCQkJZnJvbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwoJCQl0aGlzLl9zdG9wTG9hZGluZ0ltYWdlcyhmcm9udCk7CgkJCXJldHVybjsKCQl9CgoJCS8vIHByZXBhcmUgdGhlIGJ1ZmZlciB0byBiZWNvbWUgdGhlIGZyb250IHRpbGUgcGFuZQoJCWJnLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKCQliZy5zdHlsZVtMLkRvbVV0aWwuVFJBTlNGT1JNXSA9ICcnOwoKCQkvLyBzd2l0Y2ggb3V0IHRoZSBjdXJyZW50IGxheWVyIHRvIGJlIHRoZSBuZXcgYmcgbGF5ZXIgKGFuZCB2aWNlLXZlcnNhKQoJCXRoaXMuX3RpbGVDb250YWluZXIgPSBiZzsKCQliZyA9IHRoaXMuX2JnQnVmZmVyID0gZnJvbnQ7CgoJCXRoaXMuX3N0b3BMb2FkaW5nSW1hZ2VzKGJnKTsKCgkJLy9wcmV2ZW50IGJnIGJ1ZmZlciBmcm9tIGNsZWFyaW5nIHJpZ2h0IGFmdGVyIHpvb20KCQljbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKTsKCX0sCgoJX2dldExvYWRlZFRpbGVzUGVyY2VudGFnZTogZnVuY3Rpb24gKGNvbnRhaW5lcikgewoJCXZhciB0aWxlcyA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJyksCgkJICAgIGksIGxlbiwgY291bnQgPSAwOwoKCQlmb3IgKGkgPSAwLCBsZW4gPSB0aWxlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewoJCQlpZiAodGlsZXNbaV0uY29tcGxldGUpIHsKCQkJCWNvdW50Kys7CgkJCX0KCQl9CgkJcmV0dXJuIGNvdW50IC8gbGVuOwoJfSwKCgkvLyBzdG9wcyBsb2FkaW5nIGFsbCB0aWxlcyBpbiB0aGUgYmFja2dyb3VuZCBsYXllcgoJX3N0b3BMb2FkaW5nSW1hZ2VzOiBmdW5jdGlvbiAoY29udGFpbmVyKSB7CgkJdmFyIHRpbGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKSksCgkJICAgIGksIGxlbiwgdGlsZTsKCgkJZm9yIChpID0gMCwgbGVuID0gdGlsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKCQkJdGlsZSA9IHRpbGVzW2ldOwoKCQkJaWYgKCF0aWxlLmNvbXBsZXRlKSB7CgkJCQl0aWxlLm9ubG9hZCA9IEwuVXRpbC5mYWxzZUZuOwoJCQkJdGlsZS5vbmVycm9yID0gTC5VdGlsLmZhbHNlRm47CgkJCQl0aWxlLnNyYyA9IEwuVXRpbC5lbXB0eUltYWdlVXJsOwoKCQkJCXRpbGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aWxlKTsKCQkJfQoJCX0KCX0KfSk7CgoKLyoNCiAqIFByb3ZpZGVzIEwuTWFwIHdpdGggY29udmVuaWVudCBzaG9ydGN1dHMgZm9yIHVzaW5nIGJyb3dzZXIgZ2VvbG9jYXRpb24gZmVhdHVyZXMuDQogKi8NCg0KTC5NYXAuaW5jbHVkZSh7DQoJX2RlZmF1bHRMb2NhdGVPcHRpb25zOiB7DQoJCXdhdGNoOiBmYWxzZSwNCgkJc2V0VmlldzogZmFsc2UsDQoJCW1heFpvb206IEluZmluaXR5LA0KCQl0aW1lb3V0OiAxMDAwMCwNCgkJbWF4aW11bUFnZTogMCwNCgkJZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZQ0KCX0sDQoNCglsb2NhdGU6IGZ1bmN0aW9uICgvKk9iamVjdCovIG9wdGlvbnMpIHsNCg0KCQlvcHRpb25zID0gdGhpcy5fbG9jYXRlT3B0aW9ucyA9IEwuZXh0ZW5kKHRoaXMuX2RlZmF1bHRMb2NhdGVPcHRpb25zLCBvcHRpb25zKTsNCg0KCQlpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbikgew0KCQkJdGhpcy5faGFuZGxlR2VvbG9jYXRpb25FcnJvcih7DQoJCQkJY29kZTogMCwNCgkJCQltZXNzYWdlOiAnR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4nDQoJCQl9KTsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoNCgkJdmFyIG9uUmVzcG9uc2UgPSBMLmJpbmQodGhpcy5faGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZSwgdGhpcyksDQoJCQlvbkVycm9yID0gTC5iaW5kKHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3IsIHRoaXMpOw0KDQoJCWlmIChvcHRpb25zLndhdGNoKSB7DQoJCQl0aGlzLl9sb2NhdGlvbldhdGNoSWQgPQ0KCQkJICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihvblJlc3BvbnNlLCBvbkVycm9yLCBvcHRpb25zKTsNCgkJfSBlbHNlIHsNCgkJCW5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ob25SZXNwb25zZSwgb25FcnJvciwgb3B0aW9ucyk7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXN0b3BMb2NhdGU6IGZ1bmN0aW9uICgpIHsNCgkJaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikgew0KCQkJbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fbG9jYXRpb25XYXRjaElkKTsNCgkJfQ0KCQlpZiAodGhpcy5fbG9jYXRlT3B0aW9ucykgew0KCQkJdGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3ID0gZmFsc2U7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCV9oYW5kbGVHZW9sb2NhdGlvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsNCgkJdmFyIGMgPSBlcnJvci5jb2RlLA0KCQkgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgfHwNCgkJICAgICAgICAgICAgKGMgPT09IDEgPyAncGVybWlzc2lvbiBkZW5pZWQnIDoNCgkJICAgICAgICAgICAgKGMgPT09IDIgPyAncG9zaXRpb24gdW5hdmFpbGFibGUnIDogJ3RpbWVvdXQnKSk7DQoNCgkJaWYgKHRoaXMuX2xvY2F0ZU9wdGlvbnMuc2V0VmlldyAmJiAhdGhpcy5fbG9hZGVkKSB7DQoJCQl0aGlzLmZpdFdvcmxkKCk7DQoJCX0NCg0KCQl0aGlzLmZpcmUoJ2xvY2F0aW9uZXJyb3InLCB7DQoJCQljb2RlOiBjLA0KCQkJbWVzc2FnZTogJ0dlb2xvY2F0aW9uIGVycm9yOiAnICsgbWVzc2FnZSArICcuJw0KCQl9KTsNCgl9LA0KDQoJX2hhbmRsZUdlb2xvY2F0aW9uUmVzcG9uc2U6IGZ1bmN0aW9uIChwb3MpIHsNCgkJdmFyIGxhdCA9IHBvcy5jb29yZHMubGF0aXR1ZGUsDQoJCSAgICBsbmcgPSBwb3MuY29vcmRzLmxvbmdpdHVkZSwNCgkJICAgIGxhdGxuZyA9IG5ldyBMLkxhdExuZyhsYXQsIGxuZyksDQoNCgkJICAgIGxhdEFjY3VyYWN5ID0gMTgwICogcG9zLmNvb3Jkcy5hY2N1cmFjeSAvIDQwMDc1MDE3LA0KCQkgICAgbG5nQWNjdXJhY3kgPSBsYXRBY2N1cmFjeSAvIE1hdGguY29zKEwuTGF0TG5nLkRFR19UT19SQUQgKiBsYXQpLA0KDQoJCSAgICBib3VuZHMgPSBMLmxhdExuZ0JvdW5kcygNCgkJICAgICAgICAgICAgW2xhdCAtIGxhdEFjY3VyYWN5LCBsbmcgLSBsbmdBY2N1cmFjeV0sDQoJCSAgICAgICAgICAgIFtsYXQgKyBsYXRBY2N1cmFjeSwgbG5nICsgbG5nQWNjdXJhY3ldKSwNCg0KCQkgICAgb3B0aW9ucyA9IHRoaXMuX2xvY2F0ZU9wdGlvbnM7DQoNCgkJaWYgKG9wdGlvbnMuc2V0Vmlldykgew0KCQkJdmFyIHpvb20gPSBNYXRoLm1pbih0aGlzLmdldEJvdW5kc1pvb20oYm91bmRzKSwgb3B0aW9ucy5tYXhab29tKTsNCgkJCXRoaXMuc2V0VmlldyhsYXRsbmcsIHpvb20pOw0KCQl9DQoNCgkJdmFyIGRhdGEgPSB7DQoJCQlsYXRsbmc6IGxhdGxuZywNCgkJCWJvdW5kczogYm91bmRzLA0KCQkJdGltZXN0YW1wOiBwb3MudGltZXN0YW1wDQoJCX07DQoNCgkJZm9yICh2YXIgaSBpbiBwb3MuY29vcmRzKSB7DQoJCQlpZiAodHlwZW9mIHBvcy5jb29yZHNbaV0gPT09ICdudW1iZXInKSB7DQoJCQkJZGF0YVtpXSA9IHBvcy5jb29yZHNbaV07DQoJCQl9DQoJCX0NCg0KCQl0aGlzLmZpcmUoJ2xvY2F0aW9uZm91bmQnLCBkYXRhKTsNCgl9DQp9KTsNCgoKfSh3aW5kb3csIGRvY3VtZW50KSk7');
});